!function(){"use strict";try{if("undefined"!=typeof document){var o=document.createElement("style");o.appendChild(document.createTextNode('@charset "UTF-8";:root{--font-base: "graphr", sans-serif;--font-bold: "graphb", sans-serif;--text-color: #000;--text-primary: #222222;--text-secondary: #555555;--text-tertiary: #888888;--background-color: #fff;--background-color2: #f2f2f2;--bg-highlight: #f5f8fa;--bg-secondary: #f8f9fa;--bg-input: #ffffff;--border-color: #ddd;--border-color2: white;--border: #e1e8ed;--accent-color: #555555;--accent: #555555;--accent-rgb: 32, 178, 170;--accent-light: rgba(32, 178, 170, .1);--accent-hover: #555555;--success: #34d399;--success-rgb: 52, 211, 153;--warning: #fbbf24;--warning-rgb: 251, 191, 36;--error: #f87171;--error-rgb: 248, 113, 113;--error-light: rgba(248, 113, 113, .1);--info: #60a5fa;--info-rgb: 96, 165, 250;--overlay-color: rgba(0, 0, 0, .5);--shadow: 0 2px 8px rgba(0, 0, 0, .1);--shadow-hover: 0 5px 15px rgba(0, 0, 0, .15);--modal-bg: #ffffff;--modal-bg-rgb: 255, 255, 255;--modal-bg-end-rgb: 240, 240, 240;--modal-border: rgba(0, 0, 0, .15);--input-bg: #f8f8f8;--svg-color: %23000000;--gradient-start: #333333;--gradient-end: #666666;--page-bg-avif: url(/pics/background.avif);--page-bg-webp: url(/pics/background.webp);--page-bg-jpg: url(/pics/background.jpg);--transition-fast: .2s ease;--transition-normal: .3s ease;--transition-slow: .5s ease;--radius-sm: 4px;--radius-md: 8px;--radius-lg: 12px;--radius-xl: 16px;--radius-full: 9999px;--scrollbar-width: 8px;--scrollbar-track: #f1f1f1;--scrollbar-thumb: #c1c1c1;--scrollbar-thumb-hover: #a1a1a1}[data-theme=dark]{--text-color: #e0e0e0;--text-primary: #e0e0e0;--text-secondary: #b0b0b0;--text-tertiary: #808080;--background-color: #1e1e1e;--background-color2: #333333;--bg-highlight: #2a2a2a;--bg-secondary: #292929;--bg-input: #252525;--border-color: #555;--border-color2: black;--border: rgba(255, 255, 255, .1);--accent-color: #333333;--accent: #333333;--accent-rgb: 187, 134, 252;--accent-light: rgba(187, 134, 252, .1);--accent-hover: #333333;--overlay-color: rgba(255, 255, 255, .5);--shadow: 0 2px 8px rgba(0, 0, 0, .3);--shadow-hover: 0 5px 15px rgba(0, 0, 0, .4);--modal-bg: #2a2a2a;--modal-bg-rgb: 42, 42, 42;--modal-bg-end-rgb: 60, 60, 65;--modal-border: rgba(255, 255, 255, .2);--input-bg: #222222;--svg-color: %23ffffff;--gradient-start: #ffffff;--gradient-end: #a0a0a0;--page-bg-avif: url(/pics/backgroundblack.avif);--page-bg-webp: url(/pics/backgroundblack.webp);--page-bg-jpg: url(/pics/backgroundblack.jpg);--scrollbar-track: #2a2a2a;--scrollbar-thumb: #444444;--scrollbar-thumb-hover: #555555}::-webkit-scrollbar{width:var(--scrollbar-width);height:var(--scrollbar-width)}::-webkit-scrollbar-track{background:var(--scrollbar-track);border-radius:var(--radius-full)}::-webkit-scrollbar-thumb{background:var(--scrollbar-thumb);border-radius:var(--radius-full)}::-webkit-scrollbar-thumb:hover{background:var(--scrollbar-thumb-hover)}*{scrollbar-width:thin;scrollbar-color:var(--scrollbar-thumb) var(--scrollbar-track)}*,*:after,*:before{padding:0;margin:0;box-sizing:border-box}html,body{font-size:10px;color:var(--text-color);background-color:var(--background-color);font-family:var(--font-base)}h1,h2,h3,h4,h5,h6{font-family:var(--font-bold);color:var(--text-primary)}._page_11jsk_174{max-width:2000px;min-height:100vh;display:flex;align-items:center;justify-content:center;margin:0 auto;background-color:var(--background-color);background-image:var(--page-bg-jpg);background-size:cover;background-position:center;background-repeat:no-repeat;position:relative;transition:all var(--transition-slow);overflow:hidden;background-attachment:fixed}@supports (background-image: url(/pics/test.avif)){._page_11jsk_174{background-image:var(--page-bg-avif)}}@supports not (background-image: url(/pics/test.avif)){@supports (background-image: url(/pics/test.webp)){._page_11jsk_174{background-image:var(--page-bg-webp)}}}img{vertical-align:top}button{border:none;cursor:pointer;transition:all var(--transition-fast)}a{text-decoration:none;color:var(--accent);transition:color var(--transition-fast)}._card_11jsk_225{background-color:var(--bg-secondary);border-radius:var(--radius-md);box-shadow:var(--shadow);padding:20px;border:1px solid var(--border);transition:all var(--transition-fast)}._btn_11jsk_234{display:inline-flex;align-items:center;justify-content:center;padding:8px 16px;border-radius:var(--radius-md);font-size:14px;font-weight:500;transition:all var(--transition-fast)}._btn-primary_11jsk_245{background-color:var(--accent);color:#fff}._btn-primary_11jsk_245:hover{background-color:var(--accent-hover)}._btn-secondary_11jsk_254{background-color:var(--bg-highlight);color:var(--text-primary);border:1px solid var(--border)}._btn-secondary_11jsk_254:hover{background-color:var(--background-color2)}@font-face{font-family:graphb;src:url(/soulcycle/assets/fonts/GraphikLCG-Bold.oGnNkPcM.woff2) format("woff2");font-weight:700;font-style:normal;font-display:swap}@font-face{font-family:graphr;src:url(/soulcycle/assets/fonts/GraphikLCG-Regular.BteGvBxa.woff2) format("woff2");font-weight:400;font-style:normal;font-display:swap}._text-animation_11jsk_284{display:inline-block}._text-animation_11jsk_284 span{display:inline-block;opacity:0;transform:translateY(20px);animation:_fadeIn_11jsk_1 .5s ease forwards}._text-animation-slow_11jsk_295 span{animation:_fadeIn_11jsk_1 1.2s ease forwards}@keyframes _fadeIn_11jsk_1{to{opacity:1;transform:translateY(0)}}._window_19irw_2{height:75vh;position:relative;background-color:var(--background-color);border-radius:5px;display:flex;align-items:center;overflow:hidden;transition:width .3s,height .3s;z-index:1!important}._window__message_19irw_13{position:absolute;left:35%;top:50%;text-transform:uppercase;color:var(--text-color)}._window__message_19irw_13 h2{font-size:clamp(3rem,3vw,3rem)}._window__panel_19irw_23{position:absolute;min-height:80vh;max-width:200px!important;display:flex;flex-direction:column;align-items:center;justify-content:center;border-right:2px solid var(--border-color);z-index:5!important;background-color:var(--background-color)}._window__panel__iconWrapper_19irw_35{display:flex;flex-direction:column;gap:50px;z-index:5!important}._window__panel__navButtons_19irw_41{display:flex;flex-direction:column;gap:20px;z-index:5!important}._window__panel__navButtons__navButton_19irw_47{background:none;border:none;color:var(--text-color);z-index:5!important}._window__panel__navButtons__navButton__arrow_19irw_53{background:none;border:none;fill:var(--text-color);z-index:5!important}._window__message_19irw_13{display:flex;align-items:center;justify-content:center}._disabled_19irw_65{fill:#a9a9a9;opacity:.5;pointer-events:none}@media only screen and (max-width: 760px){._window_19irw_2{top:-20px;flex-direction:column;max-width:93%;height:85vh}._window__panel_19irw_23{position:absolute;rotate:90deg;gap:20px;top:-42.5%}._window__panel__iconWrapper_19irw_35,._window__panel__navButtons_19irw_41{gap:10px}._window__message_19irw_13{left:5%;font-size:2.5rem}}._menu_15kr5_2{width:100%;height:100%;display:flex;align-items:center;justify-content:center;gap:7%;background-color:#fffefe;position:relative;z-index:1;overflow:hidden}._menu__left_15kr5_14{max-width:500px;min-height:100px;display:flex;flex-direction:column;gap:100px;align-items:center;justify-content:center;aspect-ratio:1/1}._menu__left__pic_15kr5_24{max-width:500px;min-height:70px;aspect-ratio:1/1}._menu__left__pic_15kr5_24 img{width:100%;height:100%;object-fit:contain;display:block}._menu__right_15kr5_35{max-width:500px;min-height:100px;display:flex;flex-direction:column;gap:60px;padding:20px 80px;align-items:center;justify-content:center;background-color:#fff;border-radius:10px;border:2px solid black}[data-theme=dark] ._menu__right_15kr5_35{background-color:#000;border:2px solid white}._menu__right__titleblock_15kr5_52{width:100%;display:flex;flex-direction:column;gap:50px;align-items:center;justify-content:center}._menu__right__titleblock__fullname_15kr5_60{font-size:2rem}._menu__right__titleblock__maininfo_15kr5_63{display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:1.8rem;gap:10px}._menu__right__lore_15kr5_71{font-size:1.6rem;max-width:120px;min-height:30px;padding:20px 10px}._menu_15kr5_2[id=faust]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-image:url(/soulcycle/pics/char/backgrounds/faustb.svg);z-index:-1;filter:blur(2.5px)}[data-theme=dark] ._menu_15kr5_2[id=faust]:before{background-image:url(/soulcycle/pics/char/backgrounds/faustb-black.svg)}._menu_15kr5_2[id=lonarius]:before{content:"";position:absolute;width:100%;height:100%;background-image:url(/soulcycle/pics/char/backgrounds/lonariusb.svg);background-repeat:no-repeat;background-position:center;background-size:cover;z-index:-1;filter:blur(1.5px)}[data-theme=dark] ._menu_15kr5_2[id=lonarius]:before{background-image:url(/soulcycle/pics/char/backgrounds/lonariusb-black.svg);background-size:cover}._menu_15kr5_2[id=vivian]:before{content:"";position:absolute;width:100%;height:100%;background-image:url(/soulcycle/pics/char/backgrounds/vivianb.svg);z-index:-1;filter:blur(1.5px)}[data-theme=dark] ._menu_15kr5_2[id=vivian]:before{content:"";background-image:url(/soulcycle/pics/char/backgrounds/vivianb-black.svg);position:absolute;width:100%;height:100%;z-index:-1;filter:blur(1.5px)}._menu_15kr5_2[id=akito]:before{content:"";position:absolute;width:100%;height:100%;background-image:url(/soulcycle/pics/char/backgrounds/akitob2.svg);background-color:#fff;background-repeat:no-repeat;background-position:center;background-size:cover;z-index:-1;filter:blur(1.5px)}[data-theme=dark] ._menu_15kr5_2[id=akito]:before{content:"";background-image:url(/soulcycle/pics/char/backgrounds/akitob2.svg);position:absolute;width:100%;height:100%;z-index:-1;filter:blur(1.5px)}@media only screen and (max-width: 760px){._menu_15kr5_2{flex-direction:column;gap:50px}._menu__left_15kr5_14{max-width:320px!important;padding-top:40px}._menu__right_15kr5_35{max-width:300px!important;padding:20px;gap:20px}._menu__right__titleblock_15kr5_52{gap:20px}}@media (min-width: 761px) and (max-width: 1024px) and (orientation: portrait){._menu_15kr5_2{flex-direction:column}._menu__left_15kr5_14{max-width:500px!important;padding-top:40px;padding-left:3%}._menu__right_15kr5_35{max-width:350px!important;padding:20px 40px;gap:20px}._menu__right__titleblock_15kr5_52{gap:20px}}._button_1jwbf_1{position:relative;transition:all .3s ease-in-out;box-shadow:0 10px 20px rgba(0,0,0,.2);padding-block:.5rem;padding-inline:1.25rem;background-color:#000;border-radius:9999px;display:flex;align-items:center;justify-content:center;cursor:pointer;color:#fff!important;gap:10px;font-weight:700;border:3px solid rgba(255,255,255,.3019607843);outline:none;overflow:hidden;font-size:15px}._button_1jwbf_1:hover{transform:scale(1.05);border-color:rgba(255,255,255,.6)}._button_1jwbf_1:before{content:"";position:absolute;width:100px;height:100%;background-image:linear-gradient(120deg,rgba(255,255,255,0) 30%,rgba(255,255,255,.8),rgba(255,255,255,0) 70%);top:0;left:-100px;opacity:.6}._button_1jwbf_1:hover:before{animation:_shine_1jwbf_1 1.5s ease-out infinite}._icon_1jwbf_39{width:24px;height:24px;transition:all .3s ease-in-out}._button_1jwbf_1:hover ._icon_1jwbf_39{transform:translate(4px)}@keyframes _shine_1jwbf_1{0%{left:-100px}60%{left:100%}to{left:100%}}._modalOverlay_1iw7e_2{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.5);display:flex;justify-content:center;align-items:center;z-index:1000;padding:5px}._modalOverlay__content_1iw7e_15{background-color:var(--background-color);color:var(--text-color);padding:20px;border-radius:8px;max-width:1100px;width:100%;position:relative;z-index:1001;display:flex;flex-direction:column;align-items:center;border:2px solid var(--border-color)}._modalOverlay__closeButton_1iw7e_29{position:absolute;top:10px;right:10px;background:none;border:none;cursor:pointer;transition:.4s ease;fill:var(--text-color)}._modalOverlay__closeButton_1iw7e_29:hover{fill:red}._modalOverlay__textContent_1iw7e_42{display:flex;flex-direction:column;align-items:center;gap:30px}._modalOverlay__navigation_1iw7e_48{display:flex;justify-content:space-between;align-items:center;width:100%}._modalOverlay__arrowRight_1iw7e_54,._modalOverlay__arrowLeft_1iw7e_54{position:absolute;bottom:2%;font-size:3rem;background:none;fill:var(--text-color)}._modalOverlay__arrowRight_1iw7e_54{right:2%}._modalOverlay__arrowLeft_1iw7e_54{left:2%}._modalOverlay__title_1iw7e_67{text-transform:uppercase;font-size:2rem;color:var(--text-color);position:relative}._modalOverlay__title_1iw7e_67:after{content:"";display:block;width:100%;height:4px;background:var(--border-color);position:absolute;bottom:-5px;left:0;transform:scaleX(0);animation:_appear_1iw7e_1 .5s forwards;animation-delay:.2s}._modalOverlay__textBlock_1iw7e_86{min-height:500px}._modalOverlay__textBlock__textCont_1iw7e_89{display:flex;flex-direction:column;gap:20px;font-size:1.65rem;line-height:110%;color:var(--text-color);transition:opacity .3s ease-in-out}._modalOverlay__textBlock__textCont_1iw7e_89 span{filter:blur(4px)}._modalOverlay__textBlock__textCont_1iw7e_89 blockquote{color:var(--accent-color)}._modalOverlay__pageIndicator_1iw7e_104{font-size:1.5rem;color:var(--text-color);position:absolute;bottom:3%}@keyframes _appear_1iw7e_1{to{transform:scaleX(1)}}._fadeIn_1iw7e_116{opacity:1}._fadeOut_1iw7e_120{opacity:0}._disabled_1iw7e_124{fill:#a9a9a9;opacity:.5;pointer-events:none}@media only screen and (max-width: 760px){._modalOverlay__textContent_1iw7e_42{min-height:650px}}._btn_2wi9v_2{max-width:78px;min-height:78px;display:flex;align-items:center;justify-content:center;background-color:var(--background-color);aspect-ratio:1;background:none;border:none;cursor:pointer;padding:0;transition:transform .2s ease}._btn_2wi9v_2:hover{transform:scale(1.1)}._btn__pic_2wi9v_19{width:100%;height:100%;display:block;transition:filter .3s ease}._btn__pic_2wi9v_19 img{width:100%;height:100%;object-fit:contain}._btn__pic_2wi9v_19._darkTheme_2wi9v_30{filter:invert(1) brightness(1.5)}hr{height:3px;background-color:var(--border-color)}._icon_2wi9v_39 img{content:attr(data-light)}[data-theme=dark] ._icon_2wi9v_39 img{content:attr(data-dark)}@media only screen and (max-width: 760px){._btn_2wi9v_2{rotate:270deg;max-width:60px;min-height:60px}}._aboutblock_16ydj_2{max-width:100%;min-height:500px;background-color:var(--background-color);color:var(--text-color);display:flex;align-items:center;justify-content:center;flex-direction:column;gap:30px;border-radius:5px;padding:2%}._aboutblock__header_16ydj_15{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:10px}._aboutblock__header__htitle_16ydj_22{font-family:graphb;font-size:clamp(2rem,2vw,3rem);color:var(--text-color)}._aboutblock__header__textblock_16ydj_27{width:100%;display:flex;flex-direction:column;gap:10px;align-items:center;justify-content:center;font-size:clamp(1.4rem,.9vw,3rem);position:relative;color:var(--text-color)}._aboutblock__header__textblock__text_16ydj_38{display:flex;align-items:center;justify-content:center;gap:5px}._aboutblock__header__textblock__text__icon_16ydj_44{transform:translateY(-5px)}._aboutblock__header__textblock__text__icon__main_16ydj_47{animation:_wiggle_16ydj_1 1.5s infinite ease-in-out;transform-origin:center}._aboutblock__header__textblock__text__icon__small_16ydj_51{animation:_float_16ydj_1 2s infinite ease-in-out;transform-origin:center}._aboutblock__main_16ydj_55{width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:20px}._aboutblock__main__btitle_16ydj_63,._aboutblock__main__dtitle_16ydj_63{font-family:graphb;font-size:clamp(2rem,2vw,3rem);color:var(--text-color)}._aboutblock__main__authors_16ydj_68,._aboutblock__main__developers_16ydj_68{width:100%;display:flex;gap:10%;border:1px solid var(--border-color);background-color:var(--background-color);color:var(--text-color)}@keyframes _float_16ydj_1{0%,to{transform:translate(0)}50%{transform:translate(2px,-2px)}}@keyframes _wiggle_16ydj_1{0%,to{transform:rotate(0)}50%{transform:rotate(2deg)}}._member_1dq4u_2{position:relative;display:flex;align-items:center;padding:20px;border:1px solid var(--border-color);border-radius:15px;width:100%;max-width:300px;min-height:80px;overflow:hidden;background-color:var(--background-color2);transition:all .3s ease;backdrop-filter:blur(10px)}._member_1dq4u_2:hover{transform:translateY(-5px);box-shadow:0 10px 20px rgba(0,0,0,.1)}._member__imageWrapper_1dq4u_21{position:relative;width:60px;height:60px;overflow:hidden;border-radius:50%;background:var(--background-color2)}._member__image_1dq4u_21{width:100%;height:100%;object-fit:cover;border-radius:50%}._member__info_1dq4u_35{display:flex;flex-direction:column;justify-content:center;align-items:flex-start;gap:5px;flex:1;padding-left:20px}._member__info__details_1dq4u_44{display:flex;flex-direction:column;gap:2px}._member__info__details__name_1dq4u_49{font-size:1.4rem;margin:0;color:var(--text-color);position:relative;display:inline-block;font-weight:600;letter-spacing:.5px;width:fit-content}._member__info__details__name_1dq4u_49:after{content:"";position:absolute;bottom:-2px;left:0;width:100%;height:1px;background:var(--text-color);transform:scaleX(0);transform-origin:right;transition:transform .3s ease}._member__info__details__name_1dq4u_49:hover:after{transform:scaleX(1);transform-origin:left}._member__info__details__role_1dq4u_75{font-size:1.2rem;color:var(--text-color);opacity:.8;font-style:italic}._member__info__bio_1dq4u_81{font-size:1.4rem;color:var(--text-color)}._member--igor_1dq4u_85:before{content:"✧";position:absolute;top:10px;right:10px;font-size:1.5rem;color:var(--text-color);opacity:.8;animation:_rotate_1dq4u_1 4s linear infinite}._member--lesya_1dq4u_95:before{content:"♥";position:absolute;top:10px;right:10px;font-size:1.5rem;color:var(--text-color);opacity:.8;animation:_float_1dq4u_1 2s infinite}.dark ._member_1dq4u_2{background-color:var(--background-color2);border-color:var(--border-color);box-shadow:0 5px 15px rgba(0,0,0,.2)}.dark ._member_1dq4u_2:hover{box-shadow:0 10px 25px rgba(0,0,0,.3)}@media (max-width: 768px){._member_1dq4u_2{padding:15px;min-height:70px;max-width:100%}._member__imageWrapper_1dq4u_21{width:50px;height:50px}._member__info_1dq4u_35{padding-left:15px}._member__info__details__name_1dq4u_49{font-size:1.2rem}._member__info__details__role_1dq4u_75{font-size:1rem}._member__info__bio_1dq4u_81{font-size:1.2rem}._member--igor_1dq4u_85:before,._member--lesya_1dq4u_95:before{font-size:1.3rem;top:8px;right:8px}}@media (max-width: 480px){._member_1dq4u_2{padding:12px;min-height:60px}._member__imageWrapper_1dq4u_21{width:45px;height:45px}._member__info_1dq4u_35{padding-left:12px}._member__info__details__name_1dq4u_49{font-size:1.1rem}._member__info__details__role_1dq4u_75{font-size:.9rem}._member__info__bio_1dq4u_81{font-size:1.1rem}._member--igor_1dq4u_85:before,._member--lesya_1dq4u_95:before{font-size:1.2rem;top:6px;right:6px}}@keyframes _float_1dq4u_1{0%,to{transform:translateY(0)}50%{transform:translateY(-5px)}}@keyframes _rotate_1dq4u_1{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _borderRotate_1dq4u_1{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _blink_1dq4u_1{0%,to{opacity:.5}50%{opacity:1}}._button_7ekxc_1{font-family:graphb;background:var(--text-color);color:var(--background-color);font-size:20px;border:none;border-radius:.7em;letter-spacing:.08em;position:relative;display:flex;align-content:center;align-items:center;overflow:hidden;height:2.5em;padding:.35em .92em .35em 2.8em;z-index:1}._button_7ekxc_1 ._icon_7ekxc_21{background:var(--background-color);height:2em;width:2em;border-radius:2em;position:absolute;display:flex;align-items:center;justify-content:center;left:.4em;transition:all .5s}._icon_7ekxc_21 svg{margin-left:.1em;transition:all .5s;color:var(--text-color);width:2.5rem;height:2.5rem;position:absolute;right:18%}._button_7ekxc_1:hover ._icon_7ekxc_21 svg{transform:rotate(360deg);right:40%}._button_7ekxc_1:hover ._icon_7ekxc_21{width:calc(100% - 1.5rem);border-radius:.5em}@media only screen and (max-width: 760px){._button_7ekxc_1{left:-8%;top:94%;scale:.6}}@media (min-width: 761px) and (max-width: 1024px) and (orientation: portrait){._button_7ekxc_1{left:76%;top:93%}}._main_3pv45_1{max-width:1500px;width:100%;min-height:100vh;position:relative;display:flex;flex-direction:column;gap:20px;padding:1% 6%;background:rgba(255,255,255,.85);backdrop-filter:blur(5px);-webkit-backdrop-filter:blur(5px);border-radius:12px;box-shadow:0 8px 32px rgba(0,0,0,.1);border:1px solid rgba(255,255,255,.2)}._main_3pv45_1:before{content:"";position:absolute;top:0;right:0;bottom:0;left:0;background:linear-gradient(135deg,rgba(255,255,255,.2),rgba(255,255,255,0));border-radius:12px;pointer-events:none}[data-theme=dark] ._main_3pv45_1{background:rgba(20,18,18,.85);box-shadow:0 8px 32px rgba(0,0,0,.25);border:1px solid rgba(255,255,255,.1)}[data-theme=dark] ._main_3pv45_1:before{background:linear-gradient(135deg,rgba(50,50,70,.3),rgba(10,10,20,0))}._main__header_3pv45_35{max-width:200px;display:flex;gap:10px;align-items:end}._main__header__pic_3pv45_41{max-width:80px;min-height:80px;aspect-ratio:1;display:flex;align-items:center;justify-content:center;transition:filter .3s ease}._main__header__pic_3pv45_41 img{width:100%;height:100%;object-fit:contain}._main__header__pic_3pv45_41._darkTheme_3pv45_55{filter:invert(.8) brightness(1.5) hue-rotate(180deg)}._main__header__title_3pv45_58{font-size:2rem;color:var(--text-color)}._main__header__logo_3pv45_62{max-width:160px;height:auto;object-fit:contain;margin-right:1rem}._main__nav_3pv45_68{display:flex;justify-content:space-between;align-items:center;position:relative}._main__nav__perexod_3pv45_74{display:flex;gap:20px;list-style:none;font-size:clamp(2rem,2vw,3rem);font-family:var(--font-bold)}._main__nav__perexod__link_3pv45_81 a{color:var(--text-color)}._main__nav__auth_3pv45_84{display:flex;align-items:center}._main__nav__burger_3pv45_88{display:none;flex-direction:column;justify-content:space-between;width:30px;height:25px;cursor:pointer;z-index:1001;padding:0;background:none;border:none;transition:all .3s ease}._main__nav__burger__line_3pv45_101{width:100%;height:2px;background:var(--text-color, #333);transition:all .3s cubic-bezier(.4,0,.2,1);transform-origin:left center}[data-theme=light] ._main__nav__burger__line_3pv45_101{background:#333}[data-theme=dark] ._main__nav__burger__line_3pv45_101{background:#fff}._main__nav__burger_3pv45_88._open_3pv45_114 ._main__nav__burger__line_3pv45_101:first-child{transform:rotate(45deg)}._main__nav__burger_3pv45_88._open_3pv45_114 ._main__nav__burger__line_3pv45_101:nth-child(2){opacity:0}._main__nav__burger_3pv45_88._open_3pv45_114 ._main__nav__burger__line_3pv45_101:last-child{transform:rotate(-45deg)}._main__nav__mobile_3pv45_123{position:fixed;top:0;right:-100%;width:80%;max-width:300px;height:100vh;background:var(--bg-primary);z-index:1000;padding:80px 20px 20px;transition:right .3s cubic-bezier(.4,0,.2,1);box-shadow:-5px 0 15px rgba(0,0,0,.1);border-left:1px solid var(--border)}[data-theme=dark] ._main__nav__mobile_3pv45_123{background:#1e1e23;border-left:1px solid rgba(255,255,255,.1);box-shadow:-5px 0 15px rgba(0,0,0,.3)}._main__nav__mobile_3pv45_123._open_3pv45_114{right:0}._main__nav__mobile__list_3pv45_145{list-style:none;padding:0;margin:0}._main__nav__mobile__list__item_3pv45_150{margin-bottom:15px}._main__nav__mobile__list__item_3pv45_150 a{display:block;padding:12px 15px;color:var(--text-primary);text-decoration:none;font-size:16px;border-radius:8px;transition:all .2s ease}._main__nav__mobile__list__item_3pv45_150 a:hover{background:var(--bg-highlight);color:var(--accent)}@media (max-width: 768px){._main_3pv45_1{padding:1% 4%}._main__nav__perexod_3pv45_74{display:none}._main__nav__burger_3pv45_88{display:flex;margin-right:10px}._main__nav__auth_3pv45_84{margin-left:auto}}._characters_3pv45_182{display:flex;justify-content:center;align-items:center;width:100%}._homepage_3pv45_189{max-width:800px;margin:0 auto;padding:20px}._loading_3pv45_195,._error_3pv45_195{display:flex;justify-content:center;align-items:center;height:200px;font-size:18px;color:var(--text-primary)}._error_3pv45_195{color:#e74c3c}._postsList_3pv45_208{display:flex;flex-direction:column;gap:20px}._postCard_3pv45_214{background-color:var(--bg-secondary);border-radius:8px;padding:20px;box-shadow:0 2px 10px rgba(0,0,0,.1)}._postTitle_3pv45_221{font-size:22px;margin-bottom:10px;color:var(--text-primary)}._postMeta_3pv45_227{display:flex;justify-content:space-between;margin-bottom:15px;font-size:14px;color:var(--text-secondary)}._postImage_3pv45_235{margin-bottom:15px}._postImage_3pv45_235 img{width:100%;max-height:400px;object-fit:cover;border-radius:4px}._postContent_3pv45_245{color:var(--text-primary);line-height:1.5;white-space:pre-wrap}._noPostsMessage_3pv45_251{text-align:center;color:var(--text-secondary);padding:40px 0}._perkBase_zmtxl_18{font-weight:600!important;font-size:inherit!important;line-height:inherit!important;font-family:inherit!important;letter-spacing:inherit!important;display:inline-block!important}._sponsorPerk_zmtxl_27{color:var(--sponsor-color)!important;text-shadow:0 0 5px var(--sponsor-shadow-color)!important}._earlyUserPerk_zmtxl_33{color:var(--early-user-color)!important;text-shadow:0 0 5px var(--early-user-shadow-color)!important}._adminPerk_zmtxl_39{color:var(--admin-color)!important;text-shadow:0 0 5px var(--admin-shadow-color)!important}._userPerk_zmtxl_45{color:var(--user-color)!important;text-shadow:none!important}._authContainer_zmtxl_51{position:relative;z-index:10}._loginButton_zmtxl_56{background:linear-gradient(90deg,#666,#444);color:#fff;border:none;padding:10px 20px;border-radius:30px;font-size:1.2rem;font-weight:600;cursor:pointer;transition:all .3s;box-shadow:0 4px 10px rgba(0,0,0,.2);position:relative;overflow:hidden;display:flex;align-items:center;justify-content:center;gap:8px;letter-spacing:.5px}._loginButton_zmtxl_56:hover{transform:translateY(-2px);box-shadow:0 6px 15px rgba(0,0,0,.3);background:linear-gradient(90deg,#777,#555)}._loginButton_zmtxl_56:before{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:linear-gradient(45deg,transparent,rgba(255,255,255,.2),transparent);transform:rotate(45deg);transition:all .5s;opacity:0}._loginButton_zmtxl_56:hover:before{animation:_shine_zmtxl_1 1.5s infinite}[data-theme=light] ._loginButton_zmtxl_56{background:linear-gradient(90deg,#888,#666);box-shadow:0 4px 10px rgba(100,100,100,.2)}[data-theme=light] ._loginButton_zmtxl_56:hover{background:linear-gradient(90deg,#999,#777);box-shadow:0 6px 15px rgba(100,100,100,.3)}._userProfile_zmtxl_104{position:relative;display:flex;justify-content:center}._profileButton_zmtxl_110{display:flex;align-items:center;background:rgba(50,50,55,.7);border:1px solid rgba(100,100,100,.2);padding:6px 14px 6px 6px;cursor:pointer;border-radius:30px;transition:all .3s;backdrop-filter:blur(4px);box-shadow:0 4px 10px rgba(0,0,0,.1)}._profileButton_zmtxl_110:hover{background:rgba(60,60,65,.8);transform:translateY(-2px);box-shadow:0 6px 15px rgba(0,0,0,.15)}[data-theme=light] ._profileButton_zmtxl_110{background:rgba(240,240,245,.7);border:1px solid rgba(180,180,180,.3);box-shadow:0 4px 10px rgba(100,100,100,.1)}[data-theme=light] ._profileButton_zmtxl_110:hover{background:rgba(245,245,250,.9);box-shadow:0 6px 15px rgba(100,100,100,.15)}._avatar_zmtxl_137{width:42px;height:42px;border-radius:50%;object-fit:cover;margin-right:10px;border:2px solid rgba(150,150,150,.5);box-shadow:0 2px 5px rgba(0,0,0,.1)}[data-theme=light] ._avatar_zmtxl_137{border:2px solid rgba(100,100,100,.3)}._username_zmtxl_150{font-size:1.2rem;font-weight:600;color:#e0e0e0;max-width:150px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}@media (max-width: 600px){._username_zmtxl_150{max-width:100px;font-size:1rem}}[data-theme=light] ._username_zmtxl_150{color:#333}._username_zmtxl_150._sponsorPerk_zmtxl_27{color:var(--sponsor-color)!important;text-shadow:0 0 5px var(--sponsor-shadow-color)}._username_zmtxl_150._earlyUserPerk_zmtxl_33{color:var(--early-user-color)!important;text-shadow:0 0 5px var(--early-user-shadow-color)}._username_zmtxl_150._adminPerk_zmtxl_39{color:var(--admin-color)!important;text-shadow:0 0 5px var(--admin-shadow-color)}._userMenu_zmtxl_181{position:absolute;top:115%;right:0;background:rgba(36,36,40,.95);backdrop-filter:blur(10px);border-radius:12px;box-shadow:0 10px 25px rgba(0,0,0,.3),0 0 15px rgba(255,255,255,.05) inset;min-width:200px;overflow:hidden;border:1px solid rgba(100,100,100,.2);z-index:1000;padding:5px}._userMenu_zmtxl_181:before{content:"";position:absolute;top:-7px;right:20px;transform:rotate(45deg);width:20px;height:20px;background:rgba(36,36,40,.95);border-left:1px solid rgba(100,100,100,.2);border-top:1px solid rgba(100,100,100,.2);z-index:-1}._userMenu_zmtxl_181 ul{list-style:none;margin:0;padding:5px}._userMenu_zmtxl_181 li{margin:5px 0}._userMenu_zmtxl_181 li:last-child{margin-top:5px}[data-theme=light] ._userMenu_zmtxl_181{background:rgba(250,250,255,.95);box-shadow:0 10px 25px rgba(0,0,0,.15),0 0 15px rgba(255,255,255,.1) inset;border:1px solid rgba(200,200,200,.3)}[data-theme=light] ._userMenu_zmtxl_181:before{background:rgba(250,250,255,.95);border-left:1px solid rgba(200,200,200,.3);border-top:1px solid rgba(200,200,200,.3)}._menuItem_zmtxl_230{display:block;width:100%;text-align:left;padding:10px 14px;background:rgba(32,32,37,.7);border:none;border-radius:8px;font-size:1.2rem;color:#e0e0e0;cursor:pointer;font-weight:500;transition:all .25s;display:flex;align-items:center;gap:10px;position:relative;overflow:hidden}._menuItem_zmtxl_230:before{content:"";position:absolute;left:0;top:0;height:100%;width:3px;background:transparent;transition:all .25s}._menuItem_zmtxl_230 svg{color:#8e8e9a;stroke-width:2px;transition:all .25s}._menuItem_zmtxl_230:hover{background:rgba(45,45,50,.9);transform:translateY(-2px)}._menuItem_zmtxl_230:hover svg{color:#a0a0b0}[data-theme=light] ._menuItem_zmtxl_230{background:rgba(240,240,245,.7);color:#333}[data-theme=light] ._menuItem_zmtxl_230 svg{color:#6a6a75}[data-theme=light] ._menuItem_zmtxl_230:hover{background:rgba(230,230,235,.9)}[data-theme=light] ._menuItem_zmtxl_230:hover svg{color:#555565}._logoutButton_zmtxl_285{color:#f0f0f0;background:rgba(210,40,60,.25)}._logoutButton_zmtxl_285:before{background:rgba(210,40,60,.6)}._logoutButton_zmtxl_285 svg{color:rgba(210,60,80,.9);filter:drop-shadow(0 0 2px rgba(210,40,60,.3))}._logoutButton_zmtxl_285:hover{background:rgba(220,50,70,.35)}._logoutButton_zmtxl_285:hover:before{background:rgba(220,50,70,.8)}._logoutButton_zmtxl_285:hover svg{color:#e1465a}[data-theme=light] ._logoutButton_zmtxl_285{color:#333;background:rgba(220,53,69,.1)}[data-theme=light] ._logoutButton_zmtxl_285:before{background:rgba(220,53,69,.4)}[data-theme=light] ._logoutButton_zmtxl_285 svg{color:rgba(200,50,60,.8);filter:drop-shadow(0 0 1px rgba(200,50,60,.2))}[data-theme=light] ._logoutButton_zmtxl_285:hover{background:rgba(220,53,69,.2)}[data-theme=light] ._logoutButton_zmtxl_285:hover:before{background:rgba(220,53,69,.6)}[data-theme=light] ._logoutButton_zmtxl_285:hover svg{color:#c82832}._adminButton_zmtxl_326{color:#f0f0f0;background:linear-gradient(90deg,rgba(100,100,110,.3),rgba(80,80,90,.3));position:relative;overflow:hidden}._adminButton_zmtxl_326:before{background:rgba(80,140,200,.6)}._adminButton_zmtxl_326 svg{color:rgba(70,150,210,.9);filter:drop-shadow(0 0 2px rgba(70,150,210,.3))}._adminButton_zmtxl_326:after{content:"";position:absolute;top:0;right:0;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(70,150,210,.1),transparent);opacity:0;transition:opacity .3s ease}._adminButton_zmtxl_326:hover{background:linear-gradient(90deg,rgba(110,110,120,.35),rgba(90,90,100,.35))}._adminButton_zmtxl_326:hover:before{background:rgba(80,160,220,.8)}._adminButton_zmtxl_326:hover:after{opacity:1}._adminButton_zmtxl_326:hover svg{color:#50a0e6}[data-theme=light] ._adminButton_zmtxl_326{color:#333;background:linear-gradient(90deg,rgba(230,230,240,.5),rgba(210,210,220,.5))}[data-theme=light] ._adminButton_zmtxl_326:before{background:rgba(60,120,190,.5)}[data-theme=light] ._adminButton_zmtxl_326 svg{color:rgba(50,120,180,.9);filter:drop-shadow(0 0 1px rgba(50,120,180,.2))}[data-theme=light] ._adminButton_zmtxl_326:hover{background:linear-gradient(90deg,rgba(220,220,230,.6),rgba(200,200,210,.6))}[data-theme=light] ._adminButton_zmtxl_326:hover:before{background:rgba(60,130,200,.7)}[data-theme=light] ._adminButton_zmtxl_326:hover svg{color:#2878c8}@keyframes _shine_zmtxl_1{0%{left:-150%;opacity:0}50%{opacity:.4}to{left:150%;opacity:0}}._profileMenuItem_zmtxl_396:before{background:rgba(120,180,120,.6)}._profileMenuItem_zmtxl_396 svg{color:rgba(120,180,120,.9);filter:drop-shadow(0 0 2px rgba(120,180,120,.3))}._profileMenuItem_zmtxl_396:hover:before{background:rgba(130,200,130,.8)}._profileMenuItem_zmtxl_396:hover svg{color:#8cd28c}[data-theme=light] ._profileMenuItem_zmtxl_396:before{background:rgba(100,160,100,.5)}[data-theme=light] ._profileMenuItem_zmtxl_396 svg{color:rgba(100,160,100,.9);filter:drop-shadow(0 0 1px rgba(100,160,100,.2))}[data-theme=light] ._profileMenuItem_zmtxl_396:hover:before{background:rgba(110,180,110,.7)}[data-theme=light] ._profileMenuItem_zmtxl_396:hover svg{color:#5a965a}@media (max-width: 768px){._avatar_zmtxl_137{width:36px;height:36px}._username_zmtxl_150{font-size:1rem}._profileButton_zmtxl_110{padding:4px 10px 4px 4px}._userMenu_zmtxl_181{right:0;min-width:180px}._userMenu_zmtxl_181:before{right:20px}}.ban-modal-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.6);display:flex;align-items:center;justify-content:center;z-index:1200;backdrop-filter:blur(4px)}[data-theme=dark] .ban-modal-overlay{background-color:rgba(0,0,0,.75)}.ban-modal{background-color:var(--background-color, white);border-radius:10px;box-shadow:0 8px 30px rgba(0,0,0,.25);width:90%;max-width:480px;overflow:hidden}[data-theme=dark] .ban-modal{box-shadow:0 8px 30px rgba(0,0,0,.4)}.ban-modal-header{background-color:#e74c3c;color:#fff;padding:20px;position:relative;display:flex;flex-direction:column;align-items:center;text-align:center}.ban-modal-header h2{margin:15px 0 0;font-size:22px;font-weight:600}.ban-modal-header .ban-close-button{position:absolute;top:15px;right:15px;background:none;border:none;color:#fff;cursor:pointer;display:flex;align-items:center;justify-content:center;border-radius:50%;padding:6px;transition:background-color .2s}.ban-modal-header .ban-close-button:hover{background-color:rgba(255,255,255,.2)}.ban-modal-header .ban-icon-wrapper{display:flex;align-items:center;justify-content:center;background-color:#fff;border-radius:50%;width:60px;height:60px}.ban-modal-header .ban-icon-wrapper .ban-icon{color:#e74c3c;font-size:30px}[data-theme=dark] .ban-modal-header{background-color:#c0392b}.ban-modal-content{padding:25px}[data-theme=dark] .ban-modal-content{color:var(--text-primary, #e0e0e0)}.ban-details{display:flex;flex-direction:column;gap:20px;margin-bottom:25px}.ban-details .ban-reason,.ban-details .ban-admin,.ban-details .ban-time{display:flex;align-items:flex-start;gap:15px}.ban-details .ban-reason .ban-detail-icon,.ban-details .ban-admin .ban-detail-icon,.ban-details .ban-time .ban-detail-icon{font-size:22px;color:#e74c3c;flex-shrink:0;margin-top:3px}[data-theme=dark] .ban-details .ban-reason .ban-detail-icon,[data-theme=dark] .ban-details .ban-admin .ban-detail-icon,[data-theme=dark] .ban-details .ban-time .ban-detail-icon{color:#e67e22}.ban-details .ban-reason h3,.ban-details .ban-admin h3,.ban-details .ban-time h3{margin:0 0 8px;font-size:15px;font-weight:600;color:var(--text-secondary, #666)}[data-theme=dark] .ban-details .ban-reason h3,[data-theme=dark] .ban-details .ban-admin h3,[data-theme=dark] .ban-details .ban-time h3{color:#aaa}.ban-details .ban-reason p,.ban-details .ban-admin p,.ban-details .ban-time p{margin:0;padding:10px 15px;background-color:rgba(0,0,0,.05);border-radius:6px;font-size:14px;line-height:1.5;color:var(--text-primary, #333)}[data-theme=dark] .ban-details .ban-reason p,[data-theme=dark] .ban-details .ban-admin p,[data-theme=dark] .ban-details .ban-time p{background-color:rgba(255,255,255,.08)}.ban-details .ban-reason p.ban-permanent,.ban-details .ban-admin p.ban-permanent,.ban-details .ban-time p.ban-permanent{color:#c0392b;font-weight:600}[data-theme=dark] .ban-details .ban-reason p.ban-permanent,[data-theme=dark] .ban-details .ban-admin p.ban-permanent,[data-theme=dark] .ban-details .ban-time p.ban-permanent{color:#e74c3c}.ban-details .ban-reason p.ban-short,.ban-details .ban-admin p.ban-short,.ban-details .ban-time p.ban-short{color:#27ae60}[data-theme=dark] .ban-details .ban-reason p.ban-short,[data-theme=dark] .ban-details .ban-admin p.ban-short,[data-theme=dark] .ban-details .ban-time p.ban-short{color:#2ecc71}.ban-details .ban-reason p.ban-medium,.ban-details .ban-admin p.ban-medium,.ban-details .ban-time p.ban-medium{color:#f39c12}[data-theme=dark] .ban-details .ban-reason p.ban-medium,[data-theme=dark] .ban-details .ban-admin p.ban-medium,[data-theme=dark] .ban-details .ban-time p.ban-medium{color:#f1c40f}.ban-details .ban-reason p.ban-long,.ban-details .ban-admin p.ban-long,.ban-details .ban-time p.ban-long{color:#e67e22}[data-theme=dark] .ban-details .ban-reason p.ban-long,[data-theme=dark] .ban-details .ban-admin p.ban-long,[data-theme=dark] .ban-details .ban-time p.ban-long{color:#e74c3c}.ban-message{padding:15px;background-color:rgba(231,76,60,.07);border-radius:6px;border-left:3px solid #e74c3c;margin-bottom:25px}.ban-message p{margin:0;font-size:14px;line-height:1.5;color:var(--text-secondary, #666)}[data-theme=dark] .ban-message p{color:#bbb}[data-theme=dark] .ban-message{background-color:rgba(231,76,60,.15);border-color:#c0392b}.ban-ok-button{display:block;width:100%;padding:12px;background-color:#e74c3c;color:#fff;border:none;border-radius:6px;font-size:16px;font-weight:500;cursor:pointer;transition:background-color .2s}.ban-ok-button:hover,[data-theme=dark] .ban-ok-button{background-color:#c0392b}[data-theme=dark] .ban-ok-button:hover{background-color:#a93226}@media (max-width: 480px){.ban-modal{width:95%;max-height:90vh;overflow-y:auto}.ban-modal-header h2{font-size:20px}.ban-details{gap:15px}}._form_1ih8g_1{display:flex;flex-direction:column;width:100%}._title_1ih8g_7{font-size:1.5rem;font-weight:600;margin-bottom:1.5rem;text-align:center;color:var(--text-primary)}._error_1ih8g_15{background-color:var(--error-light, rgba(239, 68, 68, .1));color:var(--error);padding:10px;border-radius:var(--radius-md);margin-bottom:16px;font-size:.875rem}._field_1ih8g_24{margin-bottom:16px}._label_1ih8g_28{display:block;margin-bottom:6px;font-size:.875rem;font-weight:500;color:var(--text-secondary)}._input_1ih8g_36{width:100%;padding:10px 12px;font-size:1rem;border:1px solid var(--border);border-radius:var(--radius-md);background-color:var(--bg-input);color:var(--text-primary);transition:border-color var(--transition-fast)}._input_1ih8g_36:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 2px var(--accent-light)}._input_1ih8g_36::placeholder{color:var(--text-tertiary)}._input_1ih8g_36:disabled{background-color:var(--bg-highlight);cursor:not-allowed}._forgotPassword_1ih8g_59{text-align:right;margin-bottom:16px}._textButton_1ih8g_64{background:none;border:none;color:var(--accent);font-size:.875rem;cursor:pointer;padding:0}._textButton_1ih8g_64:hover{text-decoration:underline;color:var(--accent-hover)}._submitButton_1ih8g_77{padding:10px 16px;background-color:var(--accent);color:#fff;border:none;border-radius:var(--radius-md);font-size:1rem;font-weight:500;cursor:pointer;transition:all var(--transition-fast)}._submitButton_1ih8g_77:hover:not(:disabled){background-color:var(--accent-hover)}._terms_1ih8g_96{margin-bottom:16px;font-size:.75rem;color:var(--text-tertiary);text-align:center}._link_1ih8g_103{color:var(--accent);text-decoration:none}._link_1ih8g_103:hover{text-decoration:underline;color:var(--accent-hover)}._formContainer_1ih8g_112{display:flex;flex-direction:column;width:100%;color:var(--text-primary)}._formContainer_1ih8g_112 h2{text-align:center;margin-bottom:30px;color:var(--text-primary);font-size:28px;font-weight:700;letter-spacing:.5px;text-shadow:0 2px 4px rgba(0,0,0,.1);background:linear-gradient(135deg,var(--gradient-start, #ffffff),var(--gradient-end, #a0a0a0));-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}._errorMessage_1ih8g_133{background-color:rgba(var(--error-rgb, 220, 53, 69),.15);border-left:3px solid var(--error);color:var(--text-primary);padding:12px 15px;border-radius:var(--radius-md);margin-bottom:20px;font-size:14px;box-shadow:var(--shadow)}._formGroup_1ih8g_144{margin-bottom:24px}._formGroup_1ih8g_144 label{display:flex;align-items:center;margin-bottom:10px;color:var(--text-secondary);font-weight:500;font-size:16px}._formGroup_1ih8g_144 ._inputIcon_1ih8g_155{margin-right:8px;font-size:18px;color:var(--text-tertiary)}._formGroup_1ih8g_144 ._inputWrapper_1ih8g_160{position:relative;width:100%}._formGroup_1ih8g_144 ._inputIconInside_1ih8g_164{position:absolute;left:12px;top:50%;transform:translateY(-50%);color:var(--text-tertiary);font-size:16px;pointer-events:none;opacity:.9;z-index:2}._formGroup_1ih8g_144 ._inputIconInside_1ih8g_164 svg{stroke-width:2px}._formGroup_1ih8g_144 input{width:100%;padding:14px 14px 14px 40px;border:1px solid var(--border);border-radius:var(--radius-md);background-color:var(--bg-input);color:var(--text-primary);font-size:16px;transition:all var(--transition-normal);position:relative}._formGroup_1ih8g_144 input:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 2px var(--accent-light);background-color:var(--bg-highlight)}._formGroup_1ih8g_144 input:disabled{opacity:.7;cursor:not-allowed}._formGroup_1ih8g_144 input::placeholder{color:var(--text-tertiary)}._charCounter_1ih8g_203{display:block;text-align:right;margin-top:4px;font-size:12px;color:var(--text-tertiary);transition:color var(--transition-fast)}._submitButton_1ih8g_77{width:100%;padding:14px;background:linear-gradient(90deg,var(--accent),var(--accent-hover));color:#fff;border:none;border-radius:var(--radius-full);font-size:16px;font-weight:600;cursor:pointer;margin-bottom:20px;display:flex;justify-content:center;align-items:center;position:relative;overflow:hidden;box-shadow:var(--shadow)}._submitButton_1ih8g_77 ._buttonIcon_1ih8g_230{margin-right:8px;font-size:18px}._submitButton_1ih8g_77:hover:not(:disabled){background:linear-gradient(90deg,var(--accent-hover),var(--accent));box-shadow:var(--shadow-hover);transform:translateY(-2px)}._submitButton_1ih8g_77:disabled{opacity:.7;cursor:not-allowed}._submitButton_1ih8g_77:before{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:linear-gradient(to right,rgba(255,255,255,0),rgba(255,255,255,.2),rgba(255,255,255,0));transform:rotate(45deg);opacity:0;transition:all .5s}._submitButton_1ih8g_77:hover:not(:disabled):before{animation:_shimmer_1ih8g_1 1.5s infinite}._switchForm_1ih8g_259{display:flex;flex-direction:column;align-items:center;margin-top:10px}._switchForm_1ih8g_259 p{color:var(--text-secondary);margin-bottom:8px;font-size:15px}._switchButton_1ih8g_271{background:none;border:none;color:var(--text-tertiary);font-weight:600;font-size:15px;cursor:pointer;padding:0;position:relative;z-index:1;transition:all var(--transition-fast)}._switchButton_1ih8g_271:after{content:"";position:absolute;width:100%;height:2px;bottom:-2px;left:0;background:linear-gradient(90deg,var(--accent),var(--accent-hover));transform:scaleX(0);transform-origin:bottom right;transition:transform .3s ease-out}._switchButton_1ih8g_271:hover:not(:disabled){color:var(--text-primary)}._switchButton_1ih8g_271:hover:not(:disabled):after{transform:scaleX(1);transform-origin:bottom left}._switchButton_1ih8g_271:disabled{opacity:.7;cursor:not-allowed}@keyframes _shimmer_1ih8g_1{0%{left:-150%;opacity:0}50%{opacity:.4}to{left:150%;opacity:0}}@media (max-width: 600px){._formContainer_1ih8g_112 h2{font-size:24px;margin-bottom:20px}._formGroup_1ih8g_144{margin-bottom:18px}._formGroup_1ih8g_144 input{padding:12px 12px 12px 36px}}._backdrop_1nj0y_1{position:fixed;top:0;left:0;right:0;bottom:0;width:100%;height:100%;background:linear-gradient(135deg,rgba(var(--modal-bg-rgb, 33, 33, 38),.85),rgba(var(--modal-bg-end-rgb, 68, 68, 77),.85));display:flex;justify-content:center;align-items:center;z-index:2000;backdrop-filter:blur(8px);perspective:1000px;box-sizing:border-box}._modal_1nj0y_19{position:relative;max-width:450px;width:90%;border-radius:var(--radius-xl);background:var(--modal-bg);backdrop-filter:blur(10px);border:1px solid var(--modal-border);box-shadow:var(--modal-shadow);overflow:hidden;z-index:2001!important;padding:0;transform-style:preserve-3d}._modalContent_1nj0y_34{padding:30px;position:relative;z-index:5}._closeButton_1nj0y_40{position:absolute;top:15px;right:15px;background:rgba(var(--accent-rgb),.1);border:none;font-size:20px;width:36px;height:36px;border-radius:50%;display:flex;align-items:center;justify-content:center;color:var(--text-primary);cursor:pointer;z-index:10;box-shadow:var(--shadow);transition:all var(--transition-fast)}._closeButton_1nj0y_40:hover{background:rgba(var(--accent-rgb),.2);transform:scale(1.05)}._formWrapper_1nj0y_64{width:100%}._formWrapper_1nj0y_64 h2{font-size:2rem;margin-bottom:30px;color:var(--text-primary);text-align:center;font-weight:600;text-shadow:0 2px 4px rgba(0,0,0,.1);background:linear-gradient(135deg,var(--gradient-start, #ffffff),var(--gradient-end, #a0a0a0));-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}._formWrapper_1nj0y_64 input{background:var(--bg-input);border:1px solid var(--border);color:var(--text-primary)}._formWrapper_1nj0y_64 input::placeholder{color:var(--text-tertiary)}._formWrapper_1nj0y_64 input:focus{box-shadow:0 0 0 2px var(--accent-light);border-color:var(--accent);background:var(--bg-highlight)}._formWrapper_1nj0y_64 label{color:var(--text-secondary);font-weight:500}._formWrapper_1nj0y_64 .submitButton{background:linear-gradient(90deg,var(--accent),var(--accent-hover));border-radius:var(--radius-full);font-weight:600;letter-spacing:.5px;padding:12px;box-shadow:var(--shadow);transform:translateY(0);transition:all var(--transition-normal);position:relative;overflow:hidden}._formWrapper_1nj0y_64 .submitButton:hover:not(:disabled){background:linear-gradient(90deg,var(--accent-hover),var(--accent));transform:translateY(-2px);box-shadow:var(--shadow-hover)}._formWrapper_1nj0y_64 .submitButton:before{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:linear-gradient(45deg,transparent,rgba(255,255,255,.2),transparent);transform:rotate(45deg);transition:all .5s;opacity:0}._formWrapper_1nj0y_64 .submitButton:hover:not(:disabled):before{animation:shine 1.5s infinite}._formWrapper_1nj0y_64 .switchButton{color:var(--text-tertiary);font-weight:600;transition:all var(--transition-fast)}._formWrapper_1nj0y_64 .switchButton:hover:not(:disabled){color:var(--text-primary);transform:translateY(-1px)}._formWrapper_1nj0y_64 p{color:var(--text-secondary)}._formWrapper_1nj0y_64 .errorMessage{background-color:rgba(var(--error-rgb, 220, 53, 69),.15);border-left:3px solid var(--error);color:var(--text-primary)}._patternOverlay_1nj0y_146{position:absolute;top:0;left:0;right:0;bottom:0;opacity:.05;background-image:linear-gradient(30deg,rgba(var(--accent-rgb),.1) 12%,transparent 12.5%,transparent 87%,rgba(var(--accent-rgb),.1) 87.5%,rgba(var(--accent-rgb),.1)),linear-gradient(150deg,rgba(var(--accent-rgb),.1) 12%,transparent 12.5%,transparent 87%,rgba(var(--accent-rgb),.1) 87.5%,rgba(var(--accent-rgb),.1)),linear-gradient(30deg,rgba(var(--accent-rgb),.1) 12%,transparent 12.5%,transparent 87%,rgba(var(--accent-rgb),.1) 87.5%,rgba(var(--accent-rgb),.1)),linear-gradient(150deg,rgba(var(--accent-rgb),.1) 12%,transparent 12.5%,transparent 87%,rgba(var(--accent-rgb),.1) 87.5%,rgba(var(--accent-rgb),.1)),linear-gradient(60deg,rgba(var(--accent-rgb),.2) 25%,transparent 25.5%,transparent 75%,rgba(var(--accent-rgb),.2) 75%,rgba(var(--accent-rgb),.2));background-size:40px 70px;mix-blend-mode:overlay;z-index:1}@keyframes _shine_1nj0y_1{0%{left:-200%;opacity:0}20%{opacity:1}to{left:100%;opacity:0}}@media (max-width: 600px){._modal_1nj0y_19{width:95%;margin:0 10px}._modalContent_1nj0y_34{padding:20px 15px}}._perkBase_14u1w_18{font-weight:600!important;font-size:inherit!important;line-height:inherit!important;font-family:inherit!important;letter-spacing:inherit!important;display:inline-block!important}._sponsorPerk_14u1w_27{color:var(--sponsor-color)!important;text-shadow:0 0 5px var(--sponsor-shadow-color)!important}._earlyUserPerk_14u1w_33{color:var(--early-user-color)!important;text-shadow:0 0 5px var(--early-user-shadow-color)!important}._adminPerk_14u1w_39{color:var(--admin-color)!important;text-shadow:0 0 5px var(--admin-shadow-color)!important}._userPerk_14u1w_45{color:var(--user-color)!important;text-shadow:none!important}:root{--sponsor-color: #ffcf4a;--sponsor-color-rgb: 255, 207, 74;--sponsor-shadow-color: rgba(255, 207, 74, .5);--early-user-color: #8bc9e3;--early-user-color-rgb: 139, 201, 227;--early-user-shadow-color: rgba(139, 201, 227, .5);--admin-color: #ff6b6b;--admin-color-rgb: 255, 107, 107;--admin-shadow-color: rgba(255, 107, 107, .5);--user-color: #888888;--user-color-rgb: 136, 136, 136;--user-shadow-color: rgba(136, 136, 136, .5)}._perkBase_1jflv_18{font-weight:600!important;font-size:inherit!important;line-height:inherit!important;font-family:inherit!important;letter-spacing:inherit!important;display:inline-block!important}._sponsorPerk_1jflv_27{color:var(--sponsor-color)!important;text-shadow:0 0 5px var(--sponsor-shadow-color)!important}._earlyUserPerk_1jflv_33{color:var(--early-user-color)!important;text-shadow:0 0 5px var(--early-user-shadow-color)!important}._adminPerk_1jflv_39{color:var(--admin-color)!important;text-shadow:0 0 5px var(--admin-shadow-color)!important}._userPerk_1jflv_45{color:var(--user-color)!important;text-shadow:none!important}._profileContainer_1jflv_51{max-width:900px;margin:30px auto;padding:30px;background-color:var(--bg-secondary);border-radius:var(--radius-lg);box-shadow:var(--shadow)}@media (max-width: 600px){._profileContainer_1jflv_51{padding:20px 15px}}._loading_1jflv_65,._error_1jflv_65{display:flex;justify-content:center;align-items:center;height:200px;font-size:18px;color:var(--text-primary)}._error_1jflv_65{color:var(--error)}._profileHeader_1jflv_78{display:flex;margin-bottom:40px}@media (max-width: 600px){._profileHeader_1jflv_78{flex-direction:column;align-items:center}}._avatarContainer_1jflv_89{position:relative;margin-right:40px}@media (max-width: 600px){._avatarContainer_1jflv_89{margin-right:0;margin-bottom:20px}}._avatar_1jflv_89{width:180px;height:180px;border-radius:50%;object-fit:cover;border:5px solid var(--accent)}._changeAvatarButton_1jflv_108{position:absolute;bottom:10px;right:10px;background-color:var(--accent);color:#fff;border:1px solid var(--border);border-radius:var(--radius-md);padding:8px 15px;font-size:14px;cursor:pointer;font-weight:600;box-shadow:var(--shadow);transition:all var(--transition-fast)}._changeAvatarButton_1jflv_108:hover{background-color:var(--accent-hover);transform:translateY(-2px);box-shadow:var(--shadow-hover)}._profileInfo_1jflv_129{flex:1}._displayName_1jflv_133{font-size:2rem!important;font-weight:700;margin-bottom:20px;color:var(--text-primary);text-shadow:0 1px 3px rgba(0,0,0,.3);line-height:1.2;word-wrap:break-word;word-break:break-word;overflow-wrap:break-word;max-width:100%}@media (max-width: 600px){._displayName_1jflv_133{font-size:1.75rem!important;text-align:center}}._userMeta_1jflv_152{display:grid;gap:15px}@media (max-width: 600px){._userMeta_1jflv_152{width:100%}}._userRole_1jflv_162,._userJoined_1jflv_162,._userEmail_1jflv_162,._userPrivileges_1jflv_162{display:flex;align-items:flex-start;font-size:16px;flex-wrap:wrap}@media (max-width: 600px){._userRole_1jflv_162,._userJoined_1jflv_162,._userEmail_1jflv_162,._userPrivileges_1jflv_162{flex-direction:column;gap:5px}}._label_1jflv_175{min-width:170px;font-weight:600;color:var(--text-secondary)}@media (max-width: 600px){._label_1jflv_175{min-width:unset;width:100%}}._value_1jflv_187{color:var(--text-primary);font-weight:500;word-wrap:break-word;word-break:break-word;overflow-wrap:break-word;max-width:100%}._privilegeContainer_1jflv_196{display:flex;align-items:center;gap:15px;flex-wrap:wrap}@media (max-width: 600px){._privilegeContainer_1jflv_196{width:100%}}._changePerkButton_1jflv_208{background-color:var(--accent);color:#fff;border:none;border-radius:4px;padding:5px 10px;font-size:12px;cursor:pointer}._changePerkButton_1jflv_208:hover{background-color:var(--accent-dark)}._adminActions_1jflv_221,._personalSettings_1jflv_221{margin-top:30px;padding-top:20px;border-top:1px solid var(--border)}._adminActions_1jflv_221 h2,._personalSettings_1jflv_221 h2{font-size:20px;margin-bottom:15px;color:var(--text-primary)}._adminActions_1jflv_221 h2{display:flex;align-items:center;gap:10px}._adminActions_1jflv_221 h2 svg{color:var(--accent)}._actionButtons_1jflv_242{display:flex;gap:10px}._editButton_1jflv_247,._banButton_1jflv_247,._saveButton_1jflv_247,._cancelButton_1jflv_247{padding:8px 16px;border:none;border-radius:4px;cursor:pointer;font-weight:500;display:flex;align-items:center;gap:6px}._editButton_1jflv_247:hover,._banButton_1jflv_247:hover,._saveButton_1jflv_247:hover,._cancelButton_1jflv_247:hover{opacity:.9}._editButton_1jflv_247{background-color:var(--accent);color:#fff}._banButton_1jflv_247{background-color:#e74c3c;color:#fff}._saveButton_1jflv_247{background-color:#2ecc71;color:#fff}._cancelButton_1jflv_247{background-color:#f1f1f1;color:#333}[data-theme=dark] ._cancelButton_1jflv_247{background-color:#333;color:#f1f1f1}._settingGroup_1jflv_285{margin-bottom:15px}._settingGroup_1jflv_285 label{display:block;margin-bottom:5px;color:var(--text-secondary)}._settingControl_1jflv_294{display:flex;gap:10px}._settingControl_1jflv_294 input{flex:1;padding:8px;border:1px solid var(--border);border-radius:4px;background-color:var(--bg-primary);color:var(--text-primary)}._modalOverlay_1jflv_308{position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.8);display:flex;align-items:center;justify-content:center;z-index:1000;backdrop-filter:blur(5px);padding:20px}@media (max-width: 500px){._modalOverlay_1jflv_308{padding:10px;align-items:flex-end}}._modalContent_1jflv_329{background-color:var(--bg-secondary);border-radius:12px;padding:28px;width:100%;max-width:500px;max-height:90vh;overflow-y:auto;box-shadow:0 15px 40px rgba(0,0,0,.4);transform-origin:center;animation:_modalAppear_1jflv_1 .3s ease-out;border:1px solid rgba(var(--accent-rgb),.3)}[data-theme=dark] ._modalContent_1jflv_329{border:2px solid rgba(255,255,255,.3);box-shadow:0 15px 40px rgba(0,0,0,.5),0 0 0 1px rgba(255,255,255,.1)}@media (max-width: 500px){._modalContent_1jflv_329{max-height:85vh;border-bottom-left-radius:0;border-bottom-right-radius:0}}._modalContent_1jflv_329 h3{text-align:center;margin-bottom:20px;color:var(--text-primary);font-size:22px;font-weight:600}@keyframes _modalAppear_1jflv_1{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}._avatarGrid_1jflv_372{display:grid;grid-template-columns:repeat(auto-fill,minmax(100px,1fr));gap:18px;margin-bottom:28px}._avatarOption_1jflv_379{width:100%;aspect-ratio:1;object-fit:cover;border-radius:50%;border:3px solid transparent;cursor:pointer;transition:all .3s ease;filter:brightness(.9);box-shadow:0 5px 15px rgba(0,0,0,.1)}._avatarOption_1jflv_379:hover{border-color:var(--accent);transform:translateY(-5px) scale(1.08);filter:brightness(1.2);box-shadow:0 8px 25px rgba(0,0,0,.25)}._avatarOption_1jflv_379._selected_1jflv_396{border-color:var(--accent);filter:brightness(1.2);box-shadow:0 0 0 3px var(--accent),0 8px 25px rgba(0,0,0,.25)}[data-theme=dark] ._avatarOption_1jflv_379{border:3px solid rgba(255,255,255,.2)}[data-theme=dark] ._avatarOption_1jflv_379:hover,[data-theme=dark] ._avatarOption_1jflv_379._selected_1jflv_396{border-color:#fff;box-shadow:0 0 0 2px rgba(255,255,255,.5),0 8px 25px rgba(0,0,0,.35)}[data-theme=dark] ._avatarOption_1jflv_379._selected_1jflv_396{border-color:#fff;box-shadow:0 0 0 3px #fff,0 8px 25px rgba(0,0,0,.4)}._closeButton_1jflv_413{display:block;width:100%;padding:14px;background-color:var(--accent);color:#fff;border:none;border-radius:8px;cursor:pointer;margin-top:15px;font-size:16px;font-weight:600;transition:all .3s ease;box-shadow:0 4px 10px rgba(var(--accent-rgb),.3)}._closeButton_1jflv_413:hover{background-color:var(--accent-dark);transform:translateY(-3px);box-shadow:0 8px 15px rgba(var(--accent-rgb),.4)}._closeButton_1jflv_413:active{transform:translateY(0);box-shadow:0 4px 10px rgba(var(--accent-rgb),.3)}._perksList_1jflv_439{display:flex;flex-direction:column;gap:18px;margin-bottom:28px}._perkItem_1jflv_446{padding:20px;border-radius:12px;background-color:var(--bg-primary);border:2px solid transparent;cursor:pointer;transition:all .3s ease;position:relative;overflow:hidden;box-shadow:0 4px 12px rgba(0,0,0,.1)}._perkItem_1jflv_446:before{content:"";position:absolute;top:0;left:0;width:6px;height:100%;background-color:transparent;transition:all .3s ease}._perkItem_1jflv_446:hover{transform:translateY(-4px) scale(1.02);box-shadow:0 10px 20px rgba(0,0,0,.15)}._perkItem_1jflv_446:hover:before{background-color:var(--accent)}._perkItem_1jflv_446._activePerk_1jflv_474{border-color:var(--accent);background-color:rgba(var(--accent-rgb),.08)}._perkItem_1jflv_446._activePerk_1jflv_474:before{background-color:var(--accent)}._perkName_1jflv_482{font-weight:600;margin-bottom:10px;color:var(--text-primary);font-size:18px;display:flex;align-items:center}._perkName_1jflv_482._sponsorPerk_1jflv_27{color:var(--sponsor-color)!important;text-shadow:0 0 5px var(--sponsor-shadow-color)}._perkName_1jflv_482._earlyUserPerk_1jflv_33{color:var(--early-user-color)!important;text-shadow:0 0 5px var(--early-user-shadow-color)}._perkName_1jflv_482._adminPerk_1jflv_39{color:var(--admin-color)!important;text-shadow:0 0 5px var(--admin-shadow-color)}._perkDescription_1jflv_503{font-size:12px;color:var(--text-secondary);margin-top:2px}._modalFooter_1jflv_509{text-align:center;margin-top:10px}._modalForm_1jflv_514{display:flex;flex-direction:column;gap:20px;width:100%}._modalForm_1jflv_514 ._formGroup_1jflv_520{display:flex;flex-direction:column;gap:8px}._modalForm_1jflv_514 ._formGroup_1jflv_520 label{font-weight:500;font-size:15px;color:var(--text-primary)}._modalForm_1jflv_514 ._formGroup_1jflv_520 ._formControl_1jflv_530{padding:14px 16px;border-radius:10px;border:2px solid var(--border-color);background-color:var(--bg-input);color:var(--text-primary);font-size:16px;transition:all .3s;width:100%}._modalForm_1jflv_514 ._formGroup_1jflv_520 ._formControl_1jflv_530:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 4px rgba(var(--accent-rgb),.2);background-color:var(--bg-secondary)}._modalForm_1jflv_514 ._formGroup_1jflv_520 ._formControl_1jflv_530:disabled{opacity:.7;cursor:not-allowed}._modalForm_1jflv_514 ._formActions_1jflv_550{display:flex;justify-content:flex-end;gap:14px;margin-top:20px}._modalForm_1jflv_514 ._formActions_1jflv_550 button{padding:12px 22px;border-radius:10px;font-weight:500;font-size:16px;transition:all .3s;cursor:pointer}._modalForm_1jflv_514 ._formActions_1jflv_550 button:disabled{opacity:.7;cursor:not-allowed}._modalForm_1jflv_514 ._formActions_1jflv_550 ._cancelButton_1jflv_247{background-color:var(--bg-primary);border:1px solid var(--border-color);color:var(--text-secondary)}._modalForm_1jflv_514 ._formActions_1jflv_550 ._cancelButton_1jflv_247:hover:not(:disabled){background-color:var(--bg-hover);transform:translateY(-2px);box-shadow:0 4px 8px rgba(0,0,0,.1)}._modalForm_1jflv_514 ._formActions_1jflv_550 ._cancelButton_1jflv_247:active:not(:disabled){transform:translateY(0);box-shadow:none}._modalForm_1jflv_514 ._formActions_1jflv_550 ._submitButton_1jflv_582{background-color:var(--accent);border:none;color:#fff;box-shadow:0 4px 10px rgba(var(--accent-rgb),.3)}._modalForm_1jflv_514 ._formActions_1jflv_550 ._submitButton_1jflv_582:hover:not(:disabled){background-color:var(--accent-dark);transform:translateY(-3px);box-shadow:0 8px 15px rgba(var(--accent-rgb),.4)}._modalForm_1jflv_514 ._formActions_1jflv_550 ._submitButton_1jflv_582:active:not(:disabled){transform:translateY(-1px);box-shadow:0 4px 8px rgba(var(--accent-rgb),.3)}._modalHeader_1jflv_598{display:flex;justify-content:space-between;align-items:center;margin-bottom:28px;padding-bottom:18px;border-bottom:2px solid rgba(var(--accent-rgb),.1)}._modalHeader_1jflv_598 h3{font-size:22px;font-weight:600;margin:0;color:var(--text-primary);text-align:left}._modalHeader_1jflv_598 ._closeButton_1jflv_413{background:rgba(0,0,0,.05);border:none;color:var(--text-secondary);cursor:pointer;padding:10px;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .2s ease;margin:0;width:auto;box-shadow:none}._modalHeader_1jflv_598 ._closeButton_1jflv_413:hover{background-color:rgba(var(--accent-rgb),.1);color:var(--accent);transform:none;box-shadow:none}._errorMessage_1jflv_635,._successMessage_1jflv_635{padding:14px;border-radius:8px;display:flex;align-items:center;gap:12px;font-size:14px;line-height:1.4;animation:_fadeIn_1jflv_1 .3s ease-in-out}._errorMessage_1jflv_635{background-color:rgba(239,68,68,.1);border:1px solid rgba(239,68,68,.2);color:#dc2626}._successMessage_1jflv_635{background-color:rgba(34,197,94,.1);border:1px solid rgba(34,197,94,.2);color:#16a34a}@keyframes _fadeIn_1jflv_1{0%{opacity:0;transform:translateY(-5px)}to{opacity:1;transform:translateY(0)}}._modalMotion_1jflv_668{width:100%;max-width:500px;display:flex;flex-direction:column}._passwordStrength_1jflv_675{margin-top:8px;width:100%}._passwordStrengthInfo_1jflv_680{display:flex;justify-content:space-between;margin-bottom:4px}._passwordStrengthText_1jflv_686{font-size:14px;font-weight:500}._passwordStrengthPercentage_1jflv_691{font-size:14px;color:var(--text-secondary)}._passwordStrengthBar_1jflv_696{height:6px;width:100%;background-color:#e5e7eb;border-radius:3px;overflow:hidden;position:relative}._passwordStrengthFill_1jflv_705{height:100%;position:absolute;left:0;top:0;border-radius:3px;transition:width .3s ease-out}._formActions_1jflv_550 ._submitButton_1jflv_582{min-width:130px;display:flex;justify-content:center;align-items:center}._formActions_1jflv_550 ._submitButton_1jflv_582 span{display:inline-flex;align-items:center}._successMessage_1jflv_635{padding:40px 20px;display:flex;flex-direction:column;align-items:center;gap:20px;text-align:center}._successMessage_1jflv_635 svg{font-size:45px;color:#16a34a;background:rgba(34,197,94,.2);padding:18px;border-radius:50%;box-shadow:0 5px 15px rgba(34,197,94,.3)}[data-theme=dark] ._successMessage_1jflv_635 svg{color:#22c55e;background:rgba(22,163,74,.25);box-shadow:0 0 0 3px rgba(34,197,94,.4),0 5px 15px rgba(34,197,94,.4)}._successMessage_1jflv_635 span{font-weight:600;font-size:20px;color:var(--text-primary)}._avatarWrapper_1jflv_753{position:relative;border-radius:50%;overflow:hidden;box-shadow:0 5px 15px rgba(0,0,0,.1);transition:all .3s ease}._avatarWrapper_1jflv_753:hover{transform:translateY(-5px);box-shadow:0 8px 20px rgba(0,0,0,.2)}._loadingOverlay_1jflv_765{position:absolute;top:0;left:0;right:0;bottom:0;background-color:rgba(var(--accent-rgb),.7);display:flex;align-items:center;justify-content:center;border-radius:50%;z-index:2}._avatarHint_1jflv_779{text-align:center;color:var(--text-secondary);margin-top:20px;font-size:15px;line-height:1.5;padding:0 15px}._avatarHint_1jflv_779:before{content:"";display:block;width:40px;height:2px;background-color:rgba(var(--accent-rgb),.3);margin:0 auto 15px}._adminEditForm_1jflv_796{background-color:var(--bg-secondary);padding:20px;border-radius:8px;margin-top:20px;border:1px solid var(--border)}[data-theme=dark] ._adminEditForm_1jflv_796{background-color:rgba(255,255,255,.05)}._formGroup_1jflv_520{margin-bottom:20px}._formGroup_1jflv_520 label{display:block;margin-bottom:8px;font-weight:500;color:var(--text-primary)}._blockLabel_1jflv_817{display:block;margin-bottom:10px;font-weight:500;color:var(--text-primary)}._formInput_1jflv_824,._formSelect_1jflv_824{width:100%;padding:10px;border:1px solid var(--border);border-radius:4px;background-color:var(--bg-input);color:var(--text-primary);font-size:16px}._formInput_1jflv_824:focus,._formSelect_1jflv_824:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 2px rgba(29,161,242,.1)}[data-theme=dark] ._formInput_1jflv_824,[data-theme=dark] ._formSelect_1jflv_824{background-color:rgba(255,255,255,.1);border-color:rgba(255,255,255,.2)}._checkboxGroup_1jflv_843{display:flex;flex-direction:column;gap:12px}._checkboxLabel_1jflv_849{display:flex;align-items:flex-start;gap:10px;cursor:pointer}._checkboxLabel_1jflv_849 input[type=checkbox]{margin-top:3px;cursor:pointer}._checkboxLabel_1jflv_849 input[type=checkbox]:disabled{cursor:not-allowed;opacity:.7}._checkboxText_1jflv_864{display:flex;flex-direction:column}._statusMessage_1jflv_869{padding:12px;border-radius:4px;margin-bottom:20px;display:flex;align-items:center;gap:10px}._statusMessage_1jflv_869._error_1jflv_65{background-color:rgba(231,76,60,.1);color:#e74c3c;border-left:3px solid #e74c3c}._statusMessage_1jflv_869._success_1jflv_635{background-color:rgba(46,204,113,.1);color:#2ecc71;border-left:3px solid #2ecc71}._statusMessage_1jflv_869._info_1jflv_887{background-color:rgba(52,152,219,.1);color:#3498db;border-left:3px solid #3498db}._statusMessage_1jflv_869 svg{font-size:18px}._loadingIcon_1jflv_896{animation:_spin_1jflv_1 1s linear infinite}@keyframes _spin_1jflv_1{0%{transform:rotate(0)}to{transform:rotate(360deg)}}._adminActions_1jflv_221{margin-top:2rem;padding:1.5rem;background-color:#f8f9fa;border-radius:10px;border:1px solid #eee;box-shadow:0 2px 10px rgba(0,0,0,.05)}[data-theme=dark] ._adminActions_1jflv_221{background-color:#292929;border-color:#333;box-shadow:0 2px 10px rgba(0,0,0,.2)}._adminActions_1jflv_221 h2{font-size:1.25rem;margin-bottom:1rem;color:#333;display:flex;align-items:center;gap:8px}[data-theme=dark] ._adminActions_1jflv_221 h2{color:#e0e0e0}._adminActions_1jflv_221 h2 svg{color:#666}[data-theme=dark] ._adminActions_1jflv_221 h2 svg{color:#999}._adminActions_1jflv_221 ._actionButtons_1jflv_242{display:flex;gap:10px}._adminActions_1jflv_221 ._actionButtons_1jflv_242 button{padding:10px 15px;border:none;border-radius:5px;font-size:.9rem;cursor:pointer;display:flex;align-items:center;gap:6px;transition:all .2s ease}._adminActions_1jflv_221 ._actionButtons_1jflv_242 button svg{font-size:1rem}._adminActions_1jflv_221 ._actionButtons_1jflv_242 button._editButton_1jflv_247{background-color:#3498db;color:#fff}._adminActions_1jflv_221 ._actionButtons_1jflv_242 button._editButton_1jflv_247:hover{background-color:#2980b9;transform:translateY(-2px);box-shadow:0 2px 5px rgba(0,0,0,.2)}[data-theme=dark] ._adminActions_1jflv_221 ._actionButtons_1jflv_242 button._editButton_1jflv_247{background-color:#2980b9}[data-theme=dark] ._adminActions_1jflv_221 ._actionButtons_1jflv_242 button._editButton_1jflv_247:hover{background-color:#3498db;box-shadow:0 2px 5px rgba(0,0,0,.4)}._adminActions_1jflv_221 ._actionButtons_1jflv_242 button._banButton_1jflv_247{background-color:#e74c3c;color:#fff}._adminActions_1jflv_221 ._actionButtons_1jflv_242 button._banButton_1jflv_247:hover{background-color:#c0392b;transform:translateY(-2px);box-shadow:0 2px 5px rgba(0,0,0,.2)}[data-theme=dark] ._adminActions_1jflv_221 ._actionButtons_1jflv_242 button._banButton_1jflv_247{background-color:#c0392b}[data-theme=dark] ._adminActions_1jflv_221 ._actionButtons_1jflv_242 button._banButton_1jflv_247:hover{background-color:#e74c3c;box-shadow:0 2px 5px rgba(0,0,0,.4)}._adminEditForm_1jflv_796{background-color:#fff;padding:1.5rem;border-radius:8px;border:1px solid #eee;margin-top:1rem}[data-theme=dark] ._adminEditForm_1jflv_796{background-color:#252530;border-color:#333}._adminEditForm_1jflv_796 ._formGroup_1jflv_520{margin-bottom:1.25rem}._adminEditForm_1jflv_796 ._formGroup_1jflv_520 label{display:block;margin-bottom:.75rem;font-size:.95rem;font-weight:500;color:#444;display:flex;align-items:center;gap:6px}[data-theme=dark] ._adminEditForm_1jflv_796 ._formGroup_1jflv_520 label{color:#ccc}._adminEditForm_1jflv_796 ._formGroup_1jflv_520 label svg{color:#666}[data-theme=dark] ._adminEditForm_1jflv_796 ._formGroup_1jflv_520 label svg{color:#999}._adminEditForm_1jflv_796 ._formGroup_1jflv_520 input[type=text]{width:100%;padding:.75rem 1rem;border:1px solid #ddd;border-radius:6px;font-size:1rem}._adminEditForm_1jflv_796 ._formGroup_1jflv_520 input[type=text]:focus{outline:none;border-color:#3498db;box-shadow:0 0 0 2px rgba(52,152,219,.2)}[data-theme=dark] ._adminEditForm_1jflv_796 ._formGroup_1jflv_520 input[type=text]{background-color:#1e1e24;border-color:#444;color:#e0e0e0}[data-theme=dark] ._adminEditForm_1jflv_796 ._formGroup_1jflv_520 input[type=text]:focus{border-color:#3498db;box-shadow:0 0 0 2px rgba(52,152,219,.3)}._adminEditForm_1jflv_796 ._perksOptions_1jflv_1043{display:flex;flex-direction:column;gap:.75rem;padding:1rem;background-color:#f8f9fa;border-radius:6px;border:1px solid #eee}[data-theme=dark] ._adminEditForm_1jflv_796 ._perksOptions_1jflv_1043{background-color:#1e1e24;border-color:#333}._adminEditForm_1jflv_796 ._perkOption_1jflv_1056{display:flex;align-items:center}._adminEditForm_1jflv_796 ._perkOption_1jflv_1056 label{margin:0 0 0 .75rem;font-weight:400;cursor:pointer;font-size:.95rem}[data-theme=dark] ._adminEditForm_1jflv_796 ._perkOption_1jflv_1056 label{color:#ccc}._adminEditForm_1jflv_796 ._perkOption_1jflv_1056 input[type=checkbox]{cursor:pointer;width:18px;height:18px}._adminEditForm_1jflv_796 ._perkOption_1jflv_1056 input[type=checkbox]:checked{accent-color:#3498db}._adminEditForm_1jflv_796 ._basePerk_1jflv_1077{background-color:rgba(52,152,219,.05);padding:10px;border-radius:6px;border-left:3px solid #3498db}[data-theme=dark] ._adminEditForm_1jflv_796 ._basePerk_1jflv_1077{background-color:rgba(52,152,219,.1)}._adminEditForm_1jflv_796 ._basePerk_1jflv_1077 ._baseLabel_1jflv_1086{font-weight:500}._adminEditForm_1jflv_796 ._basePerk_1jflv_1077 ._baseLabel_1jflv_1086 ._baseNote_1jflv_1089{font-size:.8rem;opacity:.7;font-style:italic;margin-left:5px}._adminEditForm_1jflv_796 ._selectPerk_1jflv_1095{width:100%;padding:.75rem 1rem;border:1px solid #ddd;border-radius:6px;font-size:1rem;background-color:#fff}._adminEditForm_1jflv_796 ._selectPerk_1jflv_1095:focus{outline:none;border-color:#3498db;box-shadow:0 0 0 2px rgba(52,152,219,.2)}[data-theme=dark] ._adminEditForm_1jflv_796 ._selectPerk_1jflv_1095{background-color:#1e1e24;border-color:#444;color:#e0e0e0}[data-theme=dark] ._adminEditForm_1jflv_796 ._selectPerk_1jflv_1095:focus{border-color:#3498db;box-shadow:0 0 0 2px rgba(52,152,219,.3)}[data-theme=dark] ._adminEditForm_1jflv_796 ._selectPerk_1jflv_1095 option{background-color:#1e1e24}._adminEditForm_1jflv_796 ._formActions_1jflv_550{display:flex;justify-content:flex-end;gap:.75rem;margin-top:1.5rem}._adminEditForm_1jflv_796 ._cancelButton_1jflv_247,._adminEditForm_1jflv_796 ._saveButton_1jflv_247{padding:.75rem 1.5rem;border-radius:6px;font-size:.95rem;cursor:pointer;display:flex;align-items:center;gap:6px;transition:all .2s ease}._adminEditForm_1jflv_796 ._cancelButton_1jflv_247{background-color:#f0f0f0;border:none;color:#333}._adminEditForm_1jflv_796 ._cancelButton_1jflv_247:hover{background-color:#e0e0e0}[data-theme=dark] ._adminEditForm_1jflv_796 ._cancelButton_1jflv_247{background-color:#3a3a3a;color:#ddd}[data-theme=dark] ._adminEditForm_1jflv_796 ._cancelButton_1jflv_247:hover{background-color:#444}._adminEditForm_1jflv_796 ._saveButton_1jflv_247{background-color:#3498db;border:none;color:#fff}._adminEditForm_1jflv_796 ._saveButton_1jflv_247:hover:not(:disabled){background-color:#2980b9}._adminEditForm_1jflv_796 ._saveButton_1jflv_247:disabled{opacity:.7;cursor:not-allowed}[data-theme=dark] ._adminEditForm_1jflv_796 ._saveButton_1jflv_247{background-color:#2980b9}[data-theme=dark] ._adminEditForm_1jflv_796 ._saveButton_1jflv_247:hover:not(:disabled){background-color:#3498db}._statusMessage_1jflv_869{padding:.75rem 1rem;border-radius:6px;margin-bottom:1rem;font-size:.9rem;display:flex;align-items:center;gap:8px}._statusMessage_1jflv_869 svg{font-size:1.1rem;flex-shrink:0}._statusMessage_1jflv_869._success_1jflv_635{background-color:rgba(46,204,113,.1);border-left:3px solid #2ecc71;color:#2ecc71}[data-theme=dark] ._statusMessage_1jflv_869._success_1jflv_635{background-color:rgba(46,204,113,.15)}._statusMessage_1jflv_869._error_1jflv_65{background-color:rgba(231,76,60,.1);border-left:3px solid #e74c3c;color:#e74c3c}[data-theme=dark] ._statusMessage_1jflv_869._error_1jflv_65{background-color:rgba(231,76,60,.15)}._statusMessage_1jflv_869._info_1jflv_887{background-color:rgba(52,152,219,.1);border-left:3px solid #3498db;color:#3498db}[data-theme=dark] ._statusMessage_1jflv_869._info_1jflv_887{background-color:rgba(52,152,219,.15)}._banInfoBox_1jflv_1209{background-color:rgba(231,76,60,.1);border-left:4px solid #e74c3c;border-radius:4px;padding:15px;margin-bottom:20px}._banInfoBox_1jflv_1209 h3{color:#e74c3c;margin-top:0;margin-bottom:15px;font-size:16px;display:flex;align-items:center}._banInfoBox_1jflv_1209 h3:before{content:"⚠️";margin-right:8px}[data-theme=dark] ._banInfoBox_1jflv_1209{background-color:rgba(231,76,60,.2);border-color:#c0392b}[data-theme=dark] ._banInfoBox_1jflv_1209 h3{color:#e67e22}._banDetails_1jflv_1236{margin-bottom:15px}._banDetails_1jflv_1236 p{margin:8px 0;color:var(--text-primary);font-size:14px}._banDetails_1jflv_1236 ._bannedStatus_1jflv_1244{display:inline-block;background-color:#e74c3c;color:#fff;padding:2px 8px;border-radius:12px;font-size:12px;font-weight:500}[data-theme=dark] ._banDetails_1jflv_1236 ._bannedStatus_1jflv_1244{background-color:#c0392b}._banDetails_1jflv_1236 ._banDuration_1jflv_1256{display:inline-flex;align-items:center;gap:5px;color:var(--text-primary)}._banDetails_1jflv_1236 ._banDuration_1jflv_1256 svg{color:#e74c3c}._unbanButton_1jflv_1266{background-color:#27ae60;color:#fff;border:none;border-radius:4px;padding:8px 16px;font-size:14px;cursor:pointer;display:flex;align-items:center;gap:8px;transition:background-color .2s}._unbanButton_1jflv_1266:hover{background-color:#2ecc71}._unbanButton_1jflv_1266:disabled{opacity:.7;cursor:not-allowed}[data-theme=dark] ._unbanButton_1jflv_1266{background-color:#219653}[data-theme=dark] ._unbanButton_1jflv_1266:hover{background-color:#27ae60}._banButton_1jflv_247{background-color:#e74c3c;color:#fff;border:none;border-radius:4px;padding:8px 16px;font-size:14px;cursor:pointer;display:flex;align-items:center;gap:8px;transition:background-color .2s}._banButton_1jflv_247:hover{background-color:#c0392b}._banButton_1jflv_247:disabled{opacity:.7;cursor:not-allowed}[data-theme=dark] ._banButton_1jflv_247{background-color:#c0392b}[data-theme=dark] ._banButton_1jflv_247:hover{background-color:#a93226}._modalOverlay_1jflv_308{position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;z-index:1000}[data-theme=dark] ._modalOverlay_1jflv_308{background-color:rgba(0,0,0,.7)}._banDialog_1jflv_1336{background-color:var(--background-color);border-radius:8px;box-shadow:0 5px 20px rgba(0,0,0,.2);width:90%;max-width:500px;overflow:hidden}[data-theme=dark] ._banDialog_1jflv_1336{box-shadow:0 5px 20px rgba(0,0,0,.4)}._banDialogHeader_1jflv_1348{background-color:#e74c3c;color:#fff;padding:15px 20px;display:flex;justify-content:space-between;align-items:center}._banDialogHeader_1jflv_1348 h3{margin:0;font-size:18px}._banDialogHeader_1jflv_1348 ._closeButton_1jflv_413{background:none;border:none;color:#fff;cursor:pointer;padding:5px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:background-color .2s}._banDialogHeader_1jflv_1348 ._closeButton_1jflv_413:hover{background-color:rgba(255,255,255,.2)}[data-theme=dark] ._banDialogHeader_1jflv_1348{background-color:#c0392b}._banDialogContent_1jflv_1379{padding:20px}._banDialogContent_1jflv_1379 ._formGroup_1jflv_520{margin-bottom:20px}._banDialogContent_1jflv_1379 ._formGroup_1jflv_520 label{display:block;margin-bottom:8px;font-weight:500;color:var(--text-primary)}._banDialogContent_1jflv_1379 ._formGroup_1jflv_520 textarea,._banDialogContent_1jflv_1379 ._formGroup_1jflv_520 select{width:100%;padding:10px 12px;border:1px solid var(--border-color, #e1e4e8);border-radius:4px;font-size:14px;background-color:var(--input-bg, white);color:var(--text-primary)}._banDialogContent_1jflv_1379 ._formGroup_1jflv_520 textarea:focus,._banDialogContent_1jflv_1379 ._formGroup_1jflv_520 select:focus{border-color:#3498db;outline:none;box-shadow:0 0 0 2px rgba(52,152,219,.2)}[data-theme=dark] ._banDialogContent_1jflv_1379 ._formGroup_1jflv_520 textarea,[data-theme=dark] ._banDialogContent_1jflv_1379 ._formGroup_1jflv_520 select{border-color:#444;background-color:#333}[data-theme=dark] ._banDialogContent_1jflv_1379{color:var(--text-primary)}._banDialogActions_1jflv_1416{display:flex;justify-content:flex-end;gap:10px;margin-top:20px}._banDialogActions_1jflv_1416 ._cancelButton_1jflv_247{background-color:#eee;color:#333;border:none;border-radius:4px;padding:8px 16px;font-size:14px;cursor:pointer;display:flex;align-items:center;gap:8px;transition:background-color .2s}._banDialogActions_1jflv_1416 ._cancelButton_1jflv_247:hover{background-color:#ddd}._banDialogActions_1jflv_1416 ._cancelButton_1jflv_247:disabled{opacity:.7;cursor:not-allowed}[data-theme=dark] ._banDialogActions_1jflv_1416 ._cancelButton_1jflv_247{background-color:#444;color:#eee}[data-theme=dark] ._banDialogActions_1jflv_1416 ._cancelButton_1jflv_247:hover{background-color:#555}._postsContainer_t3mo6_2{width:100%;max-width:800px;margin:0 auto;padding:20px}._postsHeader_t3mo6_9{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}._postsHeader_t3mo6_9 h2{font-size:1.5rem;font-weight:600;margin:0;color:var(--text-primary);display:flex;align-items:center;gap:10px}._postsHeader_t3mo6_9 h2 svg{color:var(--accent)}._refreshButton_t3mo6_28{padding:8px 16px;background-color:var(--accent);color:#fff;border:none;border-radius:var(--radius-md);font-size:14px;font-weight:500;cursor:pointer;transition:all var(--transition-fast);display:flex;align-items:center;gap:8px}._refreshButton_t3mo6_28:hover:not(:disabled){background-color:var(--accent-hover);transform:translateY(-2px)}._refreshButton_t3mo6_28:disabled{opacity:.7;cursor:not-allowed}._refreshButton_t3mo6_28 svg{font-size:16px}._postsList_t3mo6_54{display:flex;flex-direction:column;gap:24px;margin-top:20px}._loading_t3mo6_61{text-align:center;padding:40px 0;color:var(--text-secondary);font-size:18px;display:flex;align-items:center;justify-content:center;gap:10px}._loading_t3mo6_61 svg{animation:_spin_t3mo6_1 1s linear infinite}@keyframes _spin_t3mo6_1{0%{transform:rotate(0)}to{transform:rotate(360deg)}}._errorMessage_t3mo6_83{background-color:rgba(231,76,60,.1);color:var(--error);padding:12px 16px;border-radius:var(--radius-md);margin-bottom:20px;font-size:14px;display:flex;align-items:center;gap:8px;border-left:3px solid var(--error)}._errorMessage_t3mo6_83 svg{font-size:18px}._noPosts_t3mo6_99{text-align:center;padding:40px 0;color:var(--text-secondary);font-size:16px;display:flex;flex-direction:column;align-items:center;gap:16px}._noPosts_t3mo6_99 svg{font-size:48px;opacity:.5}._notAuthenticatedMessage_t3mo6_114{text-align:center;padding:16px;background-color:var(--bg-secondary);border-radius:var(--radius-md);color:var(--text-secondary);margin-bottom:20px;font-size:15px;display:flex;align-items:center;justify-content:center;gap:8px}._notAuthenticatedMessage_t3mo6_114 svg{color:var(--accent)}._createPostContainer_t3mo6_131{background:var(--bg-secondary);border-radius:var(--radius-lg);border:1px solid var(--border);padding:20px;margin-bottom:24px;transition:all var(--transition-fast)}._createPostTitle_t3mo6_140{font-size:1.25rem;font-weight:600;margin:0 0 16px;color:var(--text-primary);display:flex;align-items:center;gap:8px}._createPostTitle_t3mo6_140 svg{color:var(--accent)}._createPostForm_t3mo6_153{display:flex;flex-direction:column;gap:16px}._contentInput_t3mo6_159{width:100%;padding:16px;border:1px solid var(--border);border-radius:var(--radius-md);resize:none;min-height:100px;background-color:var(--bg-input);color:var(--text-primary);font-size:16px}._contentInput_t3mo6_159:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 2px var(--accent-light)}._contentInput_t3mo6_159::placeholder{color:var(--text-tertiary)}._imageUrlInput_t3mo6_179{width:100%;padding:12px 16px;border:1px solid var(--border);border-radius:8px;background-color:var(--bg-input);color:var(--text-primary)}._imageUrlInput_t3mo6_179:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 2px rgba(76,155,254,.15)}._imageUrlInput_t3mo6_179::placeholder{color:var(--text-tertiary)}._pollContainer_t3mo6_196{display:flex;flex-direction:column;gap:15px;padding:20px;margin-top:15px;margin-bottom:15px;background-color:var(--bg-highlight);border-radius:12px;border:1px solid var(--border-color);position:relative}[data-theme=dark] ._pollContainer_t3mo6_196{background-color:rgba(255,255,255,.03);border-color:rgba(255,255,255,.1)}._pollContainer_t3mo6_196:before{content:"📊 Опрос";position:absolute;top:-10px;left:15px;background-color:var(--accent);color:#fff;font-size:12px;font-weight:600;padding:3px 10px;border-radius:12px;box-shadow:0 2px 8px rgba(29,161,242,.2);display:none}._pollQuestionInput_t3mo6_227{width:100%;padding:12px 16px;border:1px solid var(--border);border-radius:8px;background-color:var(--bg-input);color:var(--text-primary);font-size:15px}._pollQuestionInput_t3mo6_227:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 2px rgba(76,155,254,.15)}._pollQuestionInput_t3mo6_227::placeholder{color:var(--text-tertiary)}[data-theme=dark] ._pollQuestionInput_t3mo6_227{background-color:rgba(255,255,255,.05);border-color:rgba(255,255,255,.1);color:rgba(255,255,255,.9)}[data-theme=dark] ._pollQuestionInput_t3mo6_227::placeholder{color:rgba(255,255,255,.5)}._pollOptionInputWrapper_t3mo6_259{display:flex;gap:10px;align-items:center}._pollOptionInput_t3mo6_259{flex:1;padding:12px 16px;border:1px solid var(--border);border-radius:8px;background-color:var(--bg-input);color:var(--text-primary);font-size:14px}._pollOptionInput_t3mo6_259:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 2px rgba(76,155,254,.15)}._pollOptionInput_t3mo6_259::placeholder{color:var(--text-tertiary)}[data-theme=dark] ._pollOptionInput_t3mo6_259{background-color:rgba(255,255,255,.05);border-color:rgba(255,255,255,.1);color:rgba(255,255,255,.9)}[data-theme=dark] ._pollOptionInput_t3mo6_259::placeholder{color:rgba(255,255,255,.5)}._removeOptionButton_t3mo6_291{width:32px;height:32px;border:none;background-color:rgba(231,76,60,.1);color:#e74c3c;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease}._removeOptionButton_t3mo6_291:hover{background-color:rgba(231,76,60,.2);transform:scale(1.1)}._removeOptionButton_t3mo6_291 svg{font-size:16px}[data-theme=dark] ._removeOptionButton_t3mo6_291{background-color:rgba(231,76,60,.2);color:#ff6b6b}[data-theme=dark] ._removeOptionButton_t3mo6_291:hover{background-color:rgba(231,76,60,.3)}._addOptionButton_t3mo6_319{margin-top:5px;padding:8px 16px;background:none;border:1px dashed var(--border);border-radius:8px;color:var(--accent);font-size:14px;font-weight:500;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center;gap:8px}._addOptionButton_t3mo6_319:hover{background-color:rgba(29,161,242,.05);border-color:var(--accent)}[data-theme=dark] ._addOptionButton_t3mo6_319:hover{background-color:rgba(29,161,242,.1);border-color:var(--accent)}._formOptions_t3mo6_347{display:flex;justify-content:space-between;align-items:center;margin-top:16px}._formToggles_t3mo6_354{display:flex;gap:12px;flex-wrap:wrap}._optionToggle_t3mo6_360{display:flex;align-items:center;gap:5px;font-size:14px;color:var(--text-secondary);cursor:pointer;padding:6px 12px;border-radius:var(--radius-md);background-color:var(--bg-tertiary);transition:all var(--transition-fast)}._optionToggle_t3mo6_360:hover{background-color:var(--bg-hover)}._optionToggle_t3mo6_360 input[type=checkbox]{margin-right:5px;cursor:pointer}._optionToggle_t3mo6_360 svg{font-size:16px;color:var(--text-secondary);pointer-events:none}._optionToggle_t3mo6_360 *{cursor:pointer}._submitButton_t3mo6_388{padding:10px 18px;background-color:var(--accent);color:#fff;border:none;border-radius:var(--radius-md);font-size:14px;font-weight:500;cursor:pointer;transition:all var(--transition-fast);display:flex;align-items:center;gap:8px}._submitButton_t3mo6_388:hover:not(:disabled){background-color:var(--accent-hover)}._submitButton_t3mo6_388:disabled{opacity:.7;cursor:not-allowed}._submitButton_t3mo6_388 svg{font-size:16px}._postItem_t3mo6_413{background-color:var(--bg-secondary);border-radius:16px;padding:24px;box-shadow:0 2px 8px rgba(0,0,0,.05);transition:all .2s ease;position:relative;border:1px solid var(--border)}[data-theme=dark] ._postItem_t3mo6_413{background-color:rgba(255,255,255,.05);border-color:rgba(255,255,255,.1);box-shadow:0 4px 20px rgba(0,0,0,.2)}._postItem_t3mo6_413:hover{box-shadow:0 4px 12px rgba(0,0,0,.08)}[data-theme=dark] ._postItem_t3mo6_413:hover{box-shadow:0 8px 24px rgba(0,0,0,.25);border-color:rgba(255,255,255,.15)}._postItem_t3mo6_413._pinnedPost_t3mo6_434{border:2px solid var(--accent);position:relative}._postItem_t3mo6_413._pinnedPost_t3mo6_434:before{content:"";position:absolute;top:-2px;left:-2px;right:-2px;bottom:-2px;background:linear-gradient(45deg,var(--accent),transparent 60%);border-radius:16px;z-index:-1;opacity:.1;transition:opacity .3s ease}._postItem_t3mo6_413._pinnedPost_t3mo6_434:hover:before{opacity:.2}[data-theme=dark] ._postItem_t3mo6_413._pinnedPost_t3mo6_434{border:2px solid var(--accent)}[data-theme=dark] ._postItem_t3mo6_413._pinnedPost_t3mo6_434:before{background:linear-gradient(45deg,var(--accent),transparent 80%);opacity:.15}[data-theme=dark] ._postItem_t3mo6_413._pinnedPost_t3mo6_434:hover:before{opacity:.25}._postHeader_t3mo6_465{display:flex;align-items:center;justify-content:space-between;margin-bottom:16px}._authorInfo_t3mo6_472{display:flex;align-items:center;text-decoration:none;color:inherit;gap:12px;font-size:1.5rem}._authorName_t3mo6_481{font-weight:500}._avatar_t3mo6_485{width:40px;height:40px;border-radius:50%;object-fit:cover;box-shadow:0 2px 6px rgba(0,0,0,.1)}[data-theme=dark] ._avatar_t3mo6_485{box-shadow:0 2px 6px rgba(0,0,0,.25)}._postDate_t3mo6_496{font-size:14px;color:var(--text-tertiary);display:flex;align-items:center;gap:6px}._postDate_t3mo6_496 svg{font-size:14px}._postContent_t3mo6_507{margin:15px 0;font-size:16px;line-height:1.5;white-space:pre-wrap;word-break:break-word;color:var(--text-primary)}[data-theme=dark] ._postContent_t3mo6_507 ._darkTextConversion_t3mo6_515{color:var(--text-primary)!important}@media (max-width: 768px){._postContent_t3mo6_507{font-size:17px;line-height:1.6}._postContent_t3mo6_507 p,._postContent_t3mo6_507 span,._postContent_t3mo6_507 div{font-size:inherit}}@media (max-width: 480px){._postContent_t3mo6_507{font-size:18px;line-height:1.7}}._postImage_t3mo6_534{margin:16px 0;border-radius:12px;overflow:hidden;box-shadow:0 2px 10px rgba(0,0,0,.1)}._postImage_t3mo6_534 img{width:100%;max-height:500px;object-fit:contain;display:block}._postPoll_t3mo6_547{background-color:var(--bg-highlight);border-radius:8px;padding:16px;margin-bottom:16px}[data-theme=dark] ._postPoll_t3mo6_547{background-color:rgba(255,255,255,.08);border:1px solid rgba(255,255,255,.1)}._pollTitle_t3mo6_558{font-weight:500;margin-bottom:12px;color:var(--text-primary);font-size:16px}@media (max-width: 768px){._pollTitle_t3mo6_558{font-size:17px}}._pollOptions_t3mo6_253{display:flex;flex-direction:column;gap:10px}._pollOption_t3mo6_253{display:flex;flex-direction:column}._pollOption_t3mo6_253 label{display:flex;align-items:center;gap:10px;cursor:pointer;padding:10px;border-radius:8px;transition:background-color .2s ease}._pollOption_t3mo6_253 label:hover{background-color:var(--bg-hover)}._pollOption_t3mo6_253 label input{cursor:pointer}[data-theme=dark] ._pollOption_t3mo6_253 label:hover{background-color:rgba(255,255,255,.08)}@media (max-width: 768px){._pollOption_t3mo6_253 label{font-size:16px;padding:12px 10px}}._pollResults_t3mo6_605{margin-top:16px}._pollResults_t3mo6_605 ._pollResultOption_t3mo6_608{margin-bottom:10px}._pollResults_t3mo6_605 ._pollResultOption_t3mo6_608 ._pollOptionText_t3mo6_611{display:flex;justify-content:space-between;font-size:14px;margin-bottom:4px}._pollResults_t3mo6_605 ._pollResultOption_t3mo6_608 ._pollOptionText_t3mo6_611 ._pollOptionVotes_t3mo6_617{color:var(--text-secondary)}._pollResults_t3mo6_605 ._pollResultOption_t3mo6_608 ._pollProgressBar_t3mo6_620{height:8px;background-color:var(--bg-input);border-radius:4px;overflow:hidden}._pollResults_t3mo6_605 ._pollResultOption_t3mo6_608 ._pollProgressBar_t3mo6_620 ._pollProgress_t3mo6_620{height:100%;background-color:var(--accent);border-radius:4px;transition:width .5s ease}._pollVotersCount_t3mo6_633{font-size:12px;margin-top:16px;color:var(--text-tertiary);text-align:right}._postActions_t3mo6_640{display:flex;align-items:center;justify-content:space-between;border-top:1px solid var(--border);padding-top:16px;margin-top:16px}._actionButtons_t3mo6_649{display:flex;gap:16px}._actionButtons_t3mo6_649 button{background:none;border:none;padding:8px;border-radius:50%;cursor:pointer;display:flex;align-items:center;color:var(--text-secondary);transition:all .2s}._actionButtons_t3mo6_649 button:hover{background-color:rgba(29,161,242,.1);color:var(--accent)}[data-theme=dark] ._actionButtons_t3mo6_649 button:hover{background-color:rgba(29,161,242,.2)}._actionButtons_t3mo6_649 button svg{font-size:20px}._likeButton_t3mo6_675{color:var(--text-secondary);display:flex;align-items:center;gap:8px}._likeButton_t3mo6_675._liked_t3mo6_681{color:#e0245e}._likeButton_t3mo6_675._liked_t3mo6_681:hover{color:#e0245e;background-color:rgba(224,36,94,.1)}[data-theme=dark] ._likeButton_t3mo6_675._liked_t3mo6_681:hover{background-color:rgba(224,36,94,.2)}._likeCount_t3mo6_692{font-size:14px}._commentButton_t3mo6_696{display:flex;align-items:center;gap:8px;background:none;border:none;color:var(--text-secondary);padding:8px 12px;border-radius:8px;cursor:pointer;transition:all .2s ease}._commentButton_t3mo6_696:hover{background-color:var(--bg-hover)}._commentButton_t3mo6_696 svg{font-size:20px}._deleteButton_t3mo6_715{display:flex;align-items:center;gap:6px;background-color:rgba(231,76,60,.1);border:none;color:#e74c3c;padding:6px 12px;border-radius:6px;font-size:14px;cursor:pointer;transition:all .2s ease}._deleteButton_t3mo6_715:hover:not(:disabled){background-color:#e74c3c;color:#fff}._deleteButton_t3mo6_715:disabled{opacity:.7;cursor:not-allowed}._commentsSection_t3mo6_737{margin-top:20px;padding-top:15px;border-top:1px solid var(--border)}._commentsHeading_t3mo6_743{display:flex;align-items:center;gap:8px;font-size:18px;font-weight:600;margin-bottom:15px;color:var(--text-primary)}._loadingComments_t3mo6_753{display:flex;align-items:center;justify-content:center;padding:20px;color:var(--text-secondary);gap:8px}._loadingComments_t3mo6_753 svg{animation:_spin_t3mo6_1 1s linear infinite}._noComments_t3mo6_765{padding:20px;text-align:center;color:var(--text-secondary);background-color:var(--bg-highlight);border-radius:8px;font-style:italic}._commentForm_t3mo6_774{margin-top:20px;padding:15px;border-radius:10px;background-color:var(--bg-highlight);box-shadow:0 2px 8px rgba(0,0,0,.1)}[data-theme=dark] ._commentForm_t3mo6_774{background-color:rgba(255,255,255,.05);box-shadow:0 2px 8px rgba(0,0,0,.2)}._commentForm_t3mo6_774 textarea{width:100%;min-height:80px;padding:12px;border-radius:8px;border:1px solid var(--border);background-color:var(--bg-input);color:var(--text-primary);font-size:15px;margin-bottom:12px;transition:border-color .2s,box-shadow .2s}._commentForm_t3mo6_774 textarea:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 2px rgba(29,161,242,.2)}[data-theme=dark] ._commentForm_t3mo6_774 textarea{background-color:rgba(255,255,255,.08);border-color:rgba(255,255,255,.15)}[data-theme=dark] ._commentForm_t3mo6_774 textarea:focus{box-shadow:0 0 0 2px rgba(29,161,242,.3)}._commentForm_t3mo6_774 button{background-color:var(--accent);color:#fff;border:none;border-radius:24px;padding:10px 20px;font-size:15px;font-weight:600;display:flex;align-items:center;gap:8px;cursor:pointer;margin-left:auto;transition:background-color .2s}._commentForm_t3mo6_774 button:hover:not(:disabled){background-color:var(--accent-dark)}._commentForm_t3mo6_774 button:disabled{opacity:.6;cursor:not-allowed}._commentForm_t3mo6_774 button svg{font-size:18px}._errorMessage_t3mo6_83{display:flex;align-items:center;gap:8px;padding:10px;margin-bottom:12px;background-color:rgba(231,76,60,.1);border-left:3px solid #e74c3c;color:#e74c3c;border-radius:4px}[data-theme=dark] ._errorMessage_t3mo6_83{background-color:rgba(231,76,60,.2)}._errorMessage_t3mo6_83 svg{flex-shrink:0}._commentItem_t3mo6_853{margin-bottom:20px;padding-left:10px;border-left:3px solid var(--accent)}[data-theme=dark] ._commentItem_t3mo6_853{border-left-color:rgba(29,161,242,.6)}._commentItem_t3mo6_853._commentReply_t3mo6_861{margin-left:30px;margin-top:15px;margin-bottom:10px;padding-left:10px;border-left:2px solid var(--accent-light, rgba(29, 161, 242, .4))}[data-theme=dark] ._commentItem_t3mo6_853._commentReply_t3mo6_861{border-left-color:rgba(29,161,242,.3)}._commentHeader_t3mo6_872{display:flex;align-items:center;margin-bottom:8px}._commentAuthorAvatar_t3mo6_878{width:32px;height:32px;border-radius:50%;overflow:hidden;margin-right:10px}._commentAuthorAvatar_t3mo6_878 img{width:100%;height:100%;object-fit:cover}._commentAuthorInfo_t3mo6_891{display:flex;flex-direction:column}._commentAuthor_t3mo6_878{text-decoration:none;font-weight:600;font-size:14px}._commentAuthor_t3mo6_878:hover{text-decoration:underline}._commentContent_t3mo6_905{margin-bottom:8px;font-size:14px;line-height:1.5;color:var(--text-primary);white-space:pre-wrap;word-break:break-word}._commentDate_t3mo6_914{font-size:12px;color:var(--text-tertiary);display:flex;align-items:center;gap:5px;margin-bottom:8px}._commentDate_t3mo6_914 svg{font-size:12px}._commentActions_t3mo6_926{display:flex;gap:12px;margin-top:8px;flex-wrap:wrap}._replyButton_t3mo6_933,._deleteCommentButton_t3mo6_934{background:none;border:none;font-size:13px;color:var(--text-secondary);display:flex;align-items:center;gap:5px;cursor:pointer;padding:4px 8px;border-radius:var(--radius-sm);transition:all var(--transition-fast)}._replyButton_t3mo6_933:hover,._deleteCommentButton_t3mo6_934:hover{background-color:var(--bg-hover)}._replyButton_t3mo6_933 svg,._deleteCommentButton_t3mo6_934 svg{font-size:16px}._deleteCommentButton_t3mo6_934{color:var(--error)}._deleteCommentButton_t3mo6_934:hover{background-color:rgba(231,76,60,.1)}._repliesContainer_t3mo6_963{margin-top:12px}._replyForm_t3mo6_967{margin-top:12px;display:flex;flex-direction:column;gap:10px;padding:10px;background-color:var(--bg-highlight);border-radius:8px}[data-theme=dark] ._replyForm_t3mo6_967{background-color:rgba(255,255,255,.03)}._replyForm_t3mo6_967 textarea{padding:10px;border-radius:6px;border:1px solid var(--border);background-color:var(--bg-input);color:var(--text-primary);min-height:60px;font-size:14px}._replyForm_t3mo6_967 textarea:focus{outline:none;border-color:var(--accent)}[data-theme=dark] ._replyForm_t3mo6_967 textarea{background-color:rgba(255,255,255,.05);border-color:rgba(255,255,255,.1)}._replyFormActions_t3mo6_997{display:flex;justify-content:flex-end;gap:10px}._cancelReplyButton_t3mo6_1003,._submitReplyButton_t3mo6_1003{padding:6px 12px;border-radius:20px;font-size:12px;font-weight:500;display:flex;align-items:center;gap:5px;cursor:pointer;transition:all .2s}._cancelReplyButton_t3mo6_1003{background:none;border:1px solid var(--border);color:var(--text-secondary)}._cancelReplyButton_t3mo6_1003:hover:not(:disabled){background-color:var(--bg-hover)}[data-theme=dark] ._cancelReplyButton_t3mo6_1003{border-color:rgba(255,255,255,.2);color:rgba(255,255,255,.7)}[data-theme=dark] ._cancelReplyButton_t3mo6_1003:hover:not(:disabled){background-color:rgba(255,255,255,.1)}._submitReplyButton_t3mo6_1003{background-color:var(--accent);border:none;color:#fff}._submitReplyButton_t3mo6_1003:hover:not(:disabled){background-color:var(--accent-dark)}._submitReplyButton_t3mo6_1003:disabled{opacity:.6;cursor:not-allowed}@media screen and (max-width: 768px){._postsContainer_t3mo6_2{padding:15px}._formOptions_t3mo6_347{flex-direction:column;align-items:flex-start;gap:15px}._formToggles_t3mo6_354,._submitButton_t3mo6_388{width:100%}._postHeader_t3mo6_465{flex-wrap:wrap}._postActions_t3mo6_640{flex-direction:column;gap:10px}._actionButtons_t3mo6_649{width:100%;justify-content:space-between}._commentActions_t3mo6_926{width:100%;justify-content:flex-start}._commentHeader_t3mo6_872{flex-wrap:wrap}}@media screen and (max-width: 576px){._optionToggle_t3mo6_360{padding:5px 10px;font-size:13px}._replyButton_t3mo6_933,._deleteCommentButton_t3mo6_934{font-size:12px;padding:3px 6px}._postTitle_t3mo6_1088{font-size:1.3rem}._postContent_t3mo6_507{font-size:.95rem}}textarea{resize:none!important;font-family:inherit}[data-theme=dark] textarea{background-color:rgba(255,255,255,.05);border-color:rgba(255,255,255,.1);color:rgba(255,255,255,.9)}[data-theme=dark] textarea::placeholder{color:rgba(255,255,255,.5)}._stylingOptions_t3mo6_1108{margin-top:15px;padding:20px;background-color:var(--bg-highlight);border-radius:12px;border:1px solid var(--border);position:relative}[data-theme=dark] ._stylingOptions_t3mo6_1108{background-color:rgba(255,255,255,.03);border-color:rgba(255,255,255,.1)}._stylingOptions_t3mo6_1108:before{content:"🎨 Стиль";position:absolute;top:-10px;left:15px;background-color:var(--accent);color:#fff;font-size:12px;font-weight:600;padding:3px 10px;border-radius:12px;box-shadow:0 2px 8px rgba(29,161,242,.2)}._stylingTitle_t3mo6_1134{font-size:16px;font-weight:600;margin-bottom:15px;color:var(--text-primary);display:flex;align-items:center;gap:8px}._stylingTitle_t3mo6_1134 svg{color:var(--accent)}._stylingGroup_t3mo6_1147{margin-bottom:15px}._stylingGroup_t3mo6_1147 label{display:block;margin-bottom:8px;color:var(--text-secondary);font-size:14px;font-weight:500}._colorSelector_t3mo6_1158{display:flex;flex-wrap:wrap;gap:10px;margin-top:5px}._colorOption_t3mo6_1165{width:24px;height:24px;border-radius:50%;cursor:pointer;border:2px solid transparent;transition:all .2s ease}._colorOption_t3mo6_1165:hover{transform:scale(1.2)}._colorOption_t3mo6_1165._active_t3mo6_1176{border-color:var(--accent);box-shadow:0 0 0 2px rgba(29,161,242,.3)}._fontSelector_t3mo6_1181{width:100%;padding:10px;border:1px solid var(--border);border-radius:8px;background-color:var(--bg-input);color:var(--text-primary);cursor:pointer}._fontSelector_t3mo6_1181:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 2px rgba(29,161,242,.2)}._fontSelector_t3mo6_1181 option{padding:8px}[data-theme=dark] ._fontSelector_t3mo6_1181{background-color:rgba(255,255,255,.05);border-color:rgba(255,255,255,.1)}._addOptionButton_t3mo6_319{display:flex;align-items:center;justify-content:center;gap:8px;background:none;border:1px dashed var(--border);width:100%;padding:10px;border-radius:8px;margin-top:10px;cursor:pointer;color:var(--accent);font-size:14px;transition:all .2s ease}._addOptionButton_t3mo6_319:hover:not(:disabled){background-color:rgba(29,161,242,.05);border-color:var(--accent)}._addOptionButton_t3mo6_319:disabled{opacity:.5;cursor:not-allowed}[data-theme=dark] ._addOptionButton_t3mo6_319{border-color:rgba(255,255,255,.2)}[data-theme=dark] ._addOptionButton_t3mo6_319:hover:not(:disabled){background-color:rgba(29,161,242,.1)}._addOptionButton_t3mo6_319 svg{font-size:16px}._colorPickerContainer_t3mo6_1237{position:relative;display:inline-block}._colorPreview_t3mo6_1242{width:42px;height:42px;border-radius:8px;cursor:pointer;display:flex;align-items:center;justify-content:center;border:2px solid var(--border);transition:all .2s ease}._colorPreview_t3mo6_1242:hover{transform:scale(1.1);box-shadow:0 2px 8px rgba(0,0,0,.1)}[data-theme=dark] ._colorPreview_t3mo6_1242{border-color:rgba(255,255,255,.2)}[data-theme=dark] ._colorPreview_t3mo6_1242:hover{box-shadow:0 2px 8px rgba(0,0,0,.2)}._dropletIcon_t3mo6_1264{color:rgba(255,255,255,.8);font-size:20px;filter:drop-shadow(0 0 1px rgba(0,0,0,.8))}._colorPickerPopup_t3mo6_1270{position:absolute;z-index:100;top:calc(100% + 5px);left:0}._colorPickerPopup_t3mo6_1270 ._react-colorful_t3mo6_1276{border-radius:8px;box-shadow:0 2px 15px rgba(0,0,0,.15)}[data-theme=dark] ._colorPickerPopup_t3mo6_1270 ._react-colorful_t3mo6_1276{box-shadow:0 2px 15px rgba(0,0,0,.3)}._colorPickerCover_t3mo6_1284{position:fixed;top:0;right:0;bottom:0;left:0;z-index:-1}._colorNote_t3mo6_1293{font-size:12px;margin-top:8px;color:var(--accent);font-style:italic;line-height:1.4;padding:5px 8px;background-color:rgba(var(--accent-rgb),.1);border-radius:4px}[data-theme=dark] ._colorNote_t3mo6_1293{background-color:rgba(var(--accent-rgb),.15)}._likeAnimation_t3mo6_1307{animation:_likePulse_t3mo6_1 .5s cubic-bezier(.4,0,.2,1)}@keyframes _likePulse_t3mo6_1{0%{transform:scale(1)}50%{transform:scale(1.3)}to{transform:scale(1)}}._authPrompt_t3mo6_1322{text-align:center;padding:20px;background:var(--bg-secondary);border-radius:12px;margin-bottom:20px;border:1px solid var(--border)}._authPrompt_t3mo6_1322 p{margin:0 0 10px;color:var(--text-secondary)}._authPrompt_t3mo6_1322 ._loginButton_t3mo6_1334{display:inline-block;padding:8px 16px;background:var(--accent);color:#fff;text-decoration:none;border-radius:6px;transition:all .2s ease}._authPrompt_t3mo6_1322 ._loginButton_t3mo6_1334:hover{background:var(--accent-hover);transform:translateY(-1px)}._titleInput_t3mo6_1348{width:100%;padding:12px 16px;border:1px solid var(--border);border-radius:8px;margin-bottom:12px;background-color:var(--bg-input);color:var(--text-primary);font-size:18px;font-weight:600}._titleInput_t3mo6_1348:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 2px rgba(76,155,254,.15)}._titleInput_t3mo6_1348::placeholder{color:var(--text-tertiary);font-weight:400}[data-theme=dark] ._titleInput_t3mo6_1348{background-color:rgba(255,255,255,.05);border-color:rgba(255,255,255,.1)}[data-theme=dark] ._titleInput_t3mo6_1348:focus{box-shadow:0 0 0 2px rgba(76,155,254,.2)}._postTitle_t3mo6_1088{font-size:22px;font-weight:700;margin:0 0 16px;line-height:1.3;color:var(--text-primary);word-break:break-word}[data-theme=dark] ._postTitle_t3mo6_1088 ._darkTextConversion_t3mo6_515{color:var(--text-primary)!important}._adminPanel_15s4l_2{max-width:1200px;margin:2rem auto;padding:1.5rem;background-color:#f8f9fa;border-radius:12px;box-shadow:0 4px 16px rgba(0,0,0,.08);position:relative;overflow:hidden}[data-theme=dark] ._adminPanel_15s4l_2{background-color:#1e1e24;box-shadow:0 4px 16px rgba(0,0,0,.2);border:1px solid rgba(70,70,80,.3)}._adminPanel_15s4l_2:before{content:"";position:absolute;top:0;left:0;width:100%;height:4px;background:linear-gradient(90deg,#666,#444)}[data-theme=dark] ._adminPanel_15s4l_2:before{background:linear-gradient(90deg,#444,#333)}._title_15s4l_30{font-size:2rem;margin-bottom:1.75rem;padding-bottom:1rem;border-bottom:2px solid #666;color:#333;font-weight:600;display:flex;align-items:center;gap:12px}[data-theme=dark] ._title_15s4l_30{color:#e0e0e0;border-bottom:2px solid #555}._title_15s4l_30 svg{color:#555}[data-theme=dark] ._title_15s4l_30 svg{color:#888}._error_15s4l_52{padding:1rem 1.25rem;margin-bottom:1.5rem;background-color:rgba(220,53,69,.08);color:#dc3545;border-radius:10px;border-left:4px solid #dc3545;font-size:1rem;display:flex;align-items:center;animation:_fadeIn_15s4l_1 .3s ease-in-out}[data-theme=dark] ._error_15s4l_52{background-color:rgba(220,53,69,.15);color:#ff6b6b}._message_15s4l_69{padding:1rem 1.25rem;margin-bottom:1.5rem;border-radius:10px;font-size:1rem;display:flex;align-items:center;animation:_fadeIn_15s4l_1 .3s ease-in-out}._message_15s4l_69._success_15s4l_78{background-color:rgba(40,167,69,.08);border-left:4px solid #28a745;color:#28a745}[data-theme=dark] ._message_15s4l_69._success_15s4l_78{background-color:rgba(40,167,69,.15);color:#5dde80}._message_15s4l_69._info_15s4l_87{background-color:rgba(13,110,253,.08);border-left:4px solid #0d6efd;color:#0d6efd}[data-theme=dark] ._message_15s4l_69._info_15s4l_87{background-color:rgba(13,110,253,.15);color:#5a9dff}._message_15s4l_69._error_15s4l_52{background-color:rgba(220,53,69,.08);border-left:4px solid #dc3545;color:#dc3545}[data-theme=dark] ._message_15s4l_69._error_15s4l_52{background-color:rgba(220,53,69,.15);color:#ff6b6b}@keyframes _fadeIn_15s4l_1{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}._content_15s4l_116{display:grid;grid-template-columns:1fr;gap:2rem}@media (min-width: 768px){._content_15s4l_116{grid-template-columns:minmax(300px,1fr) minmax(350px,1.5fr);gap:2.5rem}}@media (max-width: 767px){._content_15s4l_116 ._usersSection_15s4l_128,._content_15s4l_116 ._editSection_15s4l_128{min-width:100%}}._usersSection_15s4l_128 h2,._editSection_15s4l_128 h2{font-size:1.4rem;margin-bottom:1.25rem;color:#333;font-weight:600;padding-bottom:.75rem;border-bottom:1px solid #eee;display:flex;align-items:center;gap:10px}[data-theme=dark] ._usersSection_15s4l_128 h2,[data-theme=dark] ._editSection_15s4l_128 h2{color:#e0e0e0;border-bottom:1px solid #333}._usersSection_15s4l_128 h2 svg,._editSection_15s4l_128 h2 svg{color:#666}[data-theme=dark] ._usersSection_15s4l_128 h2 svg,[data-theme=dark] ._editSection_15s4l_128 h2 svg{color:#999}._loader_15s4l_155{display:flex;align-items:center;justify-content:center;height:160px;color:#666;font-size:1.05rem}[data-theme=dark] ._loader_15s4l_155{color:#999}._loader_15s4l_155 svg{margin-right:12px;animation:_spin_15s4l_1 1.2s linear infinite;font-size:1.5rem}@keyframes _spin_15s4l_1{0%{transform:rotate(0)}to{transform:rotate(360deg)}}._usersList_15s4l_180{max-height:680px;overflow-y:auto;border:1px solid #eee;border-radius:10px;background-color:#fff;box-shadow:0 4px 16px rgba(0,0,0,.04)}[data-theme=dark] ._usersList_15s4l_180{background-color:#252530;border:1px solid #333;box-shadow:0 4px 16px rgba(0,0,0,.2)}._usersList_15s4l_180::-webkit-scrollbar{width:10px}._usersList_15s4l_180::-webkit-scrollbar-track{background:#f1f1f1;border-radius:10px}[data-theme=dark] ._usersList_15s4l_180::-webkit-scrollbar-track{background:#2a2a35}._usersList_15s4l_180::-webkit-scrollbar-thumb{background:#ccc;border-radius:10px}[data-theme=dark] ._usersList_15s4l_180::-webkit-scrollbar-thumb{background:#444}._usersList_15s4l_180::-webkit-scrollbar-thumb:hover{background:#bbb}[data-theme=dark] ._usersList_15s4l_180::-webkit-scrollbar-thumb:hover{background:#555}._userItem_15s4l_217{display:flex;padding:1.25rem;border-bottom:1px solid #eee;cursor:pointer!important;transition:all .25s ease}[data-theme=dark] ._userItem_15s4l_217{border-bottom:1px solid #333}._userItem_15s4l_217:hover{background-color:rgba(0,0,0,.03);transform:translateY(-2px)}[data-theme=dark] ._userItem_15s4l_217:hover{background-color:rgba(255,255,255,.04)}._userItem_15s4l_217._selected_15s4l_234{background-color:rgba(99,102,241,.08);border-left:4px solid #666}[data-theme=dark] ._userItem_15s4l_217._selected_15s4l_234{background-color:rgba(99,102,241,.15);border-left:4px solid #888}._userItem_15s4l_217:last-child{border-bottom:none}._userAvatar_15s4l_246{flex-shrink:0;width:60px;height:60px;margin-right:1.25rem;border-radius:50%;overflow:hidden;box-shadow:0 4px 10px rgba(0,0,0,.15)}[data-theme=dark] ._userAvatar_15s4l_246{box-shadow:0 4px 10px rgba(0,0,0,.3)}._userAvatar_15s4l_246 img{width:100%;height:100%;border-radius:50%;object-fit:cover}._userAvatar_15s4l_246 ._noAvatar_15s4l_264{width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#666,#444);color:#fff;border-radius:50%;font-weight:600;font-size:1.25rem}[data-theme=dark] ._userAvatar_15s4l_246 ._noAvatar_15s4l_264{background:linear-gradient(135deg,#555,#333)}._userInfo_15s4l_280{flex:1;min-width:0;display:flex;flex-direction:column;justify-content:center}._userName_15s4l_288{font-weight:600;margin-bottom:.35rem;color:#333;font-size:1.15rem}[data-theme=dark] ._userName_15s4l_288{color:#e0e0e0}._userEmail_15s4l_298{font-size:.95rem;color:#666;margin-bottom:.75rem}[data-theme=dark] ._userEmail_15s4l_298{color:#aaa}._userPerks_15s4l_307{display:flex;flex-wrap:wrap;gap:.6rem}._perk_15s4l_313{display:inline-flex;align-items:center;justify-content:center;font-size:.75rem;padding:.3rem .7rem;border-radius:14px;font-weight:500;letter-spacing:.4px;text-transform:uppercase}._perk_15s4l_313._user_15s4l_128{background-color:#f0f0f0;color:#555}[data-theme=dark] ._perk_15s4l_313._user_15s4l_128{background-color:rgba(240,240,240,.1);color:#aaa}._perk_15s4l_313._early_user_15s4l_332{background-color:rgba(52,152,219,.15);color:#3498db}[data-theme=dark] ._perk_15s4l_313._early_user_15s4l_332{background-color:rgba(52,152,219,.25);color:#66b5e8}._perk_15s4l_313._sponsor_15s4l_340{background-color:rgba(243,156,18,.15);color:#f39c12}[data-theme=dark] ._perk_15s4l_313._sponsor_15s4l_340{background-color:rgba(243,156,18,.25);color:#ffb74d}._perk_15s4l_313._admin_15s4l_2{background-color:rgba(255,69,0,.15);color:#ff4500;font-weight:600}[data-theme=dark] ._perk_15s4l_313._admin_15s4l_2{background-color:rgba(255,69,0,.25);color:#ff6d3f}._editSection_15s4l_128 h2{font-size:1.25rem;margin-bottom:1rem;color:#333;font-weight:600;padding-bottom:.5rem;border-bottom:1px solid #eee;display:flex;align-items:center;gap:8px}[data-theme=dark] ._editSection_15s4l_128 h2{color:#e0e0e0;border-bottom:1px solid #333}._editSection_15s4l_128 h2 svg{color:#666}[data-theme=dark] ._editSection_15s4l_128 h2 svg{color:#999}._editForm_15s4l_380{background-color:#fff;padding:2rem;border-radius:12px;border:1px solid #eee;box-shadow:0 4px 20px rgba(0,0,0,.05);max-width:100%}[data-theme=dark] ._editForm_15s4l_380{background-color:#252530;border:1px solid #333;box-shadow:0 4px 20px rgba(0,0,0,.2)}._formGroup_15s4l_394{margin-bottom:1.75rem}._formGroup_15s4l_394 label{display:block;margin-bottom:.75rem;font-size:1rem;font-weight:500;color:#444;display:flex;align-items:center;gap:8px}[data-theme=dark] ._formGroup_15s4l_394 label{color:#ccc}._formGroup_15s4l_394 label svg{color:#666;font-size:1.2rem}[data-theme=dark] ._formGroup_15s4l_394 label svg{color:#999}._formGroup_15s4l_394 input[type=text],._formGroup_15s4l_394 input[type=email],._formGroup_15s4l_394 input[type=password]{width:100%;padding:.85rem 1rem;border:1px solid #ddd;border-radius:8px;font-size:1.05rem;background-color:#fff;color:#333;transition:all .2s ease;height:50px}._formGroup_15s4l_394 input[type=text]:focus,._formGroup_15s4l_394 input[type=email]:focus,._formGroup_15s4l_394 input[type=password]:focus{outline:none;border-color:#666;box-shadow:0 0 0 4px rgba(102,102,102,.15)}._formGroup_15s4l_394 input[type=text]::placeholder,._formGroup_15s4l_394 input[type=email]::placeholder,._formGroup_15s4l_394 input[type=password]::placeholder{color:#aaa}[data-theme=dark] ._formGroup_15s4l_394 input[type=text],[data-theme=dark] ._formGroup_15s4l_394 input[type=email],[data-theme=dark] ._formGroup_15s4l_394 input[type=password]{background-color:#1e1e24;border-color:#444;color:#e0e0e0}[data-theme=dark] ._formGroup_15s4l_394 input[type=text]:focus,[data-theme=dark] ._formGroup_15s4l_394 input[type=email]:focus,[data-theme=dark] ._formGroup_15s4l_394 input[type=password]:focus{border-color:#777;box-shadow:0 0 0 4px rgba(150,150,150,.15)}[data-theme=dark] ._formGroup_15s4l_394 input[type=text]::placeholder,[data-theme=dark] ._formGroup_15s4l_394 input[type=email]::placeholder,[data-theme=dark] ._formGroup_15s4l_394 input[type=password]::placeholder{color:#666}._perksOptions_15s4l_461{display:flex;flex-direction:column;gap:1rem;margin-top:.75rem;padding:1.25rem;background-color:#f8f9fa;border-radius:8px;border:1px solid #eee}[data-theme=dark] ._perksOptions_15s4l_461{background-color:#1e1e24;border:1px solid #333}._perkOption_15s4l_476{display:flex;align-items:center}._perkOption_15s4l_476 label{margin:0 0 0 .75rem;font-weight:400;cursor:pointer;font-size:1rem}[data-theme=dark] ._perkOption_15s4l_476 label{color:#ccc}._perkOption_15s4l_476 input[type=checkbox]{cursor:pointer;width:20px;height:20px}._perkOption_15s4l_476 input[type=checkbox]:checked{accent-color:#666}[data-theme=dark] ._perkOption_15s4l_476 input[type=checkbox]:checked{accent-color:#888}._basePerk_15s4l_501{background-color:rgba(0,0,0,.03);padding:10px;border-radius:6px;margin-bottom:10px;border-left:3px solid #666}[data-theme=dark] ._basePerk_15s4l_501{background-color:rgba(255,255,255,.05);border-left-color:#999}._basePerk_15s4l_501 input[type=checkbox]{opacity:.7}._basePerk_15s4l_501 ._baseLabel_15s4l_515{font-weight:500}._basePerk_15s4l_501 ._baseLabel_15s4l_515 ._baseNote_15s4l_518{font-size:.8rem;opacity:.7;font-style:italic;margin-left:5px}._protectedUser_15s4l_525{display:inline-block;font-size:.7rem;background-color:rgba(255,69,0,.1);color:#ff4500;padding:2px 6px;border-radius:4px;margin-top:5px;font-weight:600}[data-theme=dark] ._protectedUser_15s4l_525{background-color:rgba(255,69,0,.25);color:#ff6d3f}table{width:100%;border-collapse:collapse}table th,table td{padding:12px 15px;text-align:left;border-bottom:1px solid #eee}[data-theme=dark] table th,[data-theme=dark] table td{border-bottom:1px solid #333}table th{font-weight:600;color:#555}[data-theme=dark] table th{color:#ccc}table tr:hover{background-color:rgba(0,0,0,.02)}[data-theme=dark] table tr:hover{background-color:rgba(255,255,255,.03)}._selectedUser_15s4l_566{background-color:rgba(52,152,219,.05)!important}[data-theme=dark] ._selectedUser_15s4l_566{background-color:rgba(52,152,219,.15)!important}._editUserButton_15s4l_573{background:none;border:none;color:#666;cursor:pointer;padding:5px;border-radius:4px;transition:all .2s}._editUserButton_15s4l_573:hover{background-color:rgba(0,0,0,.05);color:#333}._editUserButton_15s4l_573:disabled{opacity:.4;cursor:not-allowed}._editUserButton_15s4l_573:disabled:hover{background:none;color:#666}[data-theme=dark] ._editUserButton_15s4l_573{color:#999}[data-theme=dark] ._editUserButton_15s4l_573:hover{background-color:rgba(255,255,255,.08);color:#eee}[data-theme=dark] ._editUserButton_15s4l_573:disabled{opacity:.4}[data-theme=dark] ._editUserButton_15s4l_573:disabled:hover{background:none;color:#999}._formActions_15s4l_609{display:flex;justify-content:flex-end;gap:1.25rem;margin-top:2.5rem}._cancelButton_15s4l_616,._saveButton_15s4l_617{padding:.85rem 2rem;border-radius:8px;font-size:1rem;font-weight:500;cursor:pointer;border:none;transition:all .2s ease;display:flex;align-items:center;justify-content:center;gap:8px;min-width:140px}._cancelButton_15s4l_616{background-color:#f0f0f0;color:#333}._cancelButton_15s4l_616:hover{background-color:#e4e4e4;transform:translateY(-2px)}[data-theme=dark] ._cancelButton_15s4l_616{background-color:#333;color:#ddd}[data-theme=dark] ._cancelButton_15s4l_616:hover{background-color:#444}._cancelButton_15s4l_616 svg{font-size:1.1rem}._saveButton_15s4l_617{background:linear-gradient(90deg,#666,#444);color:#fff}._saveButton_15s4l_617:hover{background:linear-gradient(90deg,#555,#333);transform:translateY(-2px);box-shadow:0 4px 12px rgba(0,0,0,.15)}._saveButton_15s4l_617:disabled{opacity:.7;cursor:not-allowed;transform:none;box-shadow:none}[data-theme=dark] ._saveButton_15s4l_617{background:linear-gradient(90deg,#777,#555)}[data-theme=dark] ._saveButton_15s4l_617:hover{background:linear-gradient(90deg,#666,#444);box-shadow:0 4px 12px rgba(0,0,0,.25)}._saveButton_15s4l_617 svg{font-size:1.1rem}._noUserSelected_15s4l_677{background-color:#fff;padding:3rem 2rem;border-radius:12px;border:1px solid #eee;box-shadow:0 4px 20px rgba(0,0,0,.05);display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:350px;text-align:center;color:#777}[data-theme=dark] ._noUserSelected_15s4l_677{background-color:#252530;border:1px solid #333;box-shadow:0 4px 20px rgba(0,0,0,.2);color:#aaa}._noUserSelected_15s4l_677 p{margin:1.5rem 0;font-size:1.1rem}._noUserSelected_15s4l_677 svg{font-size:4rem;color:#ccc;margin-bottom:1.5rem}[data-theme=dark] ._noUserSelected_15s4l_677 svg{color:#555}._emptyList_15s4l_710{padding:2rem;text-align:center;color:#777}[data-theme=dark] ._emptyList_15s4l_710{color:#aaa}._userActions_15s4l_719{display:flex;gap:8px;justify-content:flex-end}._banUserButton_15s4l_725{background:none;border:none;color:var(--text-secondary);cursor:pointer;display:flex;align-items:center;justify-content:center;padding:6px;border-radius:4px;transition:all .2s}._banUserButton_15s4l_725:hover{background-color:rgba(231,76,60,.1);color:#e74c3c}._banUserButton_15s4l_725:disabled{opacity:.5;cursor:not-allowed}[data-theme=dark] ._banUserButton_15s4l_725:hover{background-color:rgba(231,76,60,.2)}._bannedUser_15s4l_749{display:inline-block;font-size:12px;background-color:#e74c3c;color:#fff;padding:2px 8px;border-radius:12px;margin-left:8px;font-weight:500}[data-theme=dark] ._bannedUser_15s4l_749{background-color:#c0392b}._modalOverlay_15s4l_763{position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;z-index:1000}[data-theme=dark] ._modalOverlay_15s4l_763{background-color:rgba(0,0,0,.7)}._banDialog_15s4l_779{background-color:var(--background-color);border-radius:8px;box-shadow:0 5px 20px rgba(0,0,0,.2);width:90%;max-width:500px;overflow:hidden}[data-theme=dark] ._banDialog_15s4l_779{box-shadow:0 5px 20px rgba(0,0,0,.4)}._banDialogHeader_15s4l_791{background-color:#e74c3c;color:#fff;padding:15px 20px;display:flex;justify-content:space-between;align-items:center}._banDialogHeader_15s4l_791 h3{margin:0;font-size:18px}._banDialogHeader_15s4l_791 ._closeButton_15s4l_803{background:none;border:none;color:#fff;cursor:pointer;padding:5px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:background-color .2s}._banDialogHeader_15s4l_791 ._closeButton_15s4l_803:hover{background-color:rgba(255,255,255,.2)}[data-theme=dark] ._banDialogHeader_15s4l_791{background-color:#c0392b}._banDialogContent_15s4l_822{padding:20px}._banDialogContent_15s4l_822 ._currentBanInfo_15s4l_825{text-align:center}._banDialogContent_15s4l_822 ._currentBanInfo_15s4l_825 p{margin-bottom:20px;color:var(--text-primary)}[data-theme=dark] ._banDialogContent_15s4l_822{color:var(--text-primary)}._banDialogActions_15s4l_836{display:flex;justify-content:flex-end;gap:10px;margin-top:20px}._unbanButton_15s4l_843{background-color:#27ae60;color:#fff;border:none;border-radius:4px;padding:10px 16px;font-size:14px;cursor:pointer;display:flex;align-items:center;gap:8px;transition:background-color .2s}._unbanButton_15s4l_843:hover{background-color:#2ecc71}._unbanButton_15s4l_843:disabled{opacity:.7;cursor:not-allowed}[data-theme=dark] ._unbanButton_15s4l_843{background-color:#219653}[data-theme=dark] ._unbanButton_15s4l_843:hover{background-color:#27ae60}._banButton_15s4l_870{background-color:#e74c3c;color:#fff;border:none;border-radius:4px;padding:10px 16px;font-size:14px;cursor:pointer;display:flex;align-items:center;gap:8px;transition:background-color .2s}._banButton_15s4l_870:hover{background-color:#c0392b}._banButton_15s4l_870:disabled{opacity:.7;cursor:not-allowed}[data-theme=dark] ._banButton_15s4l_870{background-color:#c0392b}[data-theme=dark] ._banButton_15s4l_870:hover{background-color:#a93226}._eventsSection_15s4l_898{margin-bottom:2rem;padding:1.5rem;background-color:#fff;border-radius:12px;box-shadow:0 4px 16px rgba(0,0,0,.06)}[data-theme=dark] ._eventsSection_15s4l_898{background-color:#252530;border:1px solid #333;box-shadow:0 4px 16px rgba(0,0,0,.2)}._eventsSection_15s4l_898 h2{font-size:1.4rem;margin-bottom:1.25rem;color:#333;font-weight:600;padding-bottom:.75rem;border-bottom:1px solid #eee;display:flex;align-items:center;gap:10px}[data-theme=dark] ._eventsSection_15s4l_898 h2{color:#e0e0e0;border-bottom:1px solid #333}._eventsSection_15s4l_898 h2 svg{color:#666}[data-theme=dark] ._eventsSection_15s4l_898 h2 svg{color:#999}._eventsList_15s4l_932{display:flex;flex-direction:column;gap:1rem}._eventItem_15s4l_938{display:flex;align-items:center;justify-content:space-between;padding:1.25rem;background-color:#f8f9fa;border-radius:10px}[data-theme=dark] ._eventItem_15s4l_938{background-color:#1e1e24}@media (max-width: 768px){._eventItem_15s4l_938{flex-direction:column;align-items:flex-start;gap:1rem}}._eventInfo_15s4l_957{flex:1}._eventInfo_15s4l_957 h3{font-size:1.2rem;margin-bottom:.5rem;color:#333;font-weight:600}[data-theme=dark] ._eventInfo_15s4l_957 h3{color:#e0e0e0}._eventInfo_15s4l_957 p{color:#666;margin-bottom:.5rem;font-size:.95rem;max-width:90%}[data-theme=dark] ._eventInfo_15s4l_957 p{color:#aaa}._eventInfo_15s4l_957 p:last-child{margin-bottom:0}._eventInfo_15s4l_957 p strong{color:#444}[data-theme=dark] ._eventInfo_15s4l_957 p strong{color:#ccc}._eventToggle_15s4l_988{display:flex;align-items:center;gap:.5rem;padding:.75rem 1.25rem;border-radius:8px;font-weight:600;font-size:.95rem;background-color:#e9ecef;color:#495057;border:none;cursor:pointer;transition:all .2s ease}[data-theme=dark] ._eventToggle_15s4l_988{background-color:#333;color:#ccc}._eventToggle_15s4l_988:hover:not(:disabled){background-color:#dee2e6}[data-theme=dark] ._eventToggle_15s4l_988:hover:not(:disabled){background-color:#444}._eventToggle_15s4l_988:disabled{opacity:.6;cursor:not-allowed}._eventToggle_15s4l_988._active_15s4l_1016{background-color:#28a745;color:#fff}._eventToggle_15s4l_988._active_15s4l_1016:hover:not(:disabled){background-color:#218838}._eventToggle_15s4l_988 svg{font-size:1.5rem}._resetContainer_1iy2b_1{display:flex;justify-content:center;align-items:center;min-height:100vh;padding:2rem;background-color:var(--background-color)}._resetCard_1iy2b_10{width:100%;max-width:400px;padding:2rem;background-color:var(--bg-secondary);border-radius:var(--radius-lg);box-shadow:var(--shadow)}._resetCard_1iy2b_10 h2{text-align:center;margin-bottom:1.5rem;color:var(--text-primary)}._resetForm_1iy2b_24{display:flex;flex-direction:column}._formGroup_1iy2b_29{margin-bottom:1rem}._formGroup_1iy2b_29 label{display:block;margin-bottom:.5rem;font-size:.875rem;font-weight:500;color:var(--text-secondary)}._formGroup_1iy2b_29 input{width:100%;padding:.75rem;border:1px solid var(--border);border-radius:var(--radius-md);font-size:1rem;background-color:var(--bg-input);color:var(--text-primary);transition:all var(--transition-fast)}._formGroup_1iy2b_29 input:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 2px var(--accent-light)}._formGroup_1iy2b_29 input:disabled{background-color:var(--bg-highlight);cursor:not-allowed}._resetButton_1iy2b_59{margin-top:1rem;padding:.75rem 1.5rem;background-color:var(--accent);color:#fff;border:none;border-radius:var(--radius-md);font-size:1rem;font-weight:500;cursor:pointer;transition:all var(--transition-fast)}._resetButton_1iy2b_59:hover{background-color:var(--accent-hover);transform:translateY(-2px)}._resetButton_1iy2b_59:disabled{opacity:.7;cursor:not-allowed}._message_1iy2b_80{padding:.75rem;margin-bottom:1rem;border-radius:var(--radius-md);font-size:.875rem}._message_1iy2b_80._success_1iy2b_86{background-color:rgba(var(--success-rgb, 40, 167, 69),.1);border-left:4px solid var(--success);color:var(--success)}._message_1iy2b_80._info_1iy2b_91{background-color:rgba(var(--info-rgb, 13, 110, 253),.1);border-left:4px solid var(--info);color:var(--info)}._message_1iy2b_80._error_1iy2b_96{background-color:rgba(var(--error-rgb, 220, 53, 69),.1);border-left:4px solid var(--error);color:var(--error)}._themeButton_x78qx_1{position:absolute;top:10px;right:10px;z-index:10;padding:10px;background:#000;border-radius:35px;cursor:pointer;transition:transform .3s ease}[data-theme=dark] ._themeButton_x78qx_1{background:#fff}._themeButton_x78qx_1:hover{transform:scale(1.1)}._themeButton_x78qx_1:focus{outline:none}')),document.head.appendChild(o)}}catch(r){console.error("vite-plugin-css-injected-by-js",r)}}();
var e,t,a,s,n,i,r,o,l,c,d,m,u,p,_,h,x,v,g,f,y,j,b,k,w,N,S,C,P,E,B,I,O=Object.freeze,A=Object.defineProperty,D=(e,t)=>O(A(e,"raw",{value:O(t||e.slice())}));function T(){import.meta.url,import("_").catch((()=>1)),async function*(){}().next()}import{j as q,A as F,m as z,r as M,R as L,a as U,c as H,F as G,b as R,d as V,e as W,f as J,g as $,h as Y,i as X,k as Z,u as Q,l as K,n as ee,o as te,p as ae,q as se,s as ne,t as ie,v as re,w as oe,x as le,y as ce,z as de,B as me,C as ue,L as pe,D as _e,E as he,G as xe,H as ve,I as ge,J as fe,K as ye,M as je,N as be,O as ke,P as we,Q as Ne,Z as Se,S as Ce,T as Pe,U as Ee,V as Be,W as Ie,X as Oe,Y as Ae,_ as De,$ as Te,a0 as qe,a1 as Fe,a2 as ze,a3 as Me,a4 as Le}from"../chunks/vendor-react.p_QB-9LW.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const Ue="_page_11jsk_174",He="_text-animation_11jsk_284",Ge="_text-animation-slow_11jsk_295",Re={window:"_window_19irw_2",window__message:"_window__message_19irw_13",window__panel:"_window__panel_19irw_23",window__panel__iconWrapper:"_window__panel__iconWrapper_19irw_35",window__panel__navButtons:"_window__panel__navButtons_19irw_41",window__panel__navButtons__navButton:"_window__panel__navButtons__navButton_19irw_47",window__panel__navButtons__navButton__arrow:"_window__panel__navButtons__navButton__arrow_19irw_53",disabled:"_disabled_19irw_65"},Ve=({children:e,direction:t,selectedIcon:a,showMessage:s=!0})=>q.jsx(F,{mode:"wait",custom:t,children:a?q.jsx(z.div,{custom:t,initial:{opacity:0,x:t>0?100:-100},animate:{opacity:1,x:0},exit:{opacity:0,x:t>0?-100:100},transition:{duration:.3},layout:!0,style:{width:"100%",height:"100%"},children:e},a):s&&q.jsx(z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:q.jsx("div",{className:Re.window__message,children:q.jsx("h2",{children:"Выберите персонажа"})})},"message")}),We={menu:"_menu_15kr5_2",menu__left:"_menu__left_15kr5_14",menu__left__pic:"_menu__left__pic_15kr5_24",menu__right:"_menu__right_15kr5_35",menu__right__titleblock:"_menu__right__titleblock_15kr5_52",menu__right__titleblock__fullname:"_menu__right__titleblock__fullname_15kr5_60",menu__right__titleblock__maininfo:"_menu__right__titleblock__maininfo_15kr5_63"};function Je(e){if(!Number.isInteger(e)||e<0)throw new Error("Возраст должен быть неотрицательным целым числом");const t=e%10,a=e%100;return a>=11&&a<=19?"лет":1===t?"год":t>=2&&t<=4?"года":"лет"}function $e(e,t={}){const{format:a="auto",quality:s=85,width:n,height:i}=t;let r=[];r.push("q_".concat(s)),n&&r.push("w_".concat(n)),i&&r.push("h_".concat(i)),"auto"!==a&&r.push("f_".concat(a));const o=r.length>0?r.join(",")+"/":"";let l=e;e.match(/\.(avif|webp|png|jpg|jpeg)$/i)&&(l=e.substring(0,e.lastIndexOf(".")));const c=l.includes("/")?l.substring(l.lastIndexOf("/")+1):l;return"https://res.cloudinary.com/".concat("do9t8preg","/image/upload/").concat(o).concat("v1746536649","/").concat(c)}const Ye=({path:e,alt:t,className:a,style:s,width:n,height:i,loading:r="lazy",onLoad:o,onError:l})=>{const c={width:n,height:i};return q.jsxs("picture",{children:[q.jsx("source",{srcSet:$e(e,{...c,format:"avif"}),type:"image/avif"}),q.jsx("source",{srcSet:$e(e,{...c,format:"webp"}),type:"image/webp"}),q.jsx("img",{src:$e(e,{...c,format:"png"}),alt:t||"Изображение",className:a,style:s,width:n,height:i,loading:r,onLoad:o,onError:e=>{l&&l(e)}})]})},Xe={button:"_button_1jwbf_1",icon:"_icon_1jwbf_39"},Ze=({text:e})=>q.jsx(q.Fragment,{children:e.split("").map(((e,t)=>{const a=" "===e?" ":e;return q.jsx("span",{style:{animationDelay:"".concat(.05*t,"s")},children:a},t)}))}),Qe={modalOverlay:"_modalOverlay_1iw7e_2",modalOverlay__content:"_modalOverlay__content_1iw7e_15",modalOverlay__closeButton:"_modalOverlay__closeButton_1iw7e_29",modalOverlay__textContent:"_modalOverlay__textContent_1iw7e_42",modalOverlay__navigation:"_modalOverlay__navigation_1iw7e_48",modalOverlay__arrowRight:"_modalOverlay__arrowRight_1iw7e_54",modalOverlay__arrowLeft:"_modalOverlay__arrowLeft_1iw7e_54",modalOverlay__title:"_modalOverlay__title_1iw7e_67",modalOverlay__textBlock:"_modalOverlay__textBlock_1iw7e_86",modalOverlay__textBlock__textCont:"_modalOverlay__textBlock__textCont_1iw7e_89",modalOverlay__pageIndicator:"_modalOverlay__pageIndicator_1iw7e_104",fadeIn:"_fadeIn_1iw7e_116",fadeOut:"_fadeOut_1iw7e_120",disabled:"_disabled_1iw7e_124"},Ke=e=>e&&"string"==typeof e?e.replace(/class=/g,"className="):"",et=e=>{if(!e||"string"!=typeof e)return[];if(!/<p>.*?<\/p>/g.test(e))return["<p>".concat(e,"</p>")];if(!("undefined"!=typeof window))return[e];const t=e.split("<p>").filter(Boolean).map((e=>e.split("</p>")[0].trim())),a=t.pop()||null,s=[];let n="",i=0;const r=window.innerWidth<=768,o=window.innerHeight,l=document.createElement("div");l.style.position="absolute",l.style.visibility="hidden",l.style.maxWidth="600px",l.style.fontFamily="graphr, sans-serif",l.style.fontSize="1.6rem",l.style.lineHeight="1.5",l.style.padding="10px",l.style.wordWrap="break-word";const c=document.createElement("style");c.textContent="\n    .blur {\n      filter: blur(4px);\n      display: inline-block;\n    }\n  ",document.head.appendChild(c),document.body.appendChild(l);try{const e=r&&o>400?600:800,c=r?500:1/0;if(t.length>0){const e=t.shift().trim();n="<p>".concat(e,"</p>"),i=e.length}if(t.forEach((t=>{const a=t.trim(),r="<p>".concat(a,"</p>"),o=a.length;l.innerHTML=Ke(n+r),l.scrollHeight>e||i+o>c?(s.push(n),n=r,i=o):(n+=r,i+=o)})),n&&s.push(n),a&&a.trim()){const t="<blockquote>".concat(a.trim(),"</blockquote>");l.innerHTML=Ke(n+t),l.scrollHeight>e?(s.push(n),s.push(t)):s[s.length-1]+=t}}finally{document.body.removeChild(l),document.head.removeChild(c)}return s},tt={};function at(e){const[t,a]=M.useState(null),[s,n]=M.useState(!0),[i,r]=M.useState(null),o=M.useRef(!0);return M.useEffect((()=>{o.current=!0;return(async()=>{try{const t=await(async e=>{if(tt[e])return tt[e];try{const t=await fetch(e);if(!t.ok)throw new Error("HTTP error! status: ".concat(t.status));const a=await t.json();return tt[e]=a,a}catch(t){return null}})(e);if(!o.current)return;if(!t)throw new Error("Failed to load data");a(t),r(null)}catch(t){o.current&&r(t.message)}finally{o.current&&n(!1)}})(),()=>{o.current=!1}}),[e]),{data:t,loading:s,error:i}}const st=e=>{if(!e)return"Не найден";const{name:t}=e;return["Фауст","Лонариус"].includes(t)?"".concat(t,"а"):t},nt=({html:e,onHeightChange:t})=>{const a=M.useRef(null);if(M.useEffect((()=>{if(a.current&&t){const e=a.current.scrollHeight;t(e)}}),[e,t]),!e||"string"!=typeof e)return null;const s=document.createElement("div");s.innerHTML=e;const n=e=>{if(e.nodeType===Node.TEXT_NODE)return e.textContent;if(e.nodeType===Node.ELEMENT_NODE){const t=Array.from(e.childNodes).map(n),a={key:Math.random().toString(36).substr(2,9),className:e.className||void 0,style:e.style.cssText||void 0};return Array.from(e.attributes).forEach((e=>{"class"!==e.name&&"style"!==e.name&&(a[e.name]=e.value)})),L.createElement(e.tagName.toLowerCase(),a,...t)}return null};return q.jsx("div",{ref:a,className:"html-content",children:n(s)})},it=({isOpen:e,onClose:t,id:a})=>{const[s,n]=M.useState(!1),[i,r]=M.useState(!1),[o,l]=M.useState(null),[c,d]=M.useState(0),m=M.useRef(null),{data:u,loading:p,error:_}=at("https://gist.githubusercontent.com/igorao79/17a1e2924e5dbee9371956c24be2a31b/raw/24a8ba7d250a00e594387072aa0fc47641c6b8a6/chlore.json"),{currentPage:h,nextPage:x,prevPage:v}=((e=0)=>{const[t,a]=M.useState(e);return{currentPage:t,nextPage:e=>{t<e-1&&a(t+1)},prevPage:()=>{t>0&&a(t-1)},setCurrentPage:a}})();M.useEffect((()=>(r(!0),l(document.body),()=>{r(!1),l(null)})),[]);const{character:g,pages:f}=M.useMemo((()=>{if(!u||!a)return{character:null,pages:[]};const e=((e,t)=>{const a=e[t];if(a&&a.lore&&"string"==typeof a.lore)return a})(u,a);return e&&e.lore&&""!==e.lore.trim()?{character:e,pages:et(e.lore)}:{character:e,pages:[]}}),[u,a]);if(!(e&&g&&0!==f.length&&i&&o))return null;if(p)return U.createPortal(q.jsx("div",{className:Qe.modalOverlay,children:q.jsx("div",{className:Qe.loading,children:"Loading..."})}),o);if(_)return U.createPortal(q.jsx("div",{className:Qe.modalOverlay,children:q.jsxs("div",{className:Qe.error,children:["Error: ",_]})}),o);return U.createPortal(q.jsx("div",{className:Qe.modalOverlay,children:q.jsxs("div",{className:Qe.modalOverlay__content,onClick:e=>e.stopPropagation(),children:[q.jsx("button",{onClick:t,className:Qe.modalOverlay__closeButton,children:q.jsx("svg",{width:"20",height:"20",viewBox:"0 0 30 30",children:q.jsx("path",{d:"M7 4H6L4 6v2l8 7-8 7v2l2 2h2l7-8 7 8h2l2-2v-2l-8-7 8-7V6l-2-2h-2l-7 8-7-8H7z"})})}),q.jsxs("div",{className:Qe.modalOverlay__textContent,children:[q.jsxs("div",{className:Qe.modalOverlay__navigation,children:[q.jsx("button",{onClick:()=>{n(!0),setTimeout((()=>{v(),n(!1)}),300)},disabled:0===h,className:"".concat(Qe.modalOverlay__arrowLeft," ").concat(0===h?Qe.disabled:""),children:q.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",children:q.jsx("path",{d:"m12.718 4.707-1.413-1.415L2.585 12l8.72 8.707 1.413-1.415L6.417 13H20v-2H6.416l6.302-6.293z"})})}),q.jsx("button",{onClick:()=>{n(!0),setTimeout((()=>{x(f.length),n(!1)}),300)},disabled:h===f.length-1,className:"".concat(Qe.modalOverlay__arrowRight," ").concat(h===f.length-1?Qe.disabled:""),children:q.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",children:q.jsx("path",{d:"M11.293 4.707 17.586 11H4v2h13.586l-6.293 6.293 1.414 1.414L21.414 12l-8.707-8.707-1.414 1.414z"})})})]}),q.jsxs("h2",{className:Qe.modalOverlay__title,children:["Лор ",st(g)]}),q.jsx("div",{className:Qe.modalOverlay__textBlock,ref:m,children:q.jsx("div",{className:"".concat(Qe.modalOverlay__textBlock__textCont," ").concat(s?Qe.fadeOut:Qe.fadeIn),children:q.jsx(nt,{html:f[h],onHeightChange:e=>{d(e)}})})}),q.jsxs("div",{className:Qe.modalOverlay__pageIndicator,children:["Страница ",h+1," из ",f.length]})]})]})}),o)},rt=({id:e})=>{const[t,a]=M.useState(!1),[s,n]=M.useState(!1);M.useEffect((()=>(n(!0),()=>n(!1))),[]);const i=()=>{a(!1)},r=e=>{"Escape"===e.key&&i()};return M.useEffect((()=>(window.addEventListener("keydown",r),()=>{window.removeEventListener("keydown",r)})),[]),s?q.jsxs(q.Fragment,{children:[q.jsx("div",{className:Xe.wrapper,children:q.jsxs("button",{className:Xe.button,onClick:()=>{a(!0)},children:[q.jsx("span",{className:"".concat(He," ").concat(Ge),children:q.jsx(Ze,{text:"Читать лор"})}),q.jsx("svg",{fill:"currentColor",viewBox:"0 0 24 24",className:Xe.icon,children:q.jsx("path",{clipRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zm4.28 10.28a.75.75 0 000-1.06l-3-3a.75.75 0 10-1.06 1.06l1.72 1.72H8.25a.75.75 0 000 1.5h5.69l-1.72 1.72a.75.75 0 101.06 1.06l3-3z",fillRule:"evenodd"})})]})}),s&&t&&q.jsx(it,{isOpen:t,onClose:i,id:e})]}):null};function ot({id:e,src:t,name:a,surname:s="",age:n="?",height:i,bd:r="?"}){const o=t&&(t.startsWith("./")||t.startsWith("http")),l=a=>o?"./pics/char/picsfull/".concat(t,".").concat(a):$e("".concat(e,"full"),{quality:90,format:a});return q.jsxs("div",{id:e,className:We.menu,children:[q.jsx("div",{className:We.menu__left,children:q.jsxs("picture",{className:We.menu__left__pic,children:[q.jsx("source",{srcSet:l("avif"),type:"image/avif"}),q.jsx("source",{srcSet:l("webp"),type:"image/webp"}),q.jsx("img",{src:l("png"),alt:"icon-".concat(a),loading:"lazy",onError:e=>{}})]})}),q.jsxs("div",{className:We.menu__right,children:[q.jsxs("div",{className:We.menu__right__titleblock,children:[q.jsx("h2",{className:"".concat(We.menu__right__titleblock__fullname," ").concat(He),children:q.jsx(Ze,{text:"".concat(a," ").concat(s)})}),q.jsxs("div",{className:We.menu__right__titleblock__maininfo,children:[q.jsx("span",{className:"".concat(We.menu__right__titleblock__maininfo__age," ").concat(He),children:q.jsx(Ze,{text:"Возраст: ".concat(n," ").concat("?"!==n&&Je(n))})}),q.jsx("span",{className:"".concat(We.menu__right__titleblock__maininfo__height," ").concat(He),children:q.jsx(Ze,{text:"Рост: ".concat(i," см")})}),q.jsx("span",{className:"".concat(We.menu__right__titleblock__maininfo__bd," ").concat(He),children:q.jsx(Ze,{text:"День рождения: ".concat(r)})})]})]}),q.jsx(rt,{id:e})]})]})}const lt=M.createContext(),ct={light:{"--primary-color":"#000000","--background-color":"#ffffff","--text-color":"#000000","--secondary-color":"#666666","--accent-color":"#3498db"},dark:{"--primary-color":"#ffffff","--background-color":"#1a1a1a","--text-color":"#ffffff","--secondary-color":"#999999","--accent-color":"#3498db"}},dt=({children:e})=>{const t=localStorage.getItem("theme")||"light";document.documentElement.setAttribute("data-theme",t);const[a,s]=M.useState(t);M.useCallback((e=>{const t=ct[e];document.documentElement.setAttribute("data-theme",e),"dark"===e?(Object.entries(t).forEach((([e,t])=>{document.documentElement.style.setProperty(e,t)})),document.documentElement.style.setProperty("--background-color","#1e1e1e"),document.documentElement.style.setProperty("--text-color","#e0e0e0"),document.documentElement.style.setProperty("--text-primary","#e0e0e0"),document.documentElement.style.setProperty("--bg-secondary","#292929")):Object.entries(t).forEach((([e,t])=>{document.documentElement.style.setProperty(e,t)}))}),[]);const n=M.useCallback((()=>{const e="light"===a?"dark":"light";document.documentElement.setAttribute("data-theme",e),localStorage.setItem("theme",e);const t=getComputedStyle(document.documentElement);for(let a=0;a<t.length;a++){const e=t[a];e.startsWith("--")&&document.documentElement.style.removeProperty(e)}const n=ct[e];n&&Object.entries(n).forEach((([e,t])=>{document.documentElement.style.setProperty(e,t)})),"dark"===e?(document.documentElement.style.setProperty("--background-color","#1e1e1e"),document.documentElement.style.setProperty("--text-color","#e0e0e0"),document.documentElement.style.setProperty("--text-primary","#e0e0e0"),document.documentElement.style.setProperty("--bg-secondary","#292929"),document.documentElement.style.setProperty("--bg-highlight","#2a2a2a"),document.documentElement.style.setProperty("--modal-bg","#2a2a2a")):(document.documentElement.style.setProperty("--background-color","#fff"),document.documentElement.style.setProperty("--text-color","#000"),document.documentElement.style.setProperty("--text-primary","#222222"),document.documentElement.style.setProperty("--bg-secondary","#f8f9fa"),document.documentElement.style.setProperty("--bg-highlight","#f5f8fa"),document.documentElement.style.setProperty("--modal-bg","#ffffff")),s(e),window.dispatchEvent(new CustomEvent("themechange",{detail:{theme:e}}))}),[a]);M.useEffect((()=>{document.documentElement.setAttribute("data-theme",t);const e=getComputedStyle(document.documentElement);for(let t=0;t<e.length;t++){const a=e[t];a.startsWith("--")&&document.documentElement.style.removeProperty(a)}const a=ct[t];a&&Object.entries(a).forEach((([e,t])=>{document.documentElement.style.setProperty(e,t)})),"dark"===t&&(document.documentElement.style.setProperty("--background-color","#1e1e1e"),document.documentElement.style.setProperty("--text-color","#e0e0e0"),document.documentElement.style.setProperty("--text-primary","#e0e0e0"),document.documentElement.style.setProperty("--bg-secondary","#292929"),document.documentElement.style.setProperty("--bg-highlight","#2a2a2a"),document.documentElement.style.setProperty("--modal-bg","#2a2a2a"),window.dispatchEvent(new CustomEvent("themechange",{detail:{theme:t}}))),window.addEventListener("DOMContentLoaded",(()=>{document.documentElement.setAttribute("data-theme",t),"dark"===t?(document.documentElement.style.setProperty("--background-color","#1e1e1e"),document.documentElement.style.setProperty("--text-color","#e0e0e0")):(document.documentElement.style.setProperty("--background-color","#fff"),document.documentElement.style.setProperty("--text-color","#000"))}))}),[]);const i=M.useMemo((()=>({theme:a,toggleTheme:n,isDarkMode:"dark"===a})),[a,n]);return q.jsx(lt.Provider,{value:i,children:e})},mt="_btn_2wi9v_2",ut="_btn__pic_2wi9v_19",pt="_darkTheme_2wi9v_30",_t=L.memo((({src:e,index:t,onClick:a})=>{const{theme:s}=M.useContext(lt),n=M.useMemo((()=>e.startsWith("./")||e.startsWith("http")?{avif:"./pics/icons/".concat(e,".avif"),webp:"./pics/icons/".concat(e,".webp"),png:"./pics/icons/".concat(e,".png")}:{avif:$e(e,{quality:90,format:"avif"}),webp:$e(e,{quality:90,format:"webp"}),png:$e(e,{quality:90,format:"png"})}),[e]);return q.jsxs("div",{children:[q.jsx("hr",{}),q.jsx("button",{className:mt,onClick:a,children:q.jsxs("picture",{className:"".concat(ut," ").concat("dark"===s?pt:""),children:[q.jsx("source",{srcSet:n.avif,type:"image/avif"}),q.jsx("source",{srcSet:n.webp,type:"image/webp"}),q.jsx("img",{src:n.png,alt:"icon-".concat(t),loading:"eager",decoding:"async",onError:e=>{}})]})}),q.jsx("hr",{})]})}));_t.displayName="Icon";const ht=({icons:e,onIconClick:t})=>{const[a,s]=M.useState(0),n=e.slice(a,a+3);return q.jsx("div",{className:Re.window__panel,children:q.jsxs("div",{className:Re.window__panel__navButtons,children:[q.jsx("button",{className:"".concat(Re.window__panel__navButtons__navButton," ").concat(0===a?Re.disabled:""),onClick:()=>{s((e=>e>0?e-1:e))},disabled:0===a,"aria-label":"Назад",children:q.jsx("span",{className:Re.window__panel__navButtons__navButton__arrow,children:q.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",children:q.jsx("path",{d:"m3.293 11.293 1.414 1.414L11 6.414V20h2V6.414l6.293 6.293 1.414-1.414L12 2.586l-8.707 8.707z"})})})}),q.jsx("div",{className:Re.window__panel__iconWrapper,children:q.jsx(F,{mode:"popLayout",children:n.map(((e,s)=>q.jsx(z.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},transition:{duration:.3,ease:"easeOut"},className:Re.window__panel__iconWrapper__icons,children:q.jsx(_t,{src:e,index:a+s,onClick:()=>t(e)})},a+s)))})}),q.jsx("button",{className:"".concat(Re.window__panel__navButtons__navButton," ").concat(a>=e.length-3?Re.disabled:""),onClick:()=>{s((t=>t<e.length-3?t+1:t))},disabled:a>=e.length-3,"aria-label":"Вперёд",children:q.jsx("span",{className:Re.window__panel__navButtons__navButton__arrow,children:q.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",children:q.jsx("path",{d:"M13 17.586V4h-2v13.586l-6.293-6.293-1.414 1.414L12 21.414l8.707-8.707-1.414-1.414L13 17.586z"})})})})]})})},xt=["faust","lonarius","vivian","akito"];function vt(){var e,t,a,s,n,i,r;const[o,l]=M.useState(null),[c,d]=M.useState(1),[m,u]=M.useState(!1),{data:p}=at("https://gist.githubusercontent.com/igorao79/17a1e2924e5dbee9371956c24be2a31b/raw/24a8ba7d250a00e594387072aa0fc47641c6b8a6/chlore.json"),_=M.useCallback((e=>{m||(u(!0),d(o?xt.indexOf(e)>xt.indexOf(o)?1:-1:1),l(e),setTimeout((()=>u(!1)),300))}),[m,o]);return q.jsxs("div",{className:Re.window,children:[q.jsx(ht,{icons:xt,onIconClick:_}),q.jsx(Ve,{selectedIcon:o,direction:c,children:o&&p[o]&&q.jsx(ot,{id:o,src:null==(e=p[o])?void 0:e.src,name:null==(t=p[o])?void 0:t.name,surname:null==(a=p[o])?void 0:a.surname,age:null==(s=p[o])?void 0:s.age,height:null==(n=p[o])?void 0:n.height,bd:null==(i=p[o])?void 0:i.bd,lore:null==(r=p[o])?void 0:r.lore})})]})}const gt="_aboutblock_16ydj_2",ft="_aboutblock__header_16ydj_15",yt="_aboutblock__header__htitle_16ydj_22",jt="_aboutblock__header__textblock_16ydj_27",bt="_aboutblock__header__textblock__text_16ydj_38",kt="_aboutblock__header__textblock__text__icon_16ydj_44",wt="_aboutblock__header__textblock__text__icon__main_16ydj_47",Nt="_aboutblock__header__textblock__text__icon__small_16ydj_51",St="_aboutblock__main_16ydj_55",Ct="_aboutblock__main__btitle_16ydj_63",Pt="_aboutblock__main__dtitle_16ydj_63",Et="_aboutblock__main__authors_16ydj_68",Bt="_aboutblock__main__developers_16ydj_68",It={member:"_member_1dq4u_2",member__imageWrapper:"_member__imageWrapper_1dq4u_21",member__image:"_member__image_1dq4u_21",member__info:"_member__info_1dq4u_35",member__info__details:"_member__info__details_1dq4u_44",member__info__details__name:"_member__info__details__name_1dq4u_49",member__info__details__role:"_member__info__details__role_1dq4u_75",member__info__bio:"_member__info__bio_1dq4u_81","member--igor":"_member--igor_1dq4u_85",rotate:"_rotate_1dq4u_1","member--lesya":"_member--lesya_1dq4u_95",float:"_float_1dq4u_1",borderRotate:"_borderRotate_1dq4u_1",blink:"_blink_1dq4u_1"},Ot={lesya:{id:"lesya",name:"Леся",src:"lesyapic",bookteam:"Автор",bio:"Автор проекта и основной писатель фанфиков. Создает увлекательные истории и развивает вселенную Soul Cycle."},igor:{id:"igor",name:"Игорь",src:"igorpic",developerteam:"Разработчик",bio:"Ведущий разработчик сайта. Отвечает за техническую реализацию проекта и внедрение новых функций."}},At=L.memo((({memberId:e})=>{const{theme:t}=M.useContext(lt),a=M.useMemo((()=>Ot[e]),[e]);if(!a)return q.jsx("div",{className:It.member__notfound,children:"Участник не найден."});const s=M.useMemo((()=>"member--".concat(a.id.replace(/\s+/g,"-").toLowerCase())),[a]);return q.jsxs("div",{className:"".concat(It.member," ").concat(It["member--".concat(a.id)]),id:s,children:[q.jsx("div",{className:It.member__imageWrapper,children:q.jsx("div",{className:"".concat(It.member__imageContainer," ").concat("dark"===t?It.darkTheme:""),children:q.jsx(Ye,{path:a.src,alt:a.name,className:It.member__image,loading:"lazy"})})}),q.jsxs("div",{className:It.member__info,children:[q.jsxs("div",{className:It.member__info__details,children:[q.jsx("h3",{className:It.member__info__details__name,children:a.name}),q.jsx("p",{className:It.member__info__details__role,children:a.bookteam})]}),q.jsx("p",{className:It.member__info__bio,children:a.bio})]})]})}));At.displayName="BookMember";const Dt="_button_7ekxc_1",Tt="_icon_7ekxc_21",qt=()=>q.jsxs("a",{href:"https://t.me/+yFsUa_nD88piNjg6",target:"_blank",rel:"noopener noreferrer",className:Dt,children:[q.jsx("div",{className:Tt,children:q.jsx("svg",{width:16,height:16,className:"bi bi-telegram",viewBox:"0 0 16 16",fill:"currentColor",children:q.jsx("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.3 6A388.8 388.8 0 0 0 3 8.3c0 .2.3.3.7.4H4l1.2.4.9-.3a82.9 82.9 0 0 1 3.6-2.1l-2 1.9-.3.3a8.2 8.2 0 0 1-.2.2c-.4.4-.7.7 0 1.1A66.2 66.2 0 0 1 9 11.4l.3.2c.3.2.6.4 1 .4.2 0 .4-.2.5-.8l1-5.8a1.4 1.4 0 0 0-.1-.3.3.3 0 0 0-.1-.2.5.5 0 0 0-.3 0c-.3 0-.8 0-3 1z"})})}),"Telegram"]}),Ft=L.memo((({memberId:e})=>{const{theme:t}=M.useContext(lt),a=M.useMemo((()=>Ot[e]),[e]);if(!a)return q.jsx("div",{className:It.member__notfound,children:"Участник не найден."});const s=M.useMemo((()=>"member--".concat(a.id.replace(/\s+/g,"-").toLowerCase())),[a]);return q.jsxs("div",{className:"".concat(It.member," ").concat(It["member--".concat(a.id)]),id:s,children:[q.jsx("div",{className:It.member__imageWrapper,children:q.jsx("div",{className:"".concat(It.member__imageContainer," ").concat("dark"===t?It.darkTheme:""),children:q.jsx(Ye,{path:a.src,alt:a.name,className:It.member__image,loading:"lazy"})})}),q.jsx("div",{className:It.member__info,children:q.jsxs("div",{className:It.member__info__details,children:[q.jsx("h3",{className:It.member__info__details__name,children:a.name}),q.jsx("p",{className:It.member__info__details__role,children:a.developerteam})]})})]})}));function zt(){return q.jsxs("div",{className:gt,children:[q.jsxs("header",{className:ft,children:[q.jsx("h2",{className:yt,children:"О нашей книге"}),q.jsxs("div",{className:jt,children:[q.jsxs("div",{className:bt,children:[q.jsxs("svg",{className:kt,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 122.9 108.7",width:"50",height:"50",children:[q.jsx("path",{className:wt,d:"M95.2 91.4h-.8a1.6 1.6 0 0 1-1.6-1.7 23 23 0 0 0-1.9-9 27 27 0 0 0-13.4-13.5 23 23 0 0 0-9.1-1.8 1.6 1.6 0 0 1-1.6-1.7V63a1.6 1.6 0 0 1 1.6-1.7 22.9 22.9 0 0 0 9.1-1.8 25.4 25.4 0 0 0 8-5.5 25.6 25.6 0 0 0 5.4-7.9 22.9 22.9 0 0 0 1.8-9.1 1.6 1.6 0 0 1 1.7-1.6h.8a1.6 1.6 0 0 1 1.7 1.6 22.9 22.9 0 0 0 1.8 9.1 25.2 25.2 0 0 0 5.5 8 25.2 25.2 0 0 0 8 5.4 22.9 22.9 0 0 0 9 1.8A1.6 1.6 0 0 1 123 63v.8a1.6 1.6 0 0 1-1.7 1.7 23 23 0 0 0-9 1.8 27 27 0 0 0-13.5 13.4 23 23 0 0 0-1.8 9.1 1.6 1.6 0 0 1-1.7 1.7Z"}),q.jsx("path",{className:Nt,d:"M62 50h-.3a.4.4 0 0 1-.4-.4 6 6 0 0 0-.5-2.4 7.2 7.2 0 0 0-1.7-2.2 7.2 7.2 0 0 0-2.2-1.8 6 6 0 0 0-2.4-.4.4.4 0 0 1-.4-.4V42a.4.4 0 0 1 .4-.4 6 6 0 0 0 2.4-.5 7.2 7.2 0 0 0 2.2-1.7 7.2 7.2 0 0 0 1.7-2.2 6 6 0 0 0 .5-2.4.4.4 0 0 1 .4-.4h.3a.4.4 0 0 1 .4.4 6 6 0 0 0 .5 2.4 7.2 7.2 0 0 0 1.7 2.2 7.2 7.2 0 0 0 2.2 1.7 6 6 0 0 0 2.4.5.4.4 0 0 1 .4.4v.3a.4.4 0 0 1-.4.4 6 6 0 0 0-2.4.5 7.2 7.2 0 0 0-2.2 1.7 7.2 7.2 0 0 0-1.7 2.2 6 6 0 0 0-.5 2.4.4.4 0 0 1-.4.4Z"})]}),q.jsx("p",{children:"Основной жанр нашей книги - фэнтэзи с элементами дарк фэнтэзи, романтики и приключений"})]}),q.jsxs("div",{className:bt,children:[q.jsxs("svg",{className:kt,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 122.88 108.69",width:"50",height:"50",children:[q.jsx("path",{className:wt,d:"M95.24,91.38H94.4a1.65,1.65,0,0,1-1.65-1.65,22.91,22.91,0,0,0-1.81-9.12A27.06,27.06,0,0,0,77.52,67.19a23.05,23.05,0,0,0-9.12-1.81,1.65,1.65,0,0,1-1.64-1.64v-.85a1.64,1.64,0,0,1,1.64-1.64,22.88,22.88,0,0,0,9.12-1.82,25.35,25.35,0,0,0,7.93-5.49A25.62,25.62,0,0,0,90.94,46a22.87,22.87,0,0,0,1.81-9.11,1.65,1.65,0,0,1,1.65-1.64h.84a1.65,1.65,0,0,1,1.65,1.64A22.88,22.88,0,0,0,98.7,46a25.24,25.24,0,0,0,5.49,7.93,25.19,25.19,0,0,0,7.93,5.49,22.88,22.88,0,0,0,9.12,1.82,1.64,1.64,0,0,1,1.64,1.64v.85a1.65,1.65,0,0,1-1.64,1.64,23.05,23.05,0,0,0-9.12,1.81A27.06,27.06,0,0,0,98.7,80.61a23,23,0,0,0-1.81,9.12,1.65,1.65,0,0,1-1.65,1.65Z"}),q.jsx("path",{className:Nt,d:"M65,55h-0.7a1,1,0,0,1-1-1,15,15,0,0,0-1.2-6,18,18,0,0,0-4.3-5.6,18,18,0,0,0-5.6-4.3,15,15,0,0,0-6-1.2,1,1,0,0,1-1-1V35a1,1,0,0,1,1-1,15,15,0,0,0,6-1.2,18,18,0,0,0,5.6-4.3,18,18,0,0,0,4.3-5.6,15,15,0,0,0,1.2-6,1,1,0,0,1,1-1H65a1,1,0,0,1,1,1,15,15,0,0,0,1.2,6,18,18,0,0,0,4.3,5.6,18,18,0,0,0,5.6,4.3,15,15,0,0,0,6,1.2,1,1,0,0,1,1,1v0.7a1,1,0,0,1-1,1,15,15,0,0,0-6,1.2,18,18,0,0,0-5.6,4.3,18,18,0,0,0-4.3,5.6,15,15,0,0,0-1.2,6,1,1,0,0,1-1,1Z",fill:"black",transform:"scale(0.4) translate(90,70)"})]}),q.jsxs("p",{children:["Книга была создана 27 июня 2024 года — совершенно спонтанно, без чётких целей. За её развитием вы можете следить ",q.jsx("a",{href:"https://t.me/+yFsUa_nD88piNjg6",children:"здесь"})]})]}),q.jsxs("div",{className:bt,children:[q.jsxs("svg",{className:kt,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 122.88 108.69",width:"50",height:"50",children:[q.jsx("path",{className:wt,d:"M95.24,91.38H94.4a1.65,1.65,0,0,1-1.65-1.65,22.91,22.91,0,0,0-1.81-9.12A27.06,27.06,0,0,0,77.52,67.19a23.05,23.05,0,0,0-9.12-1.81,1.65,1.65,0,0,1-1.64-1.64v-.85a1.64,1.64,0,0,1,1.64-1.64,22.88,22.88,0,0,0,9.12-1.82,25.35,25.35,0,0,0,7.93-5.49A25.62,25.62,0,0,0,90.94,46a22.87,22.87,0,0,0,1.81-9.11,1.65,1.65,0,0,1,1.65-1.64h.84a1.65,1.65,0,0,1,1.65,1.64A22.88,22.88,0,0,0,98.7,46a25.24,25.24,0,0,0,5.49,7.93,25.19,25.19,0,0,0,7.93,5.49,22.88,22.88,0,0,0,9.12,1.82,1.64,1.64,0,0,1,1.64,1.64v.85a1.65,1.65,0,0,1-1.64,1.64,23.05,23.05,0,0,0-9.12,1.81A27.06,27.06,0,0,0,98.7,80.61a23,23,0,0,0-1.81,9.12,1.65,1.65,0,0,1-1.65,1.65Z"}),q.jsx("path",{className:Nt,d:"M65,55h-0.7a1,1,0,0,1-1-1,15,15,0,0,0-1.2-6,18,18,0,0,0-4.3-5.6,18,18,0,0,0-5.6-4.3,15,15,0,0,0-6-1.2,1,1,0,0,1-1-1V35a1,1,0,0,1,1-1,15,15,0,0,0,6-1.2,18,18,0,0,0,5.6-4.3,18,18,0,0,0,4.3-5.6,15,15,0,0,0,1.2-6,1,1,0,0,1,1-1H65a1,1,0,0,1,1,1,15,15,0,0,0,1.2,6,18,18,0,0,0,4.3,5.6,18,18,0,0,0,5.6,4.3,15,15,0,0,0,6,1.2,1,1,0,0,1,1,1v0.7a1,1,0,0,1-1,1,15,15,0,0,0-6,1.2,18,18,0,0,0-5.6,4.3,18,18,0,0,0-4.3,5.6,15,15,0,0,0-1.2,6,1,1,0,0,1-1,1Z",fill:"black",transform:"scale(0.4) translate(90,70)"})]}),q.jsx("p",{children:"adsada"})]}),q.jsx("div",{className:bt,children:q.jsx(qt,{})})]})]}),q.jsxs("div",{className:St,children:[q.jsx("h2",{className:Ct,children:"Творческая команда"}),q.jsxs("div",{className:Et,children:[q.jsx(At,{memberId:"igor"}),q.jsx(At,{memberId:"lesya"})]}),q.jsx("h2",{className:Pt,children:"Команда разработки"}),q.jsx("div",{className:Bt,children:q.jsx(Ft,{memberId:"igor"})})]})]})}Ft.displayName="DeveloperMember";const Mt="_main_3pv45_1",Lt="_main__header_3pv45_35",Ut="_main__header__pic_3pv45_41",Ht="_darkTheme_3pv45_55",Gt="_main__header__title_3pv45_58",Rt="_main__nav_3pv45_68",Vt="_main__nav__perexod_3pv45_74",Wt="_main__nav__perexod__link_3pv45_81",Jt="_main__nav__auth_3pv45_84",$t="_main__nav__burger_3pv45_88",Yt="_main__nav__burger__line_3pv45_101",Xt="_open_3pv45_114",Zt="_main__nav__mobile_3pv45_123",Qt="_main__nav__mobile__list_3pv45_145",Kt="_main__nav__mobile__list__item_3pv45_150",ea="_homepage_3pv45_189",ta=({src:e,alt:t,folder:a="logo",width:s,height:n})=>{const{theme:i}=M.useContext(lt);if(e.startsWith("./")||e.startsWith("http")){let a=e.split("/").pop();a=a.replace("-black","").replace(/\.(avif|webp|png|jpg|jpeg)$/i,"");const r="dark"===i?"".concat(a,"-black"):a,o=t=>"".concat(e.substring(0,e.lastIndexOf("/")+1)).concat(r,".").concat(t);return q.jsxs("picture",{className:"".concat(Ut," ").concat("dark"===i?Ht:""),children:[q.jsx("source",{srcSet:o("avif"),type:"image/avif"}),q.jsx("source",{srcSet:o("webp"),type:"image/webp"}),q.jsx("img",{src:o("png"),alt:t,loading:"lazy",width:s,height:n,onError:e=>{}})]})}const r=e.replace(/\.(avif|webp|png|jpg|jpeg)$/i,""),o={quality:90,width:s||("sclogo"===e?160:void 0),height:n};return q.jsxs("picture",{className:"".concat(Ut," ").concat("dark"===i?Ht:""),children:[q.jsx("source",{srcSet:$e(r,{...o,format:"avif"}),type:"image/avif"}),q.jsx("source",{srcSet:$e(r,{...o,format:"webp"}),type:"image/webp"}),q.jsx("img",{src:$e(r,{...o,format:"png"}),alt:t,loading:"lazy",width:s||("sclogo"===e?160:void 0),height:n,onError:e=>{}})]})},aa="_authContainer_zmtxl_51",sa="_loginButton_zmtxl_56",na="_userProfile_zmtxl_104",ia="_profileButton_zmtxl_110",ra="_avatar_zmtxl_137",oa="_username_zmtxl_150",la="_userMenu_zmtxl_181",ca="_menuItem_zmtxl_230",da="_logoutButton_zmtxl_285",ma="_adminButton_zmtxl_326",ua="_profileMenuItem_zmtxl_396",pa={BASE_URL:"/soulcycle/",DEV:!1,LEGACY:!1,MODE:"production",PROD:!0,SSR:!1},_a=(e,t="")=>{const a="VITE_".concat(e);return"undefined"!=typeof window&&window.env&&window.env[a]&&""!==window.env[a]?window.env[a]:pa[a]||t},ha=_a("SUPABASE_URL","https://euafjzczdtitceulztfw.supabase.co"),xa=_a("SUPABASE_ANON_KEY","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImV1YWZqemN6ZHRpdGNldWx6dGZ3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDYyMDY0MTcsImV4cCI6MjA2MTc4MjQxN30.i5duBK9a2QKWbc2Y_v723APJeg0vsNNwNkgXZLyIMfM");_a("APP_NAME","SoulCycle");const va=H(ha,xa,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!1},global:{headers:{"Content-Type":"application/json",Accept:"application/json"}}}),ga=new Map,fa=3e5,ya={profileUpdated:[]},ja=(e,t)=>{ya[e]&&ya[e].forEach((e=>e(t)))},ba={async getUserProfile(e){var t,a,s,n;try{if("ca7fe23e-f263-4372-8aac-a652791e724c"===e)ga.delete(e);else if(ga.has(e))return ga.get(e);try{const{data:a,error:s}=await va.from("profiles").select("*").eq("id",e).single();if(!s&&a){const s={id:a.id,displayName:a.display_name||"Пользователь",email:a.email,avatar:a.avatar||null,role:a.role||"user",createdAt:a.created_at,perks:a.perks||["user"],activePerk:a.active_perk||(null==(t=a.perks)?void 0:t[0])||"user"};return ga.set(e,s),setTimeout((()=>ga.delete(e)),fa),s}}catch(i){}try{const{data:t,error:s}=await va.from("public_profiles").select("*").eq("id",e).single();if(!s&&t){const s={id:t.id,displayName:t.display_name||(null==(a=t.email)?void 0:a.split("@")[0])||"Пользователь",email:t.email,avatar:t.avatar||null,role:t.role||"user",createdAt:t.created_at,perks:t.perks||["user"],activePerk:t.active_perk||"user"};return ga.set(e,s),setTimeout((()=>ga.delete(e)),fa),s}}catch(r){}try{const{data:t,error:a}=await va.auth.getSession();if(!a&&(null==(s=null==t?void 0:t.session)?void 0:s.user)&&t.session.user.id===e){const a=t.session.user,s=a.user_metadata||{};let i=["user"],r="user";try{const{data:t}=await va.from("profiles").select("perks, active_perk").eq("id",e).single();t&&(i=t.perks||["user"],r=t.active_perk||i[0]||"user")}catch(o){}const l={id:e,displayName:s.display_name||(null==(n=a.email)?void 0:n.split("@")[0])||"Пользователь",email:a.email,avatar:s.avatar||null,role:s.role||"user",createdAt:a.created_at,perks:i,activePerk:r};return ga.set(e,l),setTimeout((()=>ga.delete(e)),fa),l}}catch(l){}return{id:e,displayName:"Пользователь",email:null,avatar:null,role:"user",createdAt:(new Date).toISOString(),perks:["user"],activePerk:"user"}}catch(c){return{id:e,displayName:"Пользователь",email:null,avatar:null,role:"user",createdAt:(new Date).toISOString(),perks:["user"],activePerk:"user"}}},updateProfileCache(e,t){if(ga.has(e)){const a={...ga.get(e),...t};ga.set(e,a),setTimeout((()=>ga.delete(e)),fa),ja("profileUpdated",{userId:e,profileData:a})}},async updateUserProfile(e,t){try{const{data:a,error:s}=await va.from("profiles").update(t).eq("id",e);if(s)throw s;return this.updateProfileCache(e,t),this.clearCache(),a}catch(a){throw a}},clearCache(){ga.clear()},getCurrentUserFromStorage(){try{const e=localStorage.getItem("user");return e?JSON.parse(e):null}catch(e){return null}},clearProfileCache(e){e&&ga.delete(e)},getCachedProfile:e=>e&&ga.has(e)?ga.get(e):null},ka=e=>{if(!e||"string"!=typeof e)return"Произошла ошибка при авторизации";const t={"Invalid login credentials":"Неверный email или пароль","Email not confirmed":"Email не подтвержден","User already registered":"Пользователь с таким email уже зарегистрирован","Invalid email":"Неверный формат email","Password should be at least 6 characters":"Пароль должен содержать не менее 6 символов","Email already in use":"Email уже используется другим пользователем","Email already confirmed":"Email уже подтвержден","Invalid email or password":"Неверный email или пароль","Email is required":"Email обязателен","Password is required":"Пароль обязателен","Server error":"Ошибка сервера","The new password should be different from the previous password":"Новый пароль должен отличаться от текущего","Invalid refresh token":"Сессия истекла. Пожалуйста, войдите снова","Database error detecting account":"Ошибка базы данных при поиске аккаунта","Failed to establish connection":"Не удалось установить соединение с сервером","Password recovery invalid":"Неверная ссылка для восстановления пароля","Confirmation token expired or invalid":"Ссылка для подтверждения истекла или недействительна","Unable to validate email address":"Невозможно проверить email адрес","Access token is missing":"Отсутствует токен доступа","Access token has expired":"Срок действия токена доступа истек","Invalid or expired access token":"Недействительный или просроченный токен доступа","Signup is disabled":"Регистрация временно отключена","Signup email invalid":"Указан некорректный email адрес","duplicate key value violates unique constraint":"Этот адрес email уже зарегистрирован","You must log in to perform this action":"Необходимо войти для выполнения этого действия","Password must be at least 6 characters":"Пароль должен содержать не менее 6 символов","Пользователь с таким именем уже существует":"Пользователь с таким именем уже существует","Your chosen username is already taken by another user":"Выбранное вами имя пользователя уже занято","Duplicate key value":"Указанный email или имя пользователя уже используется"};if(t[e])return t[e];for(const[a,s]of Object.entries(t))if(e.includes(a))return s;return"Ошибка авторизации: "+e},wa=async(e,t=null)=>{try{let a=va.from("profiles").select("id").ilike("display_name",e);t&&(a=a.neq("id",t));const{data:s,error:n}=await a;return!n&&0===s.length}catch(a){return!1}},Na={async register(e){try{const{email:t,password:a,displayName:s}=e;if(!(await wa(s)))throw new Error("Пользователь с таким именем уже существует");const{data:n,error:i}=await va.auth.signUp({email:t,password:a,options:{data:{display_name:s}}});if(i)throw new Error(ka(i.message)||"Ошибка при регистрации");const r={id:n.user.id,email:n.user.email,displayName:s,role:"user",perks:["user"],activePerk:"user",createdAt:n.user.created_at};return ba.updateProfileCache(r.id,{id:r.id,email:r.email,displayName:r.displayName,avatar:null,perks:["user"],activePerk:"user"}),{user:r}}catch(t){throw t.message&&(t.message=ka(t.message)),t}},async login(e){var t;try{const{email:a,password:s}=e,{data:n,error:i}=await va.auth.signInWithPassword({email:a,password:s});if(i)throw new Error(ka(i.message)||"Ошибка при входе");const r=await this.checkUserBan(n.user.id);if(r.is_banned)throw new Error("Ваш аккаунт заблокирован: ".concat(r.reason,". Окончание блокировки: ").concat(r.end_at?new Date(r.end_at).toLocaleString():"Бессрочно"));const o="igoraor79@gmail.com"===a,{data:l,error:c}=await va.from("profiles").select("*").eq("id",n.user.id).single();if(c&&c.code,!(null==l?void 0:l.perks)||0===l.perks.length){const{error:e}=await va.from("profiles").update({perks:["user"],active_perk:"user"}).eq("id",n.user.id)}const d={id:n.user.id,email:n.user.email,displayName:n.user.user_metadata.display_name||"Пользователь",role:o?"admin":n.user.user_metadata.role||"user",createdAt:n.user.created_at,avatar:n.user.user_metadata.avatar||null,perks:(null==l?void 0:l.perks)||["user"],activePerk:(null==l?void 0:l.active_perk)||(null==(t=null==l?void 0:l.perks)?void 0:t[0])||"user"};return localStorage.setItem("user",JSON.stringify(d)),ba.updateProfileCache(d.id,{id:d.id,email:d.email,displayName:d.displayName,avatar:d.avatar,perks:d.perks,activePerk:d.activePerk}),{user:d,token:n.session.access_token}}catch(a){throw a.message&&(a.message=ka(a.message)),a}},async logout(){try{const{error:e}=await va.auth.signOut();if(e)throw new Error(ka(e.message)||"Ошибка при выходе");localStorage.removeItem("user"),ba.clearCache()}catch(e){throw e.message&&(e.message=ka(e.message)),e}},async checkUserBan(e){if(!e)return{is_banned:!1};try{try{const{data:t,error:a}=await va.from("profiles").select("id").eq("id",e).single();if(a)return{is_banned:!1}}catch(t){return{is_banned:!1}}try{const{data:s,error:n}=await va.from("profiles").select("is_banned, ban_reason, ban_end_at, ban_admin_name").eq("id",e).single();if(n)return n.message&&n.message.includes("does not exist"),{is_banned:!1};if(!s.is_banned)return{is_banned:!1};if(s.ban_end_at){const a=new Date(s.ban_end_at);if(a<new Date){await va.from("profiles").update({is_banned:!1,ban_reason:null,ban_end_at:null,ban_admin_id:null,ban_admin_name:null}).eq("id",e);try{await va.from("user_bans").update({is_active:!1}).eq("user_id",e).eq("is_active",!0)}catch(t){}return{is_banned:!1}}}try{const{data:t,error:a}=await va.from("user_bans").select("*").eq("user_id",e).eq("is_active",!0).order("created_at",{ascending:!1}).limit(1);return a?{is_banned:!0,reason:s.ban_reason,end_at:s.ban_end_at,admin_name:s.ban_admin_name}:t&&0!==t.length?{is_banned:!0,reason:t[0].reason,end_at:t[0].end_at,admin_name:t[0].admin_name,created_at:t[0].created_at,ban_type:t[0].ban_type}:{is_banned:!0,reason:s.ban_reason,end_at:s.ban_end_at,admin_name:s.ban_admin_name}}catch(a){return{is_banned:!0,reason:s.ban_reason,end_at:s.ban_end_at,admin_name:s.ban_admin_name}}}catch(s){return{is_banned:!1}}}catch(t){return{is_banned:!1}}},async getCurrentUser(){var e;try{const a=localStorage.getItem("user");if(a){const e=JSON.parse(a);return ba.updateProfileCache(e.id,{id:e.id,email:e.email,displayName:e.displayName,avatar:e.avatar,perks:e.perks||[],activePerk:e.activePerk}),e}const{data:s,error:n}=await va.auth.getSession();if(n||!s.session)return null;const i="igoraor79@gmail.com"===s.session.user.email,{data:r,error:o}=await va.from("profiles").select("*").eq("id",s.session.user.id).single();if(o&&o.code,!(null==r?void 0:r.perks)||0===r.perks.length)try{await va.from("profiles").update({perks:["user"],active_perk:"user"}).eq("id",s.session.user.id)}catch(t){}const l={id:s.session.user.id,email:s.session.user.email,displayName:s.session.user.user_metadata.display_name||"Пользователь",role:i?"admin":s.session.user.user_metadata.role||"user",createdAt:s.session.user.created_at,avatar:s.session.user.user_metadata.avatar||null,perks:(null==r?void 0:r.perks)||["user"],activePerk:(null==r?void 0:r.active_perk)||(null==(e=null==r?void 0:r.perks)?void 0:e[0])||"user"};return localStorage.setItem("user",JSON.stringify(l)),ba.updateProfileCache(l.id,{id:l.id,email:l.email,displayName:l.displayName,avatar:l.avatar,perks:l.perks,activePerk:l.activePerk}),l}catch(a){return null}},async getUserById(e){try{const t=ba.getCachedProfile(e);if(t)return t;const{data:a,error:s}=await va.from("profiles").select("*").eq("id",e).single();if(s)throw new Error(s.message||"Ошибка при получении профиля");if(!a)throw new Error("Пользователь не найден");const n={id:a.id,displayName:a.display_name||"Пользователь",email:a.email,role:a.role||"user",avatar:a.avatar,perks:a.perks||["user"],activePerk:a.active_perk||"user",createdAt:a.created_at,is_banned:a.is_banned||!1,ban_reason:a.ban_reason,ban_end_at:a.ban_end_at,ban_admin_name:a.ban_admin_name};return ba.updateProfileCache(e,n),n}catch(t){throw t}},async updateAvatar(e){try{const{data:t,error:a}=await va.auth.getSession();if(a||!t.session)throw new Error("Пользователь не авторизован");const s=t.session.user.id,{data:n,error:i}=await va.auth.updateUser({data:{avatar:e}});if(i)throw new Error(i.message||"Ошибка при обновлении аватара");const{error:r}=await va.from("profiles").update({avatar:e}).eq("id",s),o=localStorage.getItem("user");if(o){const t=JSON.parse(o);t.avatar=e,localStorage.setItem("user",JSON.stringify(t)),ba.updateProfileCache(s,{avatar:e}),ja("profileUpdated",{userId:s,profileData:{...t,avatar:e}})}return!0}catch(t){throw t}},isAuthenticated:()=>!!localStorage.getItem("user"),getToken(){var e;const{data:t}=va.auth.getSession();return(null==(e=null==t?void 0:t.session)?void 0:e.access_token)||null},async updateActivePerk(e,t=null){try{const{data:a,error:s}=await va.auth.getSession();if(s||!a.session)throw new Error("Пользователь не авторизован");const n=a.session.user.id,{error:i}=await va.from("profiles").update({active_perk:e}).eq("id",n);if(i)throw new Error(i.message||"Ошибка при обновлении привилегии");const r=localStorage.getItem("user");if(r){const t=JSON.parse(r);t.activePerk=e,localStorage.setItem("user",JSON.stringify(t)),ba.updateProfileCache(n,{activePerk:e}),ja("profileUpdated",{userId:n,profileData:{...t,activePerk:e}})}return t&&"function"==typeof t&&await t(),!0}catch(a){throw a}},async updateDisplayName(e,t,a=null){try{const{data:s,error:n}=await va.auth.getSession();if(n||!s.session)throw new Error("Пользователь не авторизован");const i=s.session.user.id,r=s.session.user.email,{error:o}=await va.auth.signInWithPassword({email:r,password:t});if(o)throw new Error("Неверный пароль");if(!(await wa(e,i)))throw new Error("Пользователь с таким именем уже существует");const{data:l,error:c}=await va.auth.updateUser({data:{display_name:e}});if(c)throw new Error(c.message||"Ошибка при обновлении имени");const{error:d}=await va.from("profiles").update({display_name:e}).eq("id",i),m=localStorage.getItem("user");if(m){const t=JSON.parse(m);t.displayName=e,localStorage.setItem("user",JSON.stringify(t)),ba.updateProfileCache(i,{displayName:e}),ja("profileUpdated",{userId:i,profileData:{...t,displayName:e}})}return a&&"function"==typeof a&&await a(),!0}catch(s){throw s}},async changePassword(e,t){try{const{data:a,error:s}=await va.auth.getSession();if(s||!a.session)throw new Error(ka("You must log in to perform this action"));const n=a.session.user.email,{error:i}=await va.auth.signInWithPassword({email:n,password:e});if(i)throw new Error("Неверный текущий пароль");const{error:r}=await va.auth.updateUser({password:t});if(r)throw new Error(ka(r.message)||"Ошибка при изменении пароля");return!0}catch(a){throw a.message&&(a.message=ka(a.message)),a}},async resetPassword(e){try{const t=window.location.origin,a="".concat(t,"/reset-password"),{error:s}=await va.auth.resetPasswordForEmail(e,{redirectTo:a});if(s)throw new Error(ka(s.message)||"Ошибка при сбросе пароля");return!0}catch(t){throw t.message&&(t.message=ka(t.message)),t}},async refreshCurrentUser(){try{const{data:e,error:t}=await va.auth.getSession();if(t||!e.session)return localStorage.removeItem("user"),null;const{data:a,error:s}=await va.from("profiles").select("*").eq("id",e.session.user.id).single();if(s)return null;const n="igoraor79@gmail.com"===e.session.user.email,i={id:e.session.user.id,email:e.session.user.email,displayName:a.display_name||"Пользователь",role:n?"admin":a.role||"user",createdAt:e.session.user.created_at,avatar:a.avatar||null,perks:a.perks||["user"],activePerk:a.active_perk||"user"};if(localStorage.setItem("user",JSON.stringify(i)),ba.updateProfileCache(i.id,{id:i.id,email:i.email,displayName:i.displayName,avatar:i.avatar,perks:i.perks,activePerk:i.activePerk}),"undefined"!=typeof window){const e=new CustomEvent("app:user:updated",{detail:i});window.dispatchEvent(e)}return i}catch(e){return null}}},Sa=({banInfo:e,onClose:t})=>{if(!e)return null;return q.jsx("div",{className:"ban-modal-overlay",children:q.jsxs(z.div,{className:"ban-modal",initial:"hidden",animate:"visible",exit:"exit",variants:{hidden:{opacity:0,y:20,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{duration:.3}},exit:{opacity:0,y:20,scale:.95,transition:{duration:.2}}},children:[q.jsxs("div",{className:"ban-modal-header",children:[q.jsx(z.div,{className:"ban-icon-wrapper",initial:"hidden",animate:"visible",variants:{hidden:{scale:0,rotate:-180},visible:{scale:1,rotate:0,transition:{type:"spring",damping:10,stiffness:100,delay:.2}}},children:q.jsx(G,{className:"ban-icon"})}),q.jsx("h2",{children:"Ваш аккаунт заблокирован"}),q.jsx("button",{className:"ban-close-button",onClick:t,children:q.jsx(R,{})})]}),q.jsxs("div",{className:"ban-modal-content",children:[q.jsxs("div",{className:"ban-details",children:[q.jsxs("div",{className:"ban-reason",children:[q.jsx(V,{className:"ban-detail-icon"}),q.jsxs("div",{children:[q.jsx("h3",{children:"Причина блокировки:"}),q.jsx("p",{children:e.reason})]})]}),q.jsxs("div",{className:"ban-admin",children:[q.jsx(W,{className:"ban-detail-icon"}),q.jsxs("div",{children:[q.jsx("h3",{children:"Заблокировал:"}),q.jsx("p",{children:e.admin_name})]})]}),q.jsxs("div",{className:"ban-time",children:[q.jsx(J,{className:"ban-detail-icon"}),q.jsxs("div",{children:[q.jsx("h3",{children:"Срок блокировки:"}),q.jsx("p",{className:(()=>{if(!e.end_at)return"ban-permanent";const t=(new Date(e.end_at)-new Date)/36e5;return t<=2?"ban-short":t<=24?"ban-medium":"ban-long"})(),children:(e=>{if(!e)return"Бессрочно";const t=new Date(e),a=new Date;if(t<a)return"Истекло";const s=t-a,n=Math.floor(s/1e3),i=Math.floor(n/60),r=Math.floor(i/60),o=Math.floor(r/24);return o>0?"".concat(o," ").concat(1===o?"день":o<5?"дня":"дней"):r>0?"".concat(r," ").concat(1===r?"час":r<5?"часа":"часов"):i>0?"".concat(i," ").concat(1===i?"минута":i<5?"минуты":"минут"):"менее минуты"})(e.end_at)})]})]})]}),q.jsx("div",{className:"ban-message",children:q.jsx("p",{children:"Если вы считаете, что блокировка была наложена по ошибке, пожалуйста, свяжитесь с администрацией сайта для разрешения этой ситуации."})}),q.jsx("button",{className:"ban-ok-button",onClick:t,children:"Понятно"})]})]})})},Ca="app:user:updated",Pa=e=>{const t=new CustomEvent(Ca,{detail:e});window.dispatchEvent(t)},Ea=M.createContext(null),Ba=({children:e})=>{const[t,a]=M.useState(null),[s,n]=M.useState(!0),[i,r]=M.useState(null);M.useEffect((()=>{(async()=>{n(!0);try{const{data:e,error:t}=await va.auth.getSession();if(t||!e.session)return localStorage.removeItem("user"),a(null),void n(!1);const s=await Na.checkUserBan(e.session.user.id);if(s.is_banned)return r(s),await Na.logout(),a(null),void n(!1);const i=await Na.getCurrentUser();i?a(i):await Na.logout()}catch(e){localStorage.removeItem("user")}finally{n(!1)}})()}),[]);const o=async()=>{if(t)try{n(!0);const e=await Na.checkUserBan(t.id);if(e.is_banned)return r(e),await Na.logout(),a(null),void n(!1);const{data:s,error:i}=await va.from("profiles").select("*").eq("id",t.id).single();if(i)return;s.perks&&0!==s.perks.length||(s.perks=["user"],s.active_perk="user"),s.perks.includes(s.active_perk)||(s.active_perk=s.perks[0]||"user");const o={...t,displayName:s.display_name||t.displayName,avatar:s.avatar||t.avatar,perks:s.perks,activePerk:s.active_perk};localStorage.setItem("user",JSON.stringify(o)),Pa(o),a(o)}catch(e){}finally{n(!1)}};M.useEffect((()=>{if(!t)return;const e=va.channel("profile-changes-".concat(t.id)).on("postgres_changes",{event:"UPDATE",schema:"public",table:"profiles",filter:"id=eq.".concat(t.id)},(e=>{o()})).subscribe();return()=>{e.unsubscribe()}}),[t]),M.useEffect((()=>{if(!t)return;const e=(n=({userId:e,profileData:s})=>{if(t&&e===t.id){const e={...t,displayName:s.displayName||t.displayName,avatar:s.avatar||t.avatar,perks:s.perks||t.perks,activePerk:s.activePerk||t.activePerk};localStorage.setItem("user",JSON.stringify(e)),Pa(e),a(e);const n=new StorageEvent("storage",{key:"user",newValue:JSON.stringify(e),url:window.location.href});window.dispatchEvent(n)}},ya[s="profileUpdated"]||(ya[s]=[]),ya[s].push(n),()=>{ya[s]=ya[s].filter((e=>e!==n))});var s,n;return()=>e()}),[t]);return q.jsxs(Ea.Provider,{value:{user:t,login:async e=>{try{n(!0);const{data:t,error:s}=await va.auth.signInWithPassword({email:e.email,password:e.password});if(s)throw new Error(s.message);const i=await Na.checkUserBan(t.user.id);if(i.is_banned)return await Na.logout(),r(i),n(!1),null;const o=await Na.login(e);return a(o.user),o}catch(t){throw t}finally{n(!1)}},register:async e=>{try{n(!0);const t=await Na.register(e);return t&&t.user&&(a(t.user),localStorage.setItem("user",JSON.stringify(t.user))),t}catch(t){throw t}finally{n(!1)}},logout:async()=>{try{n(!0),await Na.logout(),a(null)}catch(e){}finally{n(!1)}},loginWithProvider:async e=>{try{n(!0);const{data:t,error:a}=await va.auth.signInWithOAuth({provider:e,options:{redirectTo:window.location.origin,queryParams:{access_type:"offline",prompt:"consent",hd:"domain.com"}}});if(a)throw a;return t}catch(t){throw t}finally{n(!1)}},loading:s,refreshUser:o,isAuthenticated:!!t},children:[e,i&&q.jsx(Sa,{banInfo:i,onClose:()=>{r(null)}})]})},Ia=()=>{const e=M.useContext(Ea);if(null===e)throw new Error("useAuth должен использоваться внутри AuthProvider");return e},Oa="_submitButton_1ih8g_77",Aa="_formContainer_1ih8g_112",Da="_errorMessage_1ih8g_133",Ta="_formGroup_1ih8g_144",qa="_inputIcon_1ih8g_155",Fa="_inputWrapper_1ih8g_160",za="_inputIconInside_1ih8g_164",Ma="_charCounter_1ih8g_203",La="_buttonIcon_1ih8g_230",Ua="_switchForm_1ih8g_259",Ha="_switchButton_1ih8g_271",Ga=({onSuccess:e,onSwitchToRegister:t})=>{const{login:a,loading:s}=Ia(),[n,i]=M.useState(""),[r,o]=M.useState(""),[l,c]=M.useState(""),d={focus:{scale:1.02,x:5},blur:{scale:1,x:0}};return q.jsxs("div",{className:Aa,children:[q.jsx(z.h2,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.1,duration:.5},children:"Вход в аккаунт"}),l&&q.jsx(z.div,{className:Da,initial:{opacity:0,y:-10,height:0},animate:{opacity:1,y:0,height:"auto"},transition:{duration:.3,ease:"easeOut"},children:l}),q.jsxs("form",{onSubmit:async t=>{if(t.preventDefault(),n&&r)try{c(""),await a({email:n,password:r}),e&&e()}catch(s){c(s.message||"Ошибка входа. Проверьте ваши учетные данные.")}else c("Пожалуйста, заполните все поля")},children:[q.jsxs("div",{className:Ta,children:[q.jsxs("label",{htmlFor:"email",children:[q.jsx($,{className:qa})," Email:"]}),q.jsx(z.div,{whileFocus:"focus",whileTap:"focus",variants:d,children:q.jsxs("div",{className:Fa,children:[q.jsx($,{className:za}),q.jsx("input",{type:"email",id:"email",value:n,onChange:e=>i(e.target.value),disabled:s,placeholder:"Введите ваш email",required:!0})]})})]}),q.jsxs("div",{className:Ta,children:[q.jsxs("label",{htmlFor:"password",children:[q.jsx(Y,{className:qa})," Пароль:"]}),q.jsx(z.div,{whileFocus:"focus",whileTap:"focus",variants:d,children:q.jsxs("div",{className:Fa,children:[q.jsx(Y,{className:za}),q.jsx("input",{type:"password",id:"password",value:r,onChange:e=>o(e.target.value),disabled:s,placeholder:"Введите ваш пароль",required:!0})]})})]}),q.jsx(z.button,{type:"submit",className:Oa,disabled:s,variants:{hover:{scale:1.03,boxShadow:"0 5px 15px rgba(0, 0, 0, 0.3)"},tap:{scale:.98}},whileHover:"hover",whileTap:"tap",children:s?"Вход...":q.jsxs(q.Fragment,{children:[q.jsx(X,{className:La}),q.jsx("span",{children:"Войти"})]})})]}),q.jsxs("div",{className:Ua,children:[q.jsx("p",{children:"Еще нет аккаунта?"}),q.jsx(z.button,{className:Ha,onClick:t,disabled:s,whileHover:{scale:1.05},whileTap:{scale:.98},children:"Зарегистрироваться"})]})]})},Ra=({onSuccess:e,onSwitchToLogin:t})=>{const{register:a,loading:s}=Ia(),[n,i]=M.useState(""),[r,o]=M.useState(""),[l,c]=M.useState(""),[d,m]=M.useState(""),[u,p]=M.useState(""),_={focus:{scale:1.02,x:5},blur:{scale:1,x:0}},h={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:300,damping:24}}};return q.jsxs("div",{className:Aa,children:[q.jsx(z.h2,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.1,duration:.5},children:"Регистрация"}),u&&q.jsx(z.div,{className:Da,initial:{opacity:0,y:-10,height:0},animate:{opacity:1,y:0,height:"auto"},transition:{duration:.3,ease:"easeOut"},children:u}),q.jsxs(z.form,{onSubmit:async t=>{if(t.preventDefault(),n&&r&&l&&d)if(r===l)if(r.length<6)p("Пароль должен содержать не менее 6 символов");else if(r.length>15)p("Пароль не должен превышать 15 символов");else if(d.length>12)p("Имя пользователя не должно превышать 12 символов");else try{p(""),await a({email:n,password:r,displayName:d}),e&&e()}catch(s){p(s.message||"Ошибка при регистрации. Попробуйте позже.")}else p("Пароли не совпадают");else p("Пожалуйста, заполните все поля")},variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},initial:"hidden",animate:"visible",children:[q.jsxs(z.div,{className:Ta,variants:h,children:[q.jsxs("label",{htmlFor:"displayName",children:[q.jsx(W,{className:qa})," Имя пользователя:"]}),q.jsx(z.div,{whileFocus:"focus",whileTap:"focus",variants:_,children:q.jsxs("div",{className:Fa,children:[q.jsx(W,{className:za}),q.jsx("input",{type:"text",id:"displayName",value:d,onChange:e=>{const t=e.target.value;t.length<=12&&m(t)},disabled:s,placeholder:"Введите ваше имя (до 12 символов)",required:!0,maxLength:12})]})}),q.jsxs("small",{className:Ma,children:[d.length,"/12 символов"]})]}),q.jsxs(z.div,{className:Ta,variants:h,children:[q.jsxs("label",{htmlFor:"email",children:[q.jsx($,{className:qa})," Email:"]}),q.jsx(z.div,{whileFocus:"focus",whileTap:"focus",variants:_,children:q.jsxs("div",{className:Fa,children:[q.jsx($,{className:za}),q.jsx("input",{type:"email",id:"email",value:n,onChange:e=>i(e.target.value),disabled:s,placeholder:"Введите ваш email",required:!0})]})})]}),q.jsxs(z.div,{className:Ta,variants:h,children:[q.jsxs("label",{htmlFor:"password",children:[q.jsx(Y,{className:qa})," Пароль:"]}),q.jsx(z.div,{whileFocus:"focus",whileTap:"focus",variants:_,children:q.jsxs("div",{className:Fa,children:[q.jsx(Y,{className:za}),q.jsx("input",{type:"password",id:"password",value:r,onChange:e=>{const t=e.target.value;t.length<=15&&o(t)},disabled:s,placeholder:"От 6 до 15 символов",required:!0,maxLength:15})]})}),q.jsxs("small",{className:Ma,children:[r.length,"/15 символов"]})]}),q.jsxs(z.div,{className:Ta,variants:h,children:[q.jsxs("label",{htmlFor:"confirmPassword",children:[q.jsx(Y,{className:qa})," Подтвердите пароль:"]}),q.jsx(z.div,{whileFocus:"focus",whileTap:"focus",variants:_,children:q.jsxs("div",{className:Fa,children:[q.jsx(Y,{className:za}),q.jsx("input",{type:"password",id:"confirmPassword",value:l,onChange:e=>{const t=e.target.value;t.length<=15&&c(t)},disabled:s,placeholder:"Повторите пароль",required:!0,maxLength:15})]})})]}),q.jsx(z.button,{type:"submit",className:Oa,disabled:s,variants:{hover:{scale:1.03,boxShadow:"0 5px 15px rgba(0, 0, 0, 0.3)"},tap:{scale:.98}},whileHover:"hover",whileTap:"tap",children:s?"Регистрация...":q.jsxs(q.Fragment,{children:[q.jsx(Z,{className:La}),q.jsx("span",{children:"Зарегистрироваться"})]})})]}),q.jsxs("div",{className:Ua,children:[q.jsx("p",{children:"Уже есть аккаунт?"}),q.jsx(z.button,{className:Ha,onClick:t,disabled:s,whileHover:{scale:1.05},whileTap:{scale:.98},children:"Войти"})]})]})},Va="_backdrop_1nj0y_1",Wa="_modal_1nj0y_19",Ja="_modalContent_1nj0y_34",$a="_closeButton_1nj0y_40",Ya="_formWrapper_1nj0y_64",Xa="_patternOverlay_1nj0y_146",Za=({isOpen:e,onClose:t})=>{const[a,s]=M.useState("login");M.useEffect((()=>{if(e){const e=window.scrollY;return document.body.style.position="fixed",document.body.style.width="100%",document.body.style.top="-".concat(e,"px"),document.body.style.overflow="hidden",()=>{document.body.style.position="",document.body.style.width="",document.body.style.top="",document.body.style.overflow="auto",window.scrollTo(0,e)}}}),[e]);const n=()=>{t()};if(!e)return null;const i={hidden:{opacity:0,x:50,scale:.9},visible:{opacity:1,x:0,scale:1,transition:{type:"spring",damping:20,stiffness:300}},exit:{opacity:0,x:-50,scale:.9,transition:{duration:.2}}};return q.jsx(F,{mode:"wait",children:q.jsx(z.div,{className:Va,variants:{hidden:{opacity:0},visible:{opacity:1,transition:{duration:.3}},exit:{opacity:0,transition:{duration:.3,delay:.1}}},initial:"hidden",animate:"visible",exit:"exit",onClick:t,children:q.jsxs(z.div,{className:Wa,variants:{hidden:{opacity:0,scale:.9,y:-50,rotateX:-10},visible:{opacity:1,scale:1,y:0,rotateX:0,transition:{type:"spring",damping:25,stiffness:300,duration:.4}},exit:{opacity:0,scale:.95,y:-30,rotateX:-15,transition:{duration:.3}}},initial:"hidden",animate:"visible",exit:"exit",onClick:e=>e.stopPropagation(),children:[q.jsx(z.div,{className:Xa,variants:{hidden:{opacity:0},visible:{opacity:.05,transition:{duration:.8}}},initial:"hidden",animate:"visible"}),q.jsx(z.button,{className:$a,onClick:t,whileHover:{scale:1.1,rotate:90},whileTap:{scale:.9},children:q.jsx(R,{})}),q.jsx("div",{className:Ja,children:q.jsx(F,{mode:"wait",children:"login"===a?q.jsx(z.div,{variants:i,initial:"hidden",animate:"visible",exit:"exit",className:Ya,children:q.jsx(Ga,{onSuccess:n,onSwitchToRegister:()=>{s("register")}})},"login"):q.jsx(z.div,{variants:i,initial:"hidden",animate:"visible",exit:"exit",className:Ya,children:q.jsx(Ra,{onSuccess:n,onSwitchToLogin:()=>{s("login")}})},"register")})})]})})})},Qa="_sponsorPerk_14u1w_27 _perkBase_14u1w_18",Ka="_earlyUserPerk_14u1w_33 _perkBase_14u1w_18",es="_adminPerk_14u1w_39 _perkBase_14u1w_18",ts="_userPerk_14u1w_45 _perkBase_14u1w_18",as="./pics/pfp/guest",ss=({src:e,alt:t,className:a,onLoad:s,style:n})=>{const i=e||as,r=t=>e&&(e.endsWith(".png")||e.endsWith(".jpg")||e.endsWith(".jpeg")||e.endsWith(".webp")||e.endsWith(".avif")||e.startsWith("data:")||e.startsWith("http"))?e:"".concat(i,".").concat(t);return q.jsxs("picture",{children:[q.jsx("source",{srcSet:r("avif"),type:"image/avif"}),q.jsx("source",{srcSet:r("webp"),type:"image/webp"}),q.jsx("img",{src:r("png"),alt:t||"Аватар пользователя",className:a,style:n,onLoad:s,onError:e=>{e.target.src!=="".concat(as,".png")&&(e.target.src="".concat(as,".png")),e.target.onerror=null}})]})},ns=()=>{const{user:e,logout:t,isAuthenticated:a}=Ia(),s=Q(),[n,i]=M.useState(!1),[r,o]=M.useState(!1),[l,c]=M.useState("Пользователь"),[d,m]=M.useState(!1),[u,p]=M.useState(""),[,_]=M.useReducer((e=>e+1),0),h=M.useCallback((e=>{if(!e)return"";switch(e){case"sponsor":return Qa;case"early_user":return Ka;case"admin":return es;default:return ts}}),[]);M.useEffect((()=>{var t;if(e){c(e.displayName||"Пользователь");const a="igoraor79@gmail.com"===e.email||(null==(t=e.perks)?void 0:t.includes("admin"))||"admin"===e.activePerk;m(a),p(h(e.activePerk))}else p("")}),[e,h]),M.useEffect((()=>{const e=e=>{var t;const a=e.detail;if(a){_();const e="igoraor79@gmail.com"===a.email||(null==(t=a.perks)?void 0:t.includes("admin"))||"admin"===a.activePerk;m(e),c(a.displayName||"Пользователь"),p(h(a.activePerk))}};return window.addEventListener(Ca,e),()=>{window.removeEventListener(Ca,e)}}),[h]),M.useEffect((()=>{const e=e=>{"user"===e.key&&_()};return window.addEventListener("storage",e),()=>{window.removeEventListener("storage",e)}}),[]);const x={hidden:{opacity:0,x:-5,y:5},visible:{opacity:1,x:0,y:0,transition:{type:"spring",damping:20,stiffness:300}}},v={hover:{scale:1.03,y:-2},tap:{scale:.98}};return q.jsxs("div",{className:aa,children:[a?q.jsxs("div",{className:na,children:[q.jsxs(z.button,{className:ia,onClick:()=>{o(!r)},"aria-label":"Меню пользователя",variants:v,whileHover:"hover",whileTap:"tap",children:[q.jsx(ss,{src:null==e?void 0:e.avatar,alt:"Аватар пользователя",className:ra}),q.jsx("span",{className:"".concat(oa," ").concat(u),children:l}),q.jsx(z.span,{animate:{rotate:r?180:0},transition:{duration:.3},style:{marginLeft:"3px",display:"flex",alignItems:"center"},children:q.jsx(K,{size:14})})]}),q.jsx(F,{children:r&&q.jsx(z.div,{className:la,variants:{hidden:{opacity:0,y:-10,scale:.98},visible:{opacity:1,y:0,scale:1,transition:{type:"spring",damping:25,stiffness:300,duration:.3,staggerChildren:.06}},exit:{opacity:0,y:-5,scale:.98,transition:{duration:.2}}},initial:"hidden",animate:"visible",exit:"exit",children:q.jsxs("ul",{children:[q.jsx(z.li,{variants:x,children:q.jsxs(z.button,{className:"".concat(ca," ").concat(ua),onClick:()=>{s("/profile"),o(!1)},whileHover:{x:5},children:[q.jsx(W,{})," Профиль"]})}),d&&q.jsx(z.li,{variants:x,children:q.jsxs(z.button,{className:"".concat(ca," ").concat(ma),onClick:()=>{s("/admin"),o(!1)},whileHover:{x:5},children:[q.jsx(ee,{})," Администрирование"]})}),q.jsx(z.li,{variants:x,children:q.jsxs(z.button,{className:"".concat(ca," ").concat(da),onClick:()=>{t(),o(!1)},whileHover:{x:5},children:[q.jsx(te,{})," Выйти"]})})]})})})]}):q.jsxs(z.button,{className:sa,onClick:()=>{i(!0)},variants:v,whileHover:"hover",whileTap:"tap",children:[q.jsx(X,{size:16})," Войти"]}),q.jsx(Za,{isOpen:n,onClose:()=>{i(!1)}})]})},is={perkBase:"_perkBase_1jflv_18",sponsorPerk:"_sponsorPerk_1jflv_27 _perkBase_1jflv_18",earlyUserPerk:"_earlyUserPerk_1jflv_33 _perkBase_1jflv_18",adminPerk:"_adminPerk_1jflv_39 _perkBase_1jflv_18",userPerk:"_userPerk_1jflv_45 _perkBase_1jflv_18",profileContainer:"_profileContainer_1jflv_51",loading:"_loading_1jflv_65",error:"_error_1jflv_65",profileHeader:"_profileHeader_1jflv_78",avatarContainer:"_avatarContainer_1jflv_89",avatar:"_avatar_1jflv_89",changeAvatarButton:"_changeAvatarButton_1jflv_108",profileInfo:"_profileInfo_1jflv_129",displayName:"_displayName_1jflv_133",userMeta:"_userMeta_1jflv_152",userRole:"_userRole_1jflv_162",userJoined:"_userJoined_1jflv_162",userEmail:"_userEmail_1jflv_162",userPrivileges:"_userPrivileges_1jflv_162",label:"_label_1jflv_175",value:"_value_1jflv_187",privilegeContainer:"_privilegeContainer_1jflv_196",changePerkButton:"_changePerkButton_1jflv_208",adminActions:"_adminActions_1jflv_221",personalSettings:"_personalSettings_1jflv_221",actionButtons:"_actionButtons_1jflv_242",editButton:"_editButton_1jflv_247",banButton:"_banButton_1jflv_247",saveButton:"_saveButton_1jflv_247",cancelButton:"_cancelButton_1jflv_247",settingGroup:"_settingGroup_1jflv_285",settingControl:"_settingControl_1jflv_294",modalOverlay:"_modalOverlay_1jflv_308",modalContent:"_modalContent_1jflv_329",modalAppear:"_modalAppear_1jflv_1",avatarGrid:"_avatarGrid_1jflv_372",avatarOption:"_avatarOption_1jflv_379",selected:"_selected_1jflv_396",closeButton:"_closeButton_1jflv_413",perksList:"_perksList_1jflv_439",perkItem:"_perkItem_1jflv_446",activePerk:"_activePerk_1jflv_474",perkName:"_perkName_1jflv_482",perkDescription:"_perkDescription_1jflv_503",modalFooter:"_modalFooter_1jflv_509",modalForm:"_modalForm_1jflv_514",formGroup:"_formGroup_1jflv_520",formControl:"_formControl_1jflv_530",formActions:"_formActions_1jflv_550",submitButton:"_submitButton_1jflv_582",modalHeader:"_modalHeader_1jflv_598",errorMessage:"_errorMessage_1jflv_635",successMessage:"_successMessage_1jflv_635",fadeIn:"_fadeIn_1jflv_1",modalMotion:"_modalMotion_1jflv_668",passwordStrength:"_passwordStrength_1jflv_675",passwordStrengthInfo:"_passwordStrengthInfo_1jflv_680",passwordStrengthText:"_passwordStrengthText_1jflv_686",passwordStrengthPercentage:"_passwordStrengthPercentage_1jflv_691",passwordStrengthBar:"_passwordStrengthBar_1jflv_696",passwordStrengthFill:"_passwordStrengthFill_1jflv_705",avatarWrapper:"_avatarWrapper_1jflv_753",loadingOverlay:"_loadingOverlay_1jflv_765",avatarHint:"_avatarHint_1jflv_779",adminEditForm:"_adminEditForm_1jflv_796",blockLabel:"_blockLabel_1jflv_817",formInput:"_formInput_1jflv_824",formSelect:"_formSelect_1jflv_824",checkboxGroup:"_checkboxGroup_1jflv_843",checkboxLabel:"_checkboxLabel_1jflv_849",checkboxText:"_checkboxText_1jflv_864",statusMessage:"_statusMessage_1jflv_869",success:"_success_1jflv_635",info:"_info_1jflv_887",loadingIcon:"_loadingIcon_1jflv_896",spin:"_spin_1jflv_1",perksOptions:"_perksOptions_1jflv_1043",perkOption:"_perkOption_1jflv_1056",basePerk:"_basePerk_1jflv_1077",baseLabel:"_baseLabel_1jflv_1086",baseNote:"_baseNote_1jflv_1089",selectPerk:"_selectPerk_1jflv_1095",banInfoBox:"_banInfoBox_1jflv_1209",banDetails:"_banDetails_1jflv_1236",bannedStatus:"_bannedStatus_1jflv_1244",banDuration:"_banDuration_1jflv_1256",unbanButton:"_unbanButton_1jflv_1266",banDialog:"_banDialog_1jflv_1336",banDialogHeader:"_banDialogHeader_1jflv_1348",banDialogContent:"_banDialogContent_1jflv_1379",banDialogActions:"_banDialogActions_1jflv_1416"},rs="./pics/pfp/guest",os=({src:e,alt:t,className:a})=>{const s=e||rs,n=t=>e&&(e.endsWith(".png")||e.endsWith(".jpg")||e.endsWith(".jpeg")||e.endsWith(".webp")||e.endsWith(".avif"))?e:"".concat(s,".").concat(t);return q.jsxs("picture",{children:[q.jsx("source",{srcSet:n("avif"),type:"image/avif"}),q.jsx("source",{srcSet:n("webp"),type:"image/webp"}),q.jsx("img",{src:n("png"),alt:t,className:a,onError:e=>{e.target.src!=="".concat(rs,".png")&&(e.target.src="".concat(rs,".png")),e.target.onerror=null}})]})},ls=[{id:1,path:"./pics/pfp/pfp1"},{id:2,path:"./pics/pfp/pfp2"},{id:3,path:"./pics/pfp/pfp3"},{id:4,path:"./pics/pfp/pfp4"},{id:5,path:"./pics/pfp/pfp5"}],cs=({perks:e,activePerk:t,onSelectPerk:a,onClose:s})=>q.jsx("div",{className:is.modalOverlay,children:q.jsxs(z.div,{className:is.modalContent,initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},transition:{duration:.3,ease:"easeOut"},children:[q.jsxs("div",{className:is.modalHeader,children:[q.jsx("h3",{children:"Выберите привилегию"}),q.jsx("button",{className:is.closeButton,onClick:s,children:q.jsx(R,{size:20})})]}),q.jsx("div",{className:is.perksList,children:e.map((e=>{const s="sponsor"===e?is.sponsorPerk:"early_user"===e?is.earlyUserPerk:"admin"===e?is.adminPerk:"";return q.jsxs(z.div,{className:"".concat(is.perkItem," ").concat(t===e?is.activePerk:""),onClick:()=>a(e),whileHover:{x:5},transition:{type:"spring",stiffness:300,damping:20},children:[q.jsx("div",{className:"".concat(is.perkName," ").concat(s),children:"user"===e?"Пользователь":"early_user"===e?"Ранний пользователь":"sponsor"===e?"Спонсор":e}),q.jsx("div",{className:is.perkDescription,children:"user"===e?"Базовая привилегия всех пользователей":"early_user"===e?"Ранний пользователь проекта":"sponsor"===e?"Спонсор проекта с расширенными возможностями":"Специальная привилегия"}),t===e&&q.jsx(z.div,{style:{position:"absolute",right:15,top:"50%",transform:"translateY(-50%)",color:"var(--accent)"},initial:{scale:0},animate:{scale:1},transition:{delay:.2},children:q.jsx(oe,{size:20})})]},e)}))})]})}),ds=({onClose:e,onSubmit:t,initialName:a})=>{const[s,n]=M.useState(a||""),[i,r]=M.useState(""),[o,l]=M.useState(""),[c,d]=M.useState(!1),[m,u]=M.useState(!1);return q.jsx("div",{className:is.modalOverlay,children:q.jsx(z.div,{className:is.modalMotion,initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},transition:{duration:.3,ease:"easeOut"},children:q.jsxs(z.div,{className:is.modalContent,animate:m?{scale:.95,opacity:0}:{scale:1,opacity:1},children:[q.jsxs("div",{className:is.modalHeader,children:[q.jsx("h3",{children:"Изменить имя пользователя"}),q.jsx("button",{className:is.closeButton,onClick:e,disabled:c,children:q.jsx(R,{size:20})})]}),m?q.jsxs(z.div,{className:is.successMessage,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.3},children:[q.jsx(oe,{size:20}),q.jsx("span",{children:"Имя пользователя успешно изменено!"})]}):q.jsxs("form",{onSubmit:async a=>{if(a.preventDefault(),l(""),s.trim())if(i){d(!0);try{await t(s.trim(),i),u(!0),setTimeout((()=>e()),1500)}catch(n){l(n.message||"Не удалось обновить имя пользователя")}finally{d(!1)}}else l("Введите пароль для подтверждения");else l("Имя пользователя не может быть пустым")},className:is.modalForm,children:[q.jsxs("div",{className:is.formGroup,children:[q.jsx("label",{htmlFor:"newName",children:"Новое имя:"}),q.jsx("input",{type:"text",id:"newName",value:s,onChange:e=>n(e.target.value),placeholder:"Введите новое имя",className:is.formControl,disabled:c,autoFocus:!0})]}),q.jsxs("div",{className:is.formGroup,children:[q.jsx("label",{htmlFor:"password",children:"Введите пароль для подтверждения:"}),q.jsx("input",{type:"password",id:"password",value:i,onChange:e=>r(e.target.value),placeholder:"Ваш текущий пароль",className:is.formControl,disabled:c})]}),o&&q.jsxs(z.div,{className:is.errorMessage,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.2},children:[q.jsx(ne,{size:18}),q.jsx("span",{children:o})]}),q.jsxs("div",{className:is.formActions,children:[q.jsx("button",{type:"button",className:is.cancelButton,onClick:e,disabled:c,children:"Отмена"}),q.jsx(z.button,{type:"submit",className:is.submitButton,disabled:c,whileHover:{scale:1.03},whileTap:{scale:.97},children:c?q.jsx(z.span,{animate:{opacity:[1,.5,1]},transition:{duration:1.5,repeat:1/0},children:"Сохранение..."}):"Сохранить"})]})]})]})})})},ms=({onClose:e,onSubmit:t})=>{const[a,s]=M.useState(""),[n,i]=M.useState(""),[r,o]=M.useState(""),[l,c]=M.useState(""),[d,m]=M.useState(!1),[u,p]=M.useState(!1);return q.jsx("div",{className:is.modalOverlay,children:q.jsx(z.div,{className:is.modalMotion,initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},transition:{duration:.3,ease:"easeOut"},children:q.jsxs(z.div,{className:is.modalContent,animate:u?{scale:.95,opacity:0}:{scale:1,opacity:1},children:[q.jsxs("div",{className:is.modalHeader,children:[q.jsx("h3",{children:"Изменить пароль"}),q.jsx("button",{className:is.closeButton,onClick:e,disabled:d,children:q.jsx(R,{size:20})})]}),u?q.jsxs(z.div,{className:is.successMessage,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.3},children:[q.jsx(oe,{size:20}),q.jsx("span",{children:"Пароль успешно изменен!"})]}):q.jsxs("form",{onSubmit:async s=>{if(s.preventDefault(),c(""),a)if(n)if(n.length<6)c("Новый пароль должен содержать не менее 6 символов");else if(n===r){m(!0);try{await t(a,n),p(!0),setTimeout((()=>e()),1500)}catch(i){c(i.message||"Не удалось изменить пароль")}finally{m(!1)}}else c("Пароли не совпадают");else c("Введите новый пароль");else c("Введите текущий пароль")},className:is.modalForm,children:[q.jsxs("div",{className:is.formGroup,children:[q.jsx("label",{htmlFor:"currentPassword",children:"Текущий пароль:"}),q.jsx("input",{type:"password",id:"currentPassword",value:a,onChange:e=>s(e.target.value),placeholder:"Введите текущий пароль",className:is.formControl,disabled:d,autoFocus:!0})]}),q.jsxs("div",{className:is.formGroup,children:[q.jsx("label",{htmlFor:"newPassword",children:"Новый пароль:"}),q.jsx("input",{type:"password",id:"newPassword",value:n,onChange:e=>i(e.target.value),placeholder:"Введите новый пароль",className:is.formControl,disabled:d})]}),q.jsxs("div",{className:is.formGroup,children:[q.jsx("label",{htmlFor:"confirmPassword",children:"Подтвердите пароль:"}),q.jsx("input",{type:"password",id:"confirmPassword",value:r,onChange:e=>o(e.target.value),placeholder:"Повторите новый пароль",className:is.formControl,disabled:d})]}),l&&q.jsxs(z.div,{className:is.errorMessage,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.2},children:[q.jsx(ne,{size:18}),q.jsx("span",{children:l})]}),q.jsxs("div",{className:is.formActions,children:[q.jsx("button",{type:"button",className:is.cancelButton,onClick:e,disabled:d,children:"Отмена"}),q.jsx(z.button,{type:"submit",className:is.submitButton,disabled:d,whileHover:{scale:1.03},whileTap:{scale:.97},children:d?q.jsx(z.span,{animate:{opacity:[1,.5,1]},transition:{duration:1.5,repeat:1/0},children:"Сохранение..."}):"Сохранить"})]})]})]})})})},us=({avatars:e,onSelectAvatar:t,onClose:a})=>{const[s,n]=M.useState(null),[i,r]=M.useState(!1),[o,l]=M.useState(!1);return q.jsx("div",{className:is.modalOverlay,children:q.jsx(z.div,{className:is.modalMotion,initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},transition:{duration:.3,ease:"easeOut"},children:q.jsxs(z.div,{className:is.modalContent,animate:o?{scale:.95,opacity:.8}:{scale:1,opacity:1},children:[q.jsxs("div",{className:is.modalHeader,children:[q.jsx("h3",{children:"Выберите аватар"}),q.jsx("button",{className:is.closeButton,onClick:a,disabled:i||o,children:q.jsx(R,{size:20})})]}),o?q.jsxs(z.div,{className:is.successMessage,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.3},children:[q.jsx(oe,{size:20}),q.jsx("span",{children:"Аватар успешно изменен!"})]}):q.jsxs(q.Fragment,{children:[q.jsx(z.div,{className:is.avatarGrid,initial:{opacity:0},animate:{opacity:1},transition:{staggerChildren:.05,delayChildren:.1},children:e.map(((e,a)=>q.jsxs(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*a},className:is.avatarWrapper,children:[q.jsxs("picture",{children:[q.jsx("source",{srcSet:"".concat(e.path,".avif"),type:"image/avif"}),q.jsx("source",{srcSet:"".concat(e.path,".webp"),type:"image/webp"}),q.jsx(z.img,{src:"".concat(e.path,".png"),alt:"Аватар ".concat(e.id),className:"".concat(is.avatarOption," ").concat((null==s?void 0:s.id)===e.id?is.selected:""),onClick:()=>(async e=>{i||o||(n(e),r(!0),setTimeout((()=>{l(!0),setTimeout((()=>{t(e.id)}),1e3)}),500))})(e),whileHover:{scale:1.08,y:-5},whileTap:{scale:.95},transition:{type:"spring",stiffness:300,damping:20}})]}),(null==s?void 0:s.id)===e.id&&i&&q.jsx(z.div,{className:is.loadingOverlay,initial:{opacity:0},animate:{opacity:1},children:q.jsx(z.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:q.jsx(re,{size:24,color:"white"})})})]},e.id)))}),q.jsx(z.p,{className:is.avatarHint,initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:"Выберите один из доступных аватаров, чтобы обновить вашу фотографию профиля."})]})]})})})},ps=({user:e,onSave:t,onCancel:a})=>{const[s,n]=M.useState({displayName:e.displayName||"",perks:e.perks||["user"],activePerk:e.activePerk||"user"}),[i,r]=M.useState(!1),[o,l]=M.useState({type:"",message:""}),c=e=>{if("user"===e)return;const t=s.perks.includes(e)?s.perks.filter((t=>t!==e)):[...s.perks,e];t.includes("user")||t.push("user"),n({...s,perks:t})};return q.jsxs("form",{className:is.adminEditForm,onSubmit:async a=>{a.preventDefault();try{if(r(!0),l({type:"",message:""}),!s.perks.includes(s.activePerk))return l({type:"error",message:"Активная привилегия должна быть в списке привилегий пользователя"}),void r(!1);const a={display_name:s.displayName,perks:s.perks,active_perk:s.activePerk},{error:n}=await va.from("profiles").update(a).eq("id",e.id);if(n)throw new Error("Ошибка при обновлении профиля: ".concat(n.message));const{data:i,error:o}=await va.from("profiles").select("*").eq("id",e.id).single();if(o)throw new Error("Ошибка при получении обновленного профиля: ".concat(o.message));const c={...e,displayName:i.display_name,perks:i.perks,activePerk:i.active_perk};l({type:"success",message:"Профиль пользователя успешно обновлен"}),setTimeout((()=>{t(c)}),1500)}catch(n){l({type:"error",message:n.message})}finally{r(!1)}},children:[o.message&&q.jsxs("div",{className:"".concat(is.statusMessage," ").concat(is[o.type]),children:["error"===o.type&&q.jsx(ne,{}),"success"===o.type&&q.jsx(ie,{}),"info"===o.type&&q.jsx(V,{}),o.message]}),q.jsxs("div",{className:is.formGroup,children:[q.jsxs("label",{htmlFor:"displayName",children:[q.jsx(W,{})," Отображаемое имя:"]}),q.jsx("input",{type:"text",id:"displayName",name:"displayName",value:s.displayName,onChange:e=>{const{name:t,value:a}=e.target;n({...s,[t]:a})},placeholder:"Имя пользователя"})]}),q.jsxs("div",{className:is.formGroup,children:[q.jsxs("label",{children:[q.jsx(se,{})," Привилегии:"]}),q.jsxs("div",{className:is.perksOptions,children:[q.jsxs("div",{className:"".concat(is.perkOption," ").concat(is.basePerk),children:[q.jsx("input",{type:"checkbox",id:"perk-user",checked:!0,disabled:!0,readOnly:!0}),q.jsxs("label",{htmlFor:"perk-user",className:is.baseLabel,children:["Пользователь ",q.jsx("span",{className:is.baseNote,children:"(базовая привилегия)"})]})]}),q.jsxs("div",{className:is.perkOption,children:[q.jsx("input",{type:"checkbox",id:"perk-early_user",checked:s.perks.includes("early_user"),onChange:()=>c("early_user")}),q.jsx("label",{htmlFor:"perk-early_user",children:"Ранний пользователь"})]}),q.jsxs("div",{className:is.perkOption,children:[q.jsx("input",{type:"checkbox",id:"perk-sponsor",checked:s.perks.includes("sponsor"),onChange:()=>c("sponsor")}),q.jsx("label",{htmlFor:"perk-sponsor",children:"Спонсор"})]}),q.jsxs("div",{className:is.perkOption,children:[q.jsx("input",{type:"checkbox",id:"perk-admin",checked:s.perks.includes("admin"),onChange:()=>c("admin")}),q.jsx("label",{htmlFor:"perk-admin",children:"Администратор"})]})]})]}),q.jsxs("div",{className:is.formGroup,children:[q.jsxs("label",{htmlFor:"activePerk",children:[q.jsx(se,{})," Активная привилегия:"]}),q.jsx("select",{id:"activePerk",name:"activePerk",value:s.activePerk,onChange:e=>{const t=e.target.value;s.perks.includes(t)?(n({...s,activePerk:t}),l({type:"",message:""})):l({type:"error",message:"Нельзя установить активную привилегию, которой нет у пользователя"})},className:is.selectPerk,children:s.perks.map((e=>q.jsxs("option",{value:e,children:["user"===e&&"Пользователь","early_user"===e&&"Ранний пользователь","sponsor"===e&&"Спонсор","admin"===e&&"Администратор"]},e)))})]}),q.jsxs("div",{className:is.formActions,children:[q.jsxs("button",{type:"button",className:is.cancelButton,onClick:a,children:[q.jsx(R,{})," Отмена"]}),q.jsxs("button",{type:"submit",className:is.saveButton,disabled:i,children:[i?q.jsx(re,{}):q.jsx(de,{})," Сохранить"]})]})]})},_s=()=>{var e;const{userId:t}=ae(),{user:a,isAuthenticated:s,loading:n,refreshUser:i}=Ia(),[r,o]=M.useState(null),[l,c]=M.useState(!0),[d,m]=M.useState(null),[u,p]=M.useState(!1),[_,h]=M.useState(!1),[x,v]=M.useState(!1),[g,f]=M.useState(!1),[y,j]=M.useState(""),b=Q(),[k,w]=M.useState(!1),[N,S]=M.useState({type:"",message:""}),[C,P]=M.useState(!1),[E,B]=M.useState(""),[I,O]=M.useState(""),[A,D]=M.useState(!1),[T,L]=M.useState(null),U=!t||a&&t===a.id,H=a&&("igoraor79@gmail.com"===a.email||(null==(e=a.perks)?void 0:e.includes("admin"))||"admin"===a.activePerk);M.useEffect((()=>{n||s||t||b("/",{replace:!0})}),[s,n,b,t]),M.useEffect((()=>{(async()=>{try{if(n)return;if(c(!0),U&&a)o({...a,role:"igoraor79@gmail.com"===a.email?"admin":a.role||"user"}),m(null);else if(t)try{const e=await Na.getUserById(t);o({id:e.id,displayName:e.displayName||"Пользователь",role:e.role||"user",email:H?e.email:null,avatar:e.avatar,perks:e.perks||["user"],activePerk:e.activePerk||"user",createdAt:e.createdAt,is_banned:e.is_banned||!1,ban_reason:e.ban_reason,ban_end_at:e.ban_end_at,ban_admin_name:e.ban_admin_name}),e.is_banned&&await G(e.id),m(null)}catch(e){o({id:t,displayName:"Пользователь",role:"user",email:H?"user@example.com":null,avatar:null,perks:["user"],activePerk:"user",createdAt:(new Date).toISOString()})}else m("Профиль не найден")}catch(e){m("Ошибка при загрузке профиля")}finally{c(!1)}})()}),[t,a,U,H,n]);const G=async e=>{try{const{data:t,error:a}=await va.from("user_bans").select("*").eq("user_id",e).eq("is_active",!0).order("created_at",{ascending:!1}).limit(1);if(a)return;t&&t.length>0&&L(t[0])}catch(t){}};if(l||!r)return q.jsx("div",{className:is.loading,children:"Загрузка профиля..."});if(d)return q.jsx("div",{className:is.error,children:d});const W=()=>{if(!r.activePerk)return"";switch(r.activePerk){case"sponsor":return Qa;case"early_user":return Ka;case"admin":return es;default:return ts}};return q.jsxs("div",{className:is.profileContainer,children:[q.jsxs("div",{className:is.profileHeader,children:[q.jsxs("div",{className:is.avatarContainer,children:[q.jsx(os,{src:r.avatar,alt:"Аватар пользователя",className:is.avatar}),(U||H)&&q.jsx("button",{className:is.changeAvatarButton,onClick:()=>{p(!0)},children:"Изменить"})]}),q.jsxs("div",{className:is.profileInfo,children:[q.jsxs("h1",{className:"".concat(is.displayName," ").concat(W()),children:[r.displayName||"Пользователь",H&&q.jsxs("span",{className:is.adminLabel,children:[" (ID: ",r.id.substring(0,8),"...)"]})]}),q.jsxs("div",{className:is.userMeta,children:[H&&q.jsxs("div",{className:is.userRole,children:[q.jsx("span",{className:is.label,children:"Роль:"}),q.jsx("span",{className:is.value,children:r.role||"user"})]}),q.jsxs("div",{className:is.userPrivileges,children:[q.jsx("span",{className:is.label,children:"Привилегия:"}),q.jsxs("div",{className:is.privilegeContainer,children:[q.jsx("span",{className:"".concat(is.value," ").concat(W()),children:(()=>{if(!r.activePerk)return"Пользователь";switch(r.activePerk){case"sponsor":return"Спонсор";case"early_user":return"Ранний пользователь";case"admin":return"Администратор";case"user":return"Пользователь";default:return r.activePerk}})()}),U&&r.perks&&q.jsx("button",{className:is.changePerkButton,onClick:()=>{h(!0)},children:"Изменить"})]})]}),q.jsxs("div",{className:is.userJoined,children:[q.jsx("span",{className:is.label,children:"Дата регистрации:"}),q.jsx("span",{className:is.value,children:(e=>{try{return new Date(e).toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric"})}catch(t){return"Неизвестно"}})(r.createdAt)})]}),(U||H)&&r.email&&q.jsxs("div",{className:is.userEmail,children:[q.jsx("span",{className:is.label,children:"Email:"}),q.jsx("span",{className:is.value,children:r.email})]})]})]})]}),H&&!U&&q.jsxs("div",{className:is.adminActions,children:[q.jsxs("h2",{children:[q.jsx(se,{})," Администрирование"]}),N.message&&q.jsxs("div",{className:"".concat(is.statusMessage," ").concat(is[N.type]),children:["error"===N.type?q.jsx(ne,{}):"success"===N.type?q.jsx(ie,{}):q.jsx(V,{}),N.message]}),r.is_banned&&q.jsxs("div",{className:is.banInfoBox,children:[q.jsx("h3",{children:"Информация о блокировке"}),q.jsxs("div",{className:is.banDetails,children:[q.jsxs("p",{children:[q.jsx("strong",{children:"Статус:"})," ",q.jsx("span",{className:is.bannedStatus,children:"Заблокирован"})]}),r.ban_reason&&q.jsxs("p",{children:[q.jsx("strong",{children:"Причина:"})," ",r.ban_reason]}),r.ban_admin_name&&q.jsxs("p",{children:[q.jsx("strong",{children:"Заблокировал:"})," ",r.ban_admin_name]}),r.ban_end_at&&q.jsxs("p",{children:[q.jsx("strong",{children:"Окончание через:"}),q.jsxs("span",{className:is.banDuration,children:[q.jsx(J,{})," ",(e=>{if(!e)return"Навсегда";const t=new Date(e),a=new Date;if(t<a)return"Истек (требуется ручная разблокировка)";const s=t-a,n=Math.floor(s/1e3),i=Math.floor(n/60),r=Math.floor(i/60),o=Math.floor(r/24);return o>0?"".concat(o," ").concat(1===o?"день":o<5?"дня":"дней"):r>0?"".concat(r," ").concat(1===r?"час":r<5?"часа":"часов"):i>0?"".concat(i," ").concat(1===i?"минута":i<5?"минуты":"минут"):"Менее минуты"})(r.ban_end_at)]})]})]}),q.jsxs("button",{className:is.unbanButton,onClick:async()=>{if(r&&r.is_banned)try{D(!0);const{error:e}=await va.from("user_bans").update({is_active:!1}).eq("user_id",r.id).eq("is_active",!0);if(e)throw new Error("Ошибка при обновлении блокировки: ".concat(e.message));const{error:t}=await va.from("profiles").update({is_banned:!1,ban_reason:null,ban_end_at:null,ban_admin_id:null,ban_admin_name:null}).eq("id",r.id);if(t)throw new Error("Ошибка при обновлении профиля: ".concat(t.message));o({...r,is_banned:!1,ban_reason:null,ban_end_at:null,ban_admin_name:null}),L(null),S({type:"success",message:"Пользователь ".concat(r.displayName," успешно разблокирован")}),setTimeout((()=>{S({type:"",message:""})}),3e3),P(!1)}catch(e){S({type:"error",message:"Ошибка при разблокировке: ".concat(e.message)}),setTimeout((()=>{S({type:"",message:""})}),5e3)}finally{D(!1)}},disabled:A,children:[A?q.jsx(re,{}):q.jsx(oe,{})," Снять блокировку"]})]}),k?q.jsx(ps,{user:r,onSave:async e=>{o(e),S({type:"success",message:"Профиль пользователя успешно обновлен"}),w(!1),setTimeout((()=>{S({type:"",message:""})}),3e3)},onCancel:()=>w(!1)}):q.jsxs("div",{className:is.actionButtons,children:[q.jsxs("button",{className:is.editButton,onClick:()=>w(!0),children:[q.jsx(le,{})," Редактировать профиль"]}),!r.is_banned&&"igoraor79@gmail.com"!==r.email&&q.jsxs("button",{className:is.banButton,onClick:()=>P(!0),disabled:A,children:[q.jsx(ce,{})," Заблокировать"]})]})]}),U&&q.jsxs("div",{className:is.personalSettings,children:[q.jsx("h2",{children:"Личные настройки"}),y&&q.jsxs("div",{className:is.successMessage,children:[q.jsx(oe,{size:16}),q.jsx("span",{children:y})]}),q.jsxs("div",{className:is.settingGroup,children:[q.jsx("label",{htmlFor:"displayName",children:"Имя пользователя:"}),q.jsxs("div",{className:is.settingControl,children:[q.jsx("input",{type:"text",id:"displayName",value:r.displayName||"Пользователь",readOnly:!0}),q.jsx("button",{className:is.editButton,onClick:()=>{v(!0)},children:"Изменить"})]})]}),q.jsxs("div",{className:is.settingGroup,children:[q.jsx("label",{htmlFor:"password",children:"Пароль:"}),q.jsxs("div",{className:is.settingControl,children:[q.jsx("input",{type:"password",id:"password",value:"••••••",readOnly:!0}),q.jsx("button",{className:is.editButton,onClick:()=>{f(!0)},children:"Изменить"})]})]})]}),q.jsx(F,{children:u&&q.jsx(us,{avatars:ls,onSelectAvatar:async e=>{try{const t=ls.find((t=>t.id===e));t&&r&&(await Na.updateAvatar(t.path),o({...r,avatar:t.path})),p(!1)}catch(t){}},onClose:()=>{p(!1)}})}),q.jsx(F,{children:_&&q.jsx(cs,{perks:r.perks||["user"],activePerk:r.activePerk||"user",onSelectPerk:async e=>{try{await Na.updateActivePerk(e,i),o({...r,activePerk:e}),h(!1)}catch(t){}},onClose:()=>{h(!1)}})}),q.jsx(F,{children:x&&q.jsx(ds,{onClose:()=>v(!1),onSubmit:async(e,t)=>{try{await Na.updateDisplayName(e,t,i),o({...r,displayName:e}),j("Имя пользователя успешно изменено"),setTimeout((()=>{j("")}),3e3)}catch(a){throw a}},initialName:null==r?void 0:r.displayName})}),q.jsx(F,{children:g&&q.jsx(ms,{onClose:()=>f(!1),onSubmit:async(e,t)=>{try{await Na.changePassword(e,t),j("Пароль успешно изменен"),setTimeout((()=>{j("")}),3e3)}catch(a){throw a}}})}),q.jsx(F,{children:C&&q.jsx(z.div,{className:is.modalOverlay,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:q.jsxs(z.div,{className:is.banDialog,initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:50,scale:.9},transition:{type:"spring",damping:20},children:[q.jsxs("div",{className:is.banDialogHeader,children:[q.jsx("h3",{children:"Блокировка пользователя"}),q.jsx("button",{className:is.closeButton,onClick:()=>P(!1),disabled:A,children:q.jsx(R,{})})]}),q.jsx("div",{className:is.banDialogContent,children:q.jsxs("form",{onSubmit:async e=>{if(e&&e.preventDefault(),r&&E.trim()&&I)try{D(!0);let e=null;if("permanent"!==I)switch(e=new Date,I){case"30m":e.setMinutes(e.getMinutes()+30);break;case"2h":e.setHours(e.getHours()+2);break;case"6h":e.setHours(e.getHours()+6);break;case"12h":e.setHours(e.getHours()+12);break;case"1d":e.setDate(e.getDate()+1);break;case"3d":e.setDate(e.getDate()+3);break;case"1w":e.setDate(e.getDate()+7);break;default:e=null}const t={user_id:r.id,admin_id:a.id,admin_name:a.displayName,reason:E.trim(),created_at:(new Date).toISOString(),end_at:e?e.toISOString():null,is_active:!0,ban_type:I},{error:s}=await va.from("user_bans").insert(t);if(s)throw new Error("Ошибка при создании блокировки: ".concat(s.message));const{error:n}=await va.from("profiles").update({is_banned:!0,ban_reason:E.trim(),ban_end_at:e?e.toISOString():null,ban_admin_id:a.id,ban_admin_name:a.displayName}).eq("id",r.id);if(n)throw new Error("Ошибка при обновлении профиля: ".concat(n.message));o({...r,is_banned:!0,ban_reason:E.trim(),ban_end_at:e?e.toISOString():null,ban_admin_name:a.displayName}),G(r.id),S({type:"success",message:"Пользователь ".concat(r.displayName," успешно заблокирован")}),setTimeout((()=>{S({type:"",message:""})}),3e3),P(!1),B(""),O("")}catch(t){S({type:"error",message:"Ошибка при блокировке: ".concat(t.message)}),setTimeout((()=>{S({type:"",message:""})}),5e3)}finally{D(!1)}},children:[q.jsxs("div",{className:is.formGroup,children:[q.jsx("label",{htmlFor:"banReason",children:"Причина блокировки:"}),q.jsx("textarea",{id:"banReason",value:E,onChange:e=>B(e.target.value),placeholder:"Укажите причину блокировки пользователя",rows:4,required:!0})]}),q.jsxs("div",{className:is.formGroup,children:[q.jsx("label",{htmlFor:"banDuration",children:"Длительность блокировки:"}),q.jsxs("select",{id:"banDuration",value:I,onChange:e=>O(e.target.value),required:!0,children:[q.jsx("option",{value:"",children:"Выберите длительность"}),q.jsx("option",{value:"30m",children:"30 минут"}),q.jsx("option",{value:"2h",children:"2 часа"}),q.jsx("option",{value:"6h",children:"6 часов"}),q.jsx("option",{value:"12h",children:"12 часов"}),q.jsx("option",{value:"1d",children:"1 день"}),q.jsx("option",{value:"3d",children:"3 дня"}),q.jsx("option",{value:"1w",children:"1 неделя"}),q.jsx("option",{value:"permanent",children:"Навсегда"})]})]}),q.jsxs("div",{className:is.banDialogActions,children:[q.jsxs("button",{type:"button",className:is.cancelButton,onClick:()=>P(!1),disabled:A,children:[q.jsx(R,{})," Отмена"]}),q.jsxs("button",{type:"submit",className:is.banButton,disabled:!E.trim()||!I||A,children:[A?q.jsx(re,{}):q.jsx(ce,{})," Заблокировать"]})]})]})})]})})})]})},hs={async getPosts(){try{let a=!1;try{const{data:e,error:t}=await va.from("posts").select("styling").limit(1);a=!t}catch(e){}const{data:s,error:n}=await va.from("posts").select("*").order("is_pinned",{ascending:!1}).order("created_at",{ascending:!1});if(n)throw n;const i=[];for(const e of s)try{const t=await ba.getUserProfile(e.user_id),{data:s,error:n}=await va.from("profiles").select("perks, active_perk").eq("id",e.user_id).single(),r=(null==s?void 0:s.perks)||[],o=(null==s?void 0:s.active_perk)||r[0]||"user",{count:l}=await va.from("post_likes").select("*",{count:"exact",head:!0}).eq("post_id",e.id),{count:c}=await va.from("post_comments").select("*",{count:"exact",head:!0}).eq("post_id",e.id);let d=null;e.poll_data&&(d=e.poll_data),i.push({id:e.id,title:e.title||null,content:e.content,image_url:e.image_url,created_at:e.created_at,user_id:e.user_id,author:{displayName:t.displayName,avatar:t.avatar,perks:r,activePerk:o},styling:a&&e.styling||null,likes_count:l||0,comments_count:c||0,poll_data:d,is_pinned:e.is_pinned||!1})}catch(t){i.push({id:e.id,title:e.title||null,content:e.content,image_url:e.image_url,created_at:e.created_at,user_id:e.user_id,author:{displayName:"Пользователь",avatar:null,perks:[],activePerk:"user"},styling:null,likes_count:0,comments_count:0,poll_data:null,is_pinned:e.is_pinned||!1})}return i}catch(t){throw t}},async createPost(e){try{const{title:t,content:a,imageUrl:s,userId:n,poll:i,styling:r,isPinned:o}=e,{data:l,error:c}=await va.from("profiles").select("perks, active_perk, email").eq("id",n).single();if(c)throw new Error("Не удалось проверить права пользователя");const d=(null==l?void 0:l.perks)||[],m=(null==l?void 0:l.active_perk)||"",u=(null==l?void 0:l.email)||"";if(!("igoraor79@gmail.com"===u||d.includes("admin")||"admin"===m))throw new Error("У вас недостаточно прав для создания постов");const p={title:t||null,content:a,image_url:s||null,user_id:n,created_at:(new Date).toISOString(),poll_data:i||null,styling:r||null,is_pinned:o||!1},{data:_,error:h}=await va.from("posts").insert([p]).select();if(h)throw new Error(h.message);if(!_||0===_.length)throw new Error("Не удалось создать пост");const x=await ba.getUserProfile(n);return{..._[0],title:_[0].title||null,author:{id:n,displayName:x.displayName,avatar:x.avatar,activePerk:x.activePerk||"user"},likes_count:0,comments_count:0,poll_data:_[0].poll_data,is_pinned:_[0].is_pinned||!1}}catch(t){throw t}},async getPostById(e){try{let s=!1;try{const{data:e,error:t}=await va.from("posts").select("styling").limit(1);s=!t}catch(t){}const{data:n,error:i}=await va.from("posts").select("*").eq("id",e).single();if(i)throw i;const r=await ba.getUserProfile(n.user_id),{data:o,error:l}=await va.from("profiles").select("perks, active_perk").eq("id",n.user_id).single(),c=(null==o?void 0:o.perks)||[],d=(null==o?void 0:o.active_perk)||c[0]||"user",{count:m}=await va.from("post_likes").select("*",{count:"exact",head:!0}).eq("post_id",n.id),{data:u}=await va.from("post_comments").select("*").eq("post_id",n.id).is("parent_id",null).order("created_at",{ascending:!0}),p=[];for(const e of u)try{const t=await ba.getUserProfile(e.user_id),{data:s}=await va.from("profiles").select("perks, active_perk").eq("id",e.user_id).single(),i=(null==s?void 0:s.perks)||[],r=(null==s?void 0:s.active_perk)||i[0]||"user",{data:o}=await va.from("post_comments").select("*").eq("post_id",n.id).eq("parent_id",e.id).order("created_at",{ascending:!0}),l=[];for(const e of o)try{const t=await ba.getUserProfile(e.user_id),{data:a}=await va.from("profiles").select("perks, active_perk").eq("id",e.user_id).single(),s=(null==a?void 0:a.perks)||[],n=(null==a?void 0:a.active_perk)||s[0]||"user";l.push({...e,author:{displayName:t.displayName,avatar:t.avatar,perks:s,activePerk:n}})}catch(a){l.push({...e,author:{displayName:"Пользователь",avatar:null,perks:[],activePerk:"user"}})}p.push({...e,author:{displayName:t.displayName,avatar:t.avatar,perks:i,activePerk:r},replies:l})}catch(a){p.push({...e,author:{displayName:"Пользователь",avatar:null,perks:[],activePerk:"user"},replies:[]})}return{id:n.id,content:n.content,image_url:n.image_url,created_at:n.created_at,user_id:n.user_id,author:{displayName:r.displayName,avatar:r.avatar,perks:c,activePerk:d},styling:s&&n.styling||null,likes_count:m||0,comments:p,poll:n.poll_data}}catch(s){throw s}},async toggleLike(e,t){try{const{data:a,error:s}=await va.from("post_likes").select("*").eq("post_id",e).eq("user_id",t);if(s)throw s;if(a&&a.length>0){const{error:a}=await va.from("post_likes").delete().eq("post_id",e).eq("user_id",t);if(a)throw a;const{count:s}=await va.from("post_likes").select("*",{count:"exact",head:!0}).eq("post_id",e);return{liked:!1,likesCount:s||0}}{const{error:a}=await va.from("post_likes").insert({post_id:e,user_id:t});if(a)throw a;const{count:s}=await va.from("post_likes").select("*",{count:"exact",head:!0}).eq("post_id",e);return{liked:!0,likesCount:s||0}}}catch(a){throw a}},async isLikedByUser(e,t){try{const{data:a,error:s}=await va.from("post_likes").select("*").eq("post_id",e).eq("user_id",t);if(s)throw s;return{liked:a&&a.length>0}}catch(a){throw a}},async getLikesCount(e){try{const{count:t,error:a}=await va.from("post_likes").select("*",{count:"exact",head:!0}).eq("post_id",e);if(a)throw a;return t||0}catch(t){throw t}},async deletePost(e){var t;try{const{data:a}=await va.auth.getSession(),s=null==(t=null==a?void 0:a.session)?void 0:t.user;if(!s)throw new Error("Пользователь не авторизован");const{data:n,error:i}=await va.from("profiles").select("perks, active_perk, email").eq("id",s.id).single();if(i)throw new Error("Не удалось проверить права пользователя");const r=(null==n?void 0:n.perks)||[],o=(null==n?void 0:n.active_perk)||"",l=(null==n?void 0:n.email)||"";if(!("igoraor79@gmail.com"===l||r.includes("admin")||"admin"===o))throw new Error("Только администраторы могут удалять посты");const{error:c}=await va.from("post_comments").delete().eq("post_id",e),{error:d}=await va.from("post_likes").delete().eq("post_id",e),{error:m}=await va.from("poll_votes").delete().eq("post_id",e),{error:u}=await va.from("posts").delete().eq("id",e);if(u)throw u;return{success:!0}}catch(a){throw a}},async getPollVoteStatus(e,t){try{const{data:s,error:n}=await va.from("posts").select("poll_data").eq("id",e).single();if(n)throw n;if(!s.poll_data)throw new Error("У этого поста нет опроса");try{const{data:a,error:s}=await va.from("poll_votes").select("option_index").eq("post_id",e).eq("user_id",t).throwOnError().maybeSingle(),n=await this.getPollResults(e);return{hasVoted:!!a,option:a?a.option_index:null,results:n.results}}catch(a){return{hasVoted:!1,option:null,results:(await this.getPollResults(e)).results}}}catch(s){throw s}},async voteInPoll(e,t,a){try{const{data:n,error:i}=await va.from("posts").select("poll_data").eq("id",e).single();if(i)throw i;if(!n.poll_data)throw new Error("У этого поста нет опроса");if(a<0||a>=n.poll_data.options.length)throw new Error("Неверный индекс опции");try{const{data:s,error:n}=await va.from("poll_votes").select("id, option_index").eq("post_id",e).eq("user_id",t);if(n)throw n;if(s&&s.length>0){const{error:e}=await va.from("poll_votes").update({option_index:a}).eq("id",s[0].id);if(e)throw e}else{const{error:s}=await va.from("poll_votes").insert({post_id:e,user_id:t,option_index:a});if(s)throw s}return await this.getPollResults(e)}catch(s){return{question:n.poll_data.question,results:n.poll_data.options.map(((e,t)=>({option:e,votes:t===a?1:0})))}}}catch(n){throw n}},async getPollResults(e){try{const{data:a,error:s}=await va.from("posts").select("poll_data").eq("id",e).single();if(s)throw s;if(!a.poll_data)throw new Error("У этого поста нет опроса");try{const{data:t,error:s}=await va.from("poll_votes").select("option_index").eq("post_id",e);if(s)throw s;const n=a.poll_data.options.map(((e,a)=>({option:e,votes:t?t.filter((e=>e.option_index===a)).length:0})));return{question:a.poll_data.question,results:n}}catch(t){const e=a.poll_data.options.map((e=>({option:e,votes:0})));return{question:a.poll_data.question,results:e}}}catch(a){throw a}},async pinPost(e){var t;try{const{data:a}=await va.auth.getSession(),s=null==(t=null==a?void 0:a.session)?void 0:t.user;if(!s)throw new Error("Пользователь не авторизован");const{data:n,error:i}=await va.from("profiles").select("perks, active_perk, email").eq("id",s.id).single();if(i)throw new Error("Не удалось проверить права пользователя");const r=(null==n?void 0:n.perks)||[],o=(null==n?void 0:n.active_perk)||"",l=(null==n?void 0:n.email)||"";if(!("igoraor79@gmail.com"===l||r.includes("admin")||"admin"===o))throw new Error("Только администраторы могут закреплять посты");const{data:c,error:d}=await va.from("posts").update({is_pinned:!0}).eq("id",e).select();if(d)throw d;return{success:!0,post:null==c?void 0:c[0]}}catch(a){throw a}},async unpinPost(e){var t;try{const{data:a}=await va.auth.getSession(),s=null==(t=null==a?void 0:a.session)?void 0:t.user;if(!s)throw new Error("Пользователь не авторизован");const{data:n,error:i}=await va.from("profiles").select("perks, active_perk, email").eq("id",s.id).single();if(i)throw new Error("Не удалось проверить права пользователя");const r=(null==n?void 0:n.perks)||[],o=(null==n?void 0:n.active_perk)||"",l=(null==n?void 0:n.email)||"";if(!("igoraor79@gmail.com"===l||r.includes("admin")||"admin"===o))throw new Error("Только администраторы могут открепить посты");const{data:c,error:d}=await va.from("posts").update({is_pinned:!1}).eq("id",e).select();if(d)throw d;return{success:!0,post:null==c?void 0:c[0]}}catch(a){throw a}}},xs={async getCommentsByPostId(e){try{const{data:a,error:s}=await va.from("post_comments").select("*").eq("post_id",e).is("parent_id",null).order("created_at",{ascending:!1});if(s)throw s;if(!a||0===a.length)return[];const n=[];for(const e of a)try{const a=await ba.getUserProfile(e.user_id),{data:s}=await va.from("profiles").select("perks, active_perk").eq("id",e.user_id).single(),i=(null==s?void 0:s.perks)||[],r=(null==s?void 0:s.active_perk)||i[0]||"user",{data:o,error:l}=await va.from("post_comments").select("*").eq("parent_id",e.id).order("created_at",{ascending:!0});if(l)throw l;const c=[];for(const e of o||[])try{const t=await ba.getUserProfile(e.user_id),{data:a}=await va.from("profiles").select("perks, active_perk").eq("id",e.user_id).single(),s=(null==a?void 0:a.perks)||[],n=(null==a?void 0:a.active_perk)||s[0]||"user";c.push({...e,author:{displayName:t.displayName,avatar:t.avatar,perks:s,activePerk:n}})}catch(t){c.push({...e,author:{displayName:"Пользователь",avatar:null,perks:[],activePerk:"user"}})}n.push({...e,author:{displayName:a.displayName,avatar:a.avatar,perks:i,activePerk:r},replies:c})}catch(t){n.push({...e,author:{displayName:"Пользователь",avatar:null,perks:[],activePerk:"user"},replies:[]})}return n}catch(a){return[]}},async createComment(e){try{const t=await ba.getUserProfile(e.userId),{data:a,error:s}=await va.from("post_comments").insert({content:e.content,post_id:e.postId,user_id:e.userId,parent_id:null}).select();if(s)throw s;const{data:n}=await va.from("profiles").select("perks, active_perk").eq("id",e.userId).single(),i=(null==n?void 0:n.perks)||[],r=(null==n?void 0:n.active_perk)||i[0]||"user";return{...a[0],author:{displayName:t.displayName,avatar:t.avatar,perks:i,activePerk:r},replies:[]}}catch(t){throw t}},async replyToComment(e){try{const t=await ba.getUserProfile(e.userId),{data:a,error:s}=await va.from("post_comments").insert({content:e.content,post_id:e.postId,user_id:e.userId,parent_id:e.commentId}).select();if(s)throw s;const{data:n}=await va.from("profiles").select("perks, active_perk").eq("id",e.userId).single(),i=(null==n?void 0:n.perks)||[],r=(null==n?void 0:n.active_perk)||i[0]||"user";return{...a[0],author:{displayName:t.displayName,avatar:t.avatar,perks:i,activePerk:r}}}catch(t){throw t}},async getCommentsCount(e){try{const{count:t,error:a}=await va.from("post_comments").select("*",{count:"exact",head:!0}).eq("post_id",e);if(a)throw a;return t||0}catch(t){throw t}},async deleteComment(e,t){try{if(t)try{const{data:a,error:s}=await va.from("post_comments").select("user_id").eq("id",e).maybeSingle();if(s);else if(a){const e=a.user_id===t,{data:s,error:n}=await va.from("profiles").select("perks, active_perk, email").eq("id",t).maybeSingle(),i=!n&&s&&("igoraor79@gmail.com"===s.email||s.perks&&s.perks.includes("admin")||"admin"===s.active_perk);if(!e&&!i)throw new Error("У вас нет прав для удаления этого комментария")}}catch(a){if("У вас нет прав для удаления этого комментария"===a.message)throw a}try{await va.from("post_comments").delete().eq("parent_id",e)}catch(s){}try{return await va.from("post_comments").delete().eq("id",e),!0}catch(a){throw a}}catch(a){throw a}}},vs={postsContainer:"_postsContainer_t3mo6_2",postsHeader:"_postsHeader_t3mo6_9",refreshButton:"_refreshButton_t3mo6_28",postsList:"_postsList_t3mo6_54",loading:"_loading_t3mo6_61",spin:"_spin_t3mo6_1",errorMessage:"_errorMessage_t3mo6_83",noPosts:"_noPosts_t3mo6_99",notAuthenticatedMessage:"_notAuthenticatedMessage_t3mo6_114",createPostContainer:"_createPostContainer_t3mo6_131",createPostTitle:"_createPostTitle_t3mo6_140",createPostForm:"_createPostForm_t3mo6_153",contentInput:"_contentInput_t3mo6_159",imageUrlInput:"_imageUrlInput_t3mo6_179",pollContainer:"_pollContainer_t3mo6_196",pollQuestionInput:"_pollQuestionInput_t3mo6_227",pollOptions:"_pollOptions_t3mo6_253",pollOptionInputWrapper:"_pollOptionInputWrapper_t3mo6_259",pollOptionInput:"_pollOptionInput_t3mo6_259",removeOptionButton:"_removeOptionButton_t3mo6_291",addOptionButton:"_addOptionButton_t3mo6_319",formOptions:"_formOptions_t3mo6_347",formToggles:"_formToggles_t3mo6_354",optionToggle:"_optionToggle_t3mo6_360",submitButton:"_submitButton_t3mo6_388",postItem:"_postItem_t3mo6_413",pinnedPost:"_pinnedPost_t3mo6_434",postHeader:"_postHeader_t3mo6_465",authorInfo:"_authorInfo_t3mo6_472",authorName:"_authorName_t3mo6_481",avatar:"_avatar_t3mo6_485",postDate:"_postDate_t3mo6_496",postContent:"_postContent_t3mo6_507",darkTextConversion:"_darkTextConversion_t3mo6_515",postImage:"_postImage_t3mo6_534",postPoll:"_postPoll_t3mo6_547",pollTitle:"_pollTitle_t3mo6_558",pollOption:"_pollOption_t3mo6_253",pollResults:"_pollResults_t3mo6_605",pollResultOption:"_pollResultOption_t3mo6_608",pollOptionText:"_pollOptionText_t3mo6_611",pollOptionVotes:"_pollOptionVotes_t3mo6_617",pollProgressBar:"_pollProgressBar_t3mo6_620",pollProgress:"_pollProgress_t3mo6_620",pollVotersCount:"_pollVotersCount_t3mo6_633",postActions:"_postActions_t3mo6_640",actionButtons:"_actionButtons_t3mo6_649",likeButton:"_likeButton_t3mo6_675",liked:"_liked_t3mo6_681",likeCount:"_likeCount_t3mo6_692",commentButton:"_commentButton_t3mo6_696",deleteButton:"_deleteButton_t3mo6_715",commentsSection:"_commentsSection_t3mo6_737",commentsHeading:"_commentsHeading_t3mo6_743",loadingComments:"_loadingComments_t3mo6_753",noComments:"_noComments_t3mo6_765",commentForm:"_commentForm_t3mo6_774",commentItem:"_commentItem_t3mo6_853",commentReply:"_commentReply_t3mo6_861",commentHeader:"_commentHeader_t3mo6_872",commentAuthorAvatar:"_commentAuthorAvatar_t3mo6_878",commentAuthorInfo:"_commentAuthorInfo_t3mo6_891",commentAuthor:"_commentAuthor_t3mo6_878",commentContent:"_commentContent_t3mo6_905",commentDate:"_commentDate_t3mo6_914",commentActions:"_commentActions_t3mo6_926",replyButton:"_replyButton_t3mo6_933",deleteCommentButton:"_deleteCommentButton_t3mo6_934",repliesContainer:"_repliesContainer_t3mo6_963",replyForm:"_replyForm_t3mo6_967",replyFormActions:"_replyFormActions_t3mo6_997",cancelReplyButton:"_cancelReplyButton_t3mo6_1003",submitReplyButton:"_submitReplyButton_t3mo6_1003",postTitle:"_postTitle_t3mo6_1088",stylingOptions:"_stylingOptions_t3mo6_1108",stylingTitle:"_stylingTitle_t3mo6_1134",stylingGroup:"_stylingGroup_t3mo6_1147",colorSelector:"_colorSelector_t3mo6_1158",colorOption:"_colorOption_t3mo6_1165",active:"_active_t3mo6_1176",fontSelector:"_fontSelector_t3mo6_1181",colorPickerContainer:"_colorPickerContainer_t3mo6_1237",colorPreview:"_colorPreview_t3mo6_1242",dropletIcon:"_dropletIcon_t3mo6_1264",colorPickerPopup:"_colorPickerPopup_t3mo6_1270","react-colorful":"_react-colorful_t3mo6_1276",colorPickerCover:"_colorPickerCover_t3mo6_1284",colorNote:"_colorNote_t3mo6_1293",likeAnimation:"_likeAnimation_t3mo6_1307",likePulse:"_likePulse_t3mo6_1",authPrompt:"_authPrompt_t3mo6_1322",loginButton:"_loginButton_t3mo6_1334",titleInput:"_titleInput_t3mo6_1348"},gs=["бля","хуй","хуе","хуё","пизд","еба","ебл","пидор","пидар","муда","залуп","еби","ебы","ебу","ебё","еба","дроч","хер","жоп","уеб","ебан","хуя","пизж","бляд","сук","чмо","говн","мраз","долбо","дерьм","высер","гонд","дебил","гандон","манд","шлюх"],fs=["блядь","бля","ебать","ебанутый","хуй","хуйня","пизда","пиздец","пидор","пидорас","сука","мудак","мудила","залупа","хер","херня","говно","говнюк","хуесос","долбоеб","дебил","гандон","шлюха","проститутка","жопа","манда","мразь","высер","дрочить","ебал","ебло","ебун","заебись","заебал","похуй","нахуй","чмо","дерьмо","уебок","уебище","хуила","хуево","пиздато","пиздатый","ебаный","ебанько","пиздабол"],ys=[{pattern:/\./,replaceWith:""},{pattern:/\*/,replaceWith:""},{pattern:/_/,replaceWith:""},{pattern:/-/,replaceWith:""},{pattern:/\s+(?=[а-яёa-z])/,replaceWith:""},{pattern:/(\w)\1+/,replaceWith:"$1"}],js={a:"а",b:"б",c:"с",d:"д",e:"е",h:"н",k:"к",m:"м",n:"н",o:"о",p:"р",r:"р",s:"с",t:"т",u:"у",v:"в",w:"ш",x:"х",y:"у",z:"з","а":"a","б":"b","в":"v","г":"g","д":"d","е":"e","ё":"yo","ж":"zh","з":"z","и":"i","й":"y","к":"k","л":"l","м":"m","н":"n","о":"o","п":"p","р":"r","с":"s","т":"t","у":"u","ф":"f","х":"h","ц":"ts","ч":"ch","ш":"sh","щ":"sch","ы":"i","э":"e","ю":"yu","я":"ya"};function bs(e){let t=e.toLowerCase();return ys.forEach((({pattern:e,replaceWith:a})=>{t=t.replace(e,a)})),t}function ks(e){const t=[e];let a=!1,s="";for(let i=0;i<e.length;i++){const t=e[i];js[t]?(s+=js[t],a=!0):s+=t}let n="";for(let i=0;i<e.length;i++){const t=e[i];js[t]?(n+=js[t],a=!0):n+=t}return a&&(t.push(s),t.push(n)),t}function ws(e,t){if(!e)return"";if("string"!=typeof e)return"";if(function(e){return!(!e||"igoraor79@gmail.com"!==e.email&&"admin"!==e.role&&"admin"!==e.activePerk&&(!Array.isArray(e.perks)||!e.perks.includes("admin")))}(t))return e;try{return function(e){const t=ks(bs(e));for(const a of t){for(const e of fs)if(new RegExp("\\b".concat(e,"\\b"),"i").test(a))return!0;for(const e of gs){const t=new RegExp("\\b\\w*".concat(e,"\\w*\\b"),"i");if(t.test(a)){const e=a.match(t);if(e){const t=e[0];if(!["употребляя","употребление","заблуждение","хлебушек","херсон","схерсонес","херес","схер","хердер","гексахлороциклогексан","схерстить","скипидар","хлеб"].some((e=>t.includes(e))))return!0}}}}return!1}(e)?function(e){return e.split(/\s+/).map((e=>{const t=ks(bs(e));let a=!1;for(const s of t){for(const e of fs)if(new RegExp("\\b".concat(e,"\\b"),"i").test(s)){a=!0;break}if(a)break;for(const e of gs)if(new RegExp("\\b\\w*".concat(e,"\\w*\\b"),"i").test(s)&&!["употребляя","употребление","заблуждение","хлебушек","херсон","схерсонес","херес","схер","хердер","гексахлороциклогексан","схерстить","скипидар","хлеб"].some((e=>s.includes(e)))){a=!0;break}if(a)break}return a?"*".repeat(e.length):e})).join(" ")}(e):e}catch(a){return e}}const Ns=me(z.div)(e||(e=D(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(135deg, rgba(33, 33, 38, 0.85) 0%, rgba(68, 68, 77, 0.85) 100%);\n  backdrop-filter: blur(8px);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 10000;\n  padding: 20px;\n  box-sizing: border-box;\n  overflow: hidden;\n  will-change: transform;\n"]))),Ss=me(z.div)(t||(t=D(["\n  background: var(--bg-secondary);\n  border-radius: 12px;\n  padding: 24px;\n  width: 100%;\n  max-width: 380px;\n  box-shadow: 0 8px 30px rgba(0, 0, 0, 0.2);\n  position: relative;\n  border: 1px solid var(--border);\n  will-change: transform;\n"]))),Cs=me.div(a||(a=D(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 16px;\n"]))),Ps=me.h3(s||(s=D(["\n  color: var(--text-primary);\n  font-size: 18px;\n  margin: 0;\n  padding: 0;\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  \n  svg {\n    color: var(--error);\n  }\n"]))),Es=me.button(n||(n=D(["\n  position: absolute;\n  top: 16px;\n  right: 16px;\n  background: none;\n  border: none;\n  color: var(--text-secondary);\n  cursor: pointer;\n  padding: 4px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  \n  &:hover {\n    background: var(--bg-highlight);\n  }\n"]))),Bs=me.div(i||(i=D(["\n  color: var(--text-secondary);\n  margin-bottom: 24px;\n"]))),Is=me.div(r||(r=D(["\n  display: flex;\n  justify-content: flex-end;\n  gap: 12px;\n"]))),Os=me.button(o||(o=D(["\n  background: var(--bg-highlight);\n  color: var(--text-primary);\n  border: 1px solid var(--border);\n  padding: 10px 16px;\n  border-radius: 8px;\n  cursor: pointer;\n  font-weight: 500;\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  \n  &:hover {\n    background: var(--background-color);\n  }\n"]))),As=me.button(l||(l=D(["\n  background: var(--error);\n  color: white;\n  border: none;\n  padding: 10px 16px;\n  border-radius: 8px;\n  cursor: pointer;\n  font-weight: 500;\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  \n  &:hover {\n    opacity: 0.9;\n  }\n"]))),Ds=({isOpen:e,onClose:t,onConfirm:a,title:s="Подтверждение",message:n="Вы уверены?",confirmText:i="Подтвердить",cancelText:r="Отмена",isDanger:o=!0})=>(L.useEffect((()=>{if(e){const e=window.scrollY;return document.body.style.position="fixed",document.body.style.width="100%",document.body.style.top="-".concat(e,"px"),document.body.style.overflow="hidden",()=>{document.body.style.position="",document.body.style.width="",document.body.style.top="",document.body.style.overflow="auto",window.scrollTo(0,e)}}}),[e]),q.jsx(F,{children:e&&q.jsx(Ns,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e=>{e.target===e.currentTarget&&t()},children:q.jsxs(Ss,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{type:"spring",stiffness:300,damping:25},children:[q.jsxs(Cs,{children:[q.jsxs(Ps,{children:[o&&q.jsx(G,{size:20}),s]}),q.jsx(Es,{onClick:t,children:q.jsx(R,{size:18})})]}),q.jsx(Bs,{children:n}),q.jsxs(Is,{children:[q.jsxs(Os,{onClick:t,children:[q.jsx(R,{size:16}),r]}),q.jsxs(As,{onClick:a,style:{background:o?"var(--error)":"var(--accent)"},children:[q.jsx(oe,{size:16}),i]})]})]})})})),Ts=(e,t=!1)=>{const a=new Date(e),s=new Date,n=Math.floor((s-a)/1e3),i=Math.floor(n/60),r=Math.floor(i/60),o=Math.floor(r/24),l=Math.floor(o/7),c=Math.floor(o/30),d=Math.floor(o/365);return n<60?"только что":i<60?t?"".concat(i,"м"):"".concat(i," ").concat(qs(i,["минуту","минуты","минут"])," назад"):r<24?t?"".concat(r,"ч"):"".concat(r," ").concat(qs(r,["час","часа","часов"])," назад"):o<7?t?"".concat(o,"д"):"".concat(o," ").concat(qs(o,["день","дня","дней"])," назад"):l<4?t?"".concat(l,"нед"):"".concat(l," ").concat(qs(l,["неделю","недели","недель"])," назад"):c<12?t?"".concat(c,"мес"):"".concat(c," ").concat(qs(c,["месяц","месяца","месяцев"])," назад"):t?"".concat(d,"г"):"".concat(d," ").concat(qs(d,["год","года","лет"])," назад")},qs=(e,t)=>t[e%100>4&&e%100<20?2:[2,0,1,1,1,2][e%10<5?e%10:5]],Fs=ue(c||(c=D(["\n  from {\n    opacity: 0;\n    transform: translateY(10px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n"]))),zs=me.div(d||(d=D(["\n  background: var(--bg-highlight, #f5f8fa);\n  border-radius: 12px;\n  padding: 20px;\n  margin: 15px 0;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\n  animation: ",' 0.3s ease-out;\n  border: 1px solid var(--border, #e1e8ed);\n  \n  [data-theme="dark"] & {\n    background: rgba(255, 255, 255, 0.05);\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n    border-color: rgba(255, 255, 255, 0.1);\n  }\n  \n  &::before {\n    display: none;\n  }\n'])),Fs),Ms=me.h4(m||(m=D(["\n  color: var(--text-primary);\n  font-size: 18px;\n  font-weight: 600;\n  margin-bottom: 20px;\n  display: flex;\n  align-items: center;\n  \n  &:before {\n    content: '';\n    display: inline-block;\n    width: 16px;\n    height: 16px;\n    background-color: var(--accent, #1da1f2);\n    margin-right: 10px;\n    border-radius: 4px;\n  }\n"]))),Ls=me.div(u||(u=D(["\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n  margin-bottom: 20px;\n"]))),Us=me.div(p||(p=D(["\n  position: relative;\n  cursor: ",";\n  opacity: ",";\n"])),(e=>e.$disabled?"default":"pointer"),(e=>e.$disabled?"0.8":"1")),Hs=me.div(_||(_=D(["\n  padding: 12px 16px;\n  border-radius: 8px;\n  border: 1px solid var(--border, #e1e8ed);\n  background: ",";\n  display: flex;\n  align-items: center;\n  transition: all 0.2s ease;\n  color: var(--text-primary);\n  \n  &:hover {\n    background: ",';\n  }\n  \n  [data-theme="dark"] & {\n    border-color: rgba(255, 255, 255, 0.1);\n    background: ',";\n    color: var(--text-primary);\n    \n    &:hover {\n      background: ",";\n    }\n  }\n"])),(e=>e.$isSelected?"rgba(29, 161, 242, 0.1)":"transparent"),(e=>e.$disabled?"transparent":"rgba(29, 161, 242, 0.05)"),(e=>e.$isSelected?"rgba(29, 161, 242, 0.2)":"transparent"),(e=>e.$disabled?"transparent":"rgba(29, 161, 242, 0.1)")),Gs=me.span(h||(h=D(["\n  color: var(--text-primary) !important;\n  font-weight: ",";\n  font-size: 15px;\n  margin-left: ",';\n  flex-grow: 1;\n  \n  // Force color to adapt to theme\n  [data-theme="dark"] & {\n    color: var(--text-primary) !important;\n  }\n'])),(e=>e.$isSelected?"600":"400"),(e=>e.$isVoted?"8px":"0")),Rs=me(oe)(x||(x=D(["\n  color: var(--accent, #1da1f2);\n  margin-right: 10px;\n"]))),Vs=me.span(v||(v=D(["\n  color: var(--accent, #1da1f2);\n  font-weight: 600;\n  font-size: 14px;\n  margin-left: auto;\n"]))),Ws=me.div(g||(g=D(['\n  width: 100%;\n  height: 6px;\n  background-color: rgba(0, 0, 0, 0.05);\n  border-radius: 3px;\n  margin-top: 8px;\n  overflow: hidden;\n  \n  [data-theme="dark"] & {\n    background-color: rgba(255, 255, 255, 0.05);\n  }\n']))),Js=me.div(f||(f=D(["\n  height: 100%;\n  background: linear-gradient(90deg, var(--accent, #1da1f2) 0%, rgba(29, 161, 242, 0.6) 100%);\n  width: ","%;\n  border-radius: 3px;\n  transition: width 0.5s ease-out;\n"])),(e=>e.$width)),$s=me.div(y||(y=D(['\n  text-align: right;\n  color: var(--text-secondary);\n  font-size: 14px;\n  margin-top: 10px;\n  font-style: italic;\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  gap: 5px;\n  \n  [data-theme="dark"] & {\n    color: rgba(255, 255, 255, 0.6);\n  }\n']))),Ys=me.span(j||(j=D(['\n  font-size: 12px;\n  background-color: #5c6bc0;\n  color: white;\n  padding: 2px 8px;\n  border-radius: 12px;\n  margin-right: 8px;\n  font-weight: 500;\n\n  [data-theme="dark"] & {\n    background-color: #3949ab;\n  }\n']))),Xs=me(z.div)(b||(b=D(["\n  background-color: rgba(255, 152, 0, 0.1);\n  border-left: 4px solid var(--accent, #1da1f2);\n  padding: 12px 16px;\n  margin: 12px 0;\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  overflow: hidden;\n  \n  svg {\n    color: var(--accent, #1da1f2);\n    font-size: 20px;\n    flex-shrink: 0;\n  }\n  \n  span {\n    font-size: 14px;\n    color: var(--text-primary);\n  }\n  \n  button {\n    background-color: var(--accent, #1da1f2);\n    color: white;\n    border: none;\n    border-radius: 4px;\n    padding: 6px 12px;\n    font-size: 13px;\n    cursor: pointer;\n    margin-left: auto;\n    transition: all 0.2s;\n    \n    &:hover {\n      background-color: rgba(29, 161, 242, 0.8);\n    }\n  }\n"]))),Zs={initial:{opacity:0,height:0,marginTop:0,marginBottom:0,paddingTop:0,paddingBottom:0},animate:{opacity:1,height:"auto",marginTop:"12px",marginBottom:"12px",paddingTop:"12px",paddingBottom:"12px",transition:{opacity:{duration:.3,ease:"easeInOut"},height:{duration:.4,ease:[.04,.62,.23,.98]},marginTop:{duration:.3,ease:"easeOut"},marginBottom:{duration:.3,ease:"easeOut"},paddingTop:{duration:.3,ease:"easeOut"},paddingBottom:{duration:.3,ease:"easeOut"}}},exit:{opacity:0,height:0,marginTop:0,marginBottom:0,paddingTop:0,paddingBottom:0,transition:{opacity:{duration:.2,ease:"easeInOut"},height:{duration:.3,delay:.1,ease:[.04,.62,.23,.98]},marginTop:{duration:.2,ease:"easeIn"},marginBottom:{duration:.2,ease:"easeIn"},paddingTop:{duration:.2,ease:"easeIn"},paddingBottom:{duration:.2,ease:"easeIn"}}}},Qs={initial:{opacity:0,height:0,overflow:"hidden"},animate:{opacity:1,height:"auto",transition:{height:{duration:.4,ease:[.04,.62,.23,.98]},opacity:{duration:.3,ease:"easeInOut"}}},exit:{opacity:0,height:0,transition:{height:{duration:.3,ease:[.04,.62,.23,.98]},opacity:{duration:.2,ease:"easeInOut"}}}},Ks={initial:{opacity:0,y:-5,scale:.95,transformOrigin:"top right"},animate:{opacity:1,y:0,scale:1,transition:{duration:.25,ease:[.04,.62,.23,.98]}},exit:{opacity:0,y:-5,scale:.95,transition:{duration:.2,ease:[.04,.62,.23,.98]}}},en=({poll:e,postId:t,onVote:a,hasVoted:s,votedOption:n,results:i,isAdmin:r})=>{const{isAuthenticated:o}=Ia(),[l,c]=M.useState(0),[d,m]=M.useState(!1),u=e.optionsColor||e.styling&&e.styling.optionsColor||null,p=e.styling&&e.styling.fontFamily||"inherit";M.useEffect((()=>{if(i){const e=i.reduce(((e,t)=>e+t.votes),0);c(e)}}),[i]);const _=s||r;return q.jsxs(zs,{children:[!e.hideQuestion&&q.jsx(Ms,{children:e.question}),q.jsx(Ls,{children:e.options.map(((e,t)=>{const r=(null==i?void 0:i.find((t=>t.option===e)))||{votes:0},c=l>0?Math.round(r.votes/l*100):0,d=n===t;return q.jsxs(Us,{onClick:()=>s?null:(async e=>{if(o){if(!s)try{await a(e)}catch(t){}}else m(!0)})(t),$disabled:s,children:[q.jsxs(Hs,{$isSelected:d,$disabled:s,children:[d&&q.jsx(Rs,{}),q.jsx(Gs,{$isSelected:d,$isVoted:s,style:{color:u||"inherit",fontFamily:p},children:e}),_&&q.jsxs(Vs,{children:[c,"%"]})]}),_&&q.jsx(Ws,{children:q.jsx(Js,{$width:c})})]},"option-".concat(t,"-").concat(e))}))}),d&&q.jsxs(Xs,{variants:Zs,initial:"initial",animate:"animate",exit:"exit",children:[q.jsx(V,{}),q.jsx("span",{children:"Войдите, чтобы проголосовать"}),q.jsx("button",{onClick:()=>m(!1),children:"Скрыть"})]}),q.jsxs($s,{children:[r&&!s&&q.jsx(Ys,{children:"Просмотр администратора"}),q.jsx(ye,{}),l," ",qs(l,["голос","голоса","голосов"])]})]})},tn="\n  .".concat(vs.commentActions," {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 8px;\n    margin-top: 8px;\n  }\n  \n  .").concat(vs.replyButton,",\n  .").concat(vs.deleteCommentButton," {\n    display: flex;\n    align-items: center;\n    gap: 5px;\n    font-size: 13px;\n    background: transparent;\n    border: none;\n    color: var(--text-secondary);\n    cursor: pointer;\n    padding: 4px 8px;\n    border-radius: 4px;\n    transition: all 0.2s;\n  }\n  \n  .").concat(vs.replyButton,":hover,\n  .").concat(vs.deleteCommentButton,":hover {\n    background-color: rgba(0, 0, 0, 0.05);\n  }\n  \n  .").concat(vs.deleteCommentButton," {\n    color: #e74c3c;\n  }\n  \n  .").concat(vs.commentItem," {\n    position: relative;\n    overflow: hidden;\n  }\n  \n  @media (max-width: 576px) {\n    .").concat(vs.commentActions," {\n      width: 100%;\n    }\n    \n    .").concat(vs.replyButton,",\n    .").concat(vs.deleteCommentButton," {\n      font-size: 12px;\n      padding: 3px 6px;\n    }\n  }\n"),an=me.div(k||(k=D(["\n  position: relative;\n  display: inline-block;\n"]))),sn=me.button(w||(w=D(["\n  background: none;\n  border: none;\n  color: var(--text-secondary);\n  padding: 6px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  \n  &:hover {\n    background-color: var(--bg-hover);\n  }\n  \n  svg {\n    font-size: 18px;\n  }\n"]))),nn=me(z.div)(N||(N=D(['\n  position: absolute;\n  top: 100%;\n  right: 0;\n  background: var(--bg-secondary);\n  border-radius: 8px;\n  box-shadow: 0 3px 12px rgba(0, 0, 0, 0.15);\n  min-width: 160px;\n  z-index: 100;\n  overflow: hidden;\n  \n  [data-theme="dark"] & {\n    background: var(--bg-tertiary);\n    box-shadow: 0 3px 12px rgba(0, 0, 0, 0.3);\n  }\n']))),rn=me.button(S||(S=D(["\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  width: 100%;\n  text-align: left;\n  padding: 10px 16px;\n  background: none;\n  border: none;\n  color: ",";\n  font-size: 14px;\n  cursor: pointer;\n  transition: background-color 0.2s;\n  \n  &:hover {\n    background-color: ",";\n  }\n  \n  svg {\n    font-size: 16px;\n  }\n"])),(e=>e.$danger?"var(--error)":"var(--text-primary)"),(e=>e.$danger?"rgba(231, 76, 60, 0.1)":"var(--bg-hover)")),on="\n  @media (max-width: 576px) {\n    .".concat(vs.commentItem," {\n      position: relative;\n    }\n    \n    .").concat(vs.commentHeader," {\n      padding-right: 30px;\n    }\n    \n    .").concat(vs.mobileOnly," {\n      display: block;\n    }\n    \n    .").concat(vs.desktopOnly," {\n      display: none;\n    }\n  }\n  \n  @media (min-width: 577px) {\n    .").concat(vs.mobileOnly," {\n      display: none;\n    }\n    \n    .").concat(vs.desktopOnly," {\n      display: flex;\n    }\n  }\n"),ln="\n  .".concat(vs.commentItem," {\n    position: relative;\n    overflow: hidden;\n  }\n  \n  .commentSwipeActions {\n    position: absolute;\n    right: -100px;\n    top: 0;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    transition: transform 0.3s ease;\n    touch-action: pan-y;\n  }\n  \n  .commentActionButton {\n    width: 50px;\n    height: 50px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border-radius: 50%;\n    margin-right: 10px;\n    color: white;\n    cursor: pointer;\n    transition: background-color 0.2s, transform 0.2s;\n  }\n  \n  .replyAction {\n    background-color: var(--accent, #1da1f2);\n  }\n  \n  .deleteAction {\n    background-color: var(--error, #e74c3c);\n  }\n  \n  .commentContent {\n    transition: transform 0.3s ease;\n  }\n  \n  .commentInner {\n    position: relative;\n    width: 100%;\n    padding-right: 10px;\n    transition: transform 0.3s ease;\n  }\n  \n  @media (max-width: 576px) {\n    .commentInner.swiped {\n      transform: translateX(-100px);\n    }\n    \n    .").concat(vs.commentActions,".").concat(vs.mobileOnly," {\n      position: absolute;\n      right: 10px;\n      top: 10px;\n    }\n  }\n");function cn({comment:e,onReply:t,onDelete:a}){var s;const[n,i]=M.useState(!1),[r,o]=M.useState(""),[l,c]=M.useState(!1),{user:d,isAuthenticated:m}=Ia(),[u,p]=M.useState(!1),[_,h]=M.useState(!1),[x,v]=M.useState({}),[g,f]=M.useState(!1),[y,j]=M.useState(!1),[b,k]=M.useState(null),[w,N]=M.useState(null),[S,C]=M.useState(!1),P=M.useRef(null),E=m&&d&&("igoraor79@gmail.com"===d.email||(null==(s=d.perks)?void 0:s.includes("admin"))||"admin"===d.activePerk),B=d&&d.id===e.user_id,I=E||B;M.useEffect((()=>{const e=e=>{P.current&&!P.current.contains(e.target)&&C(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[]);const O=()=>{m?(i(!0),j(!1)):f(!0)},A=()=>{I&&(h(!0),j(!1))},D=async(e,t)=>{const s=d&&d.id===t;if(E||s)try{await xs.deleteComment(e,null==d?void 0:d.id),a(e),(e=>{v((t=>({...t,[e]:!1})))})(e)}catch(n){alert("Не удалось удалить ответ: "+(n.message||"Неизвестная ошибка"))}};return q.jsxs("div",{className:vs.commentItem,children:[q.jsx("style",{dangerouslySetInnerHTML:{__html:tn}}),q.jsx("style",{dangerouslySetInnerHTML:{__html:on}}),q.jsx("style",{dangerouslySetInnerHTML:{__html:ln}}),q.jsxs("div",{className:"commentInner ".concat(S?"swiped":""),ref:P,onTouchStart:e=>{k(e.targetTouches[0].clientX)},onTouchMove:e=>{if(N(e.targetTouches[0].clientX),b&&w){const e=b-w;if(e>20&&e<120){const t=-e;P.current&&(P.current.style.transform="translateX(".concat(t,"px)"))}}},onTouchEnd:()=>{if(!b||!w)return;b-w>70?C(!0):(C(!1),P.current&&(P.current.style.transform="translateX(0)")),k(null),N(null)},children:[q.jsxs("div",{className:vs.commentHeader,children:[q.jsx("div",{className:vs.commentAuthorAvatar,children:q.jsx(ss,{src:e.author.avatar,alt:e.author.displayName,className:vs.avatar})}),q.jsx("div",{className:vs.commentAuthorInfo,children:q.jsx(pe,{to:"/profile/".concat(e.user_id),className:vs.commentAuthor,children:q.jsx("span",{className:"early_user"===e.author.activePerk?Ka:"sponsor"===e.author.activePerk?Qa:"admin"===e.author.activePerk?es:ts,style:{display:"inline-block",margin:0,padding:0},children:e.author.displayName})})}),q.jsx("div",{className:"".concat(vs.commentActions," ").concat(vs.mobileOnly),style:{position:"absolute",top:"5px",right:"5px"},children:q.jsxs(an,{onClick:e=>e.stopPropagation(),children:[q.jsx(sn,{onClick:()=>j(!y),children:q.jsx(je,{})}),q.jsx(F,{children:y&&q.jsxs(nn,{variants:Ks,initial:"initial",animate:"animate",exit:"exit",children:[q.jsxs(rn,{onClick:O,children:[q.jsx(be,{})," Ответить"]}),I&&q.jsxs(rn,{onClick:A,$danger:!0,children:[q.jsx(ve,{})," Удалить"]})]})})]})})]}),q.jsx("div",{className:vs.commentContent,children:e.content}),q.jsxs("div",{className:vs.commentDate,children:[q.jsx(J,{})," ",Ts(e.created_at)]}),q.jsxs("div",{className:"".concat(vs.commentActions," ").concat(vs.desktopOnly),children:[q.jsxs("button",{className:vs.replyButton,onClick:O,children:[q.jsx(be,{})," Ответить"]}),I&&q.jsxs("button",{className:vs.deleteCommentButton,onClick:A,disabled:u,children:[q.jsx(ve,{})," ",u?"Удаление...":"Удалить"]})]}),q.jsxs("div",{className:"commentSwipeActions",children:[q.jsx("div",{className:"commentActionButton replyAction",onClick:O,children:q.jsx(be,{})}),I&&q.jsx("div",{className:"commentActionButton deleteAction",onClick:A,children:q.jsx(ve,{})})]})]}),q.jsx(Ds,{isOpen:_,onClose:()=>{h(!1)},onConfirm:async()=>{if(I)try{p(!0),await xs.deleteComment(e.id,d.id),a(e.id),h(!1)}catch(t){alert("Не удалось удалить комментарий: "+(t.message||"Неизвестная ошибка"))}finally{p(!1)}},title:"Удаление комментария",message:"Вы уверены, что хотите удалить этот комментарий? Это действие нельзя отменить.",confirmText:"Удалить",cancelText:"Отмена",isDanger:!0}),e.replies&&e.replies.length>0&&q.jsx("div",{className:vs.repliesContainer,children:e.replies.map((e=>{const t=d&&d.id===e.user_id,a=E||t;return q.jsxs("div",{className:"".concat(vs.commentItem," ").concat(vs.commentReply),children:[q.jsxs("div",{className:vs.commentHeader,children:[q.jsx("div",{className:vs.commentAuthorAvatar,children:q.jsx(ss,{src:e.author.avatar,alt:e.author.displayName,className:vs.avatar})}),q.jsx("div",{className:vs.commentAuthorInfo,children:q.jsx(pe,{to:"/profile/".concat(e.user_id),className:vs.commentAuthor,children:q.jsx("span",{className:"early_user"===e.author.activePerk?Ka:"sponsor"===e.author.activePerk?Qa:"admin"===e.author.activePerk?es:ts,style:{display:"inline-block",margin:0,padding:0},children:e.author.displayName})})}),a&&q.jsx("div",{className:vs.mobileOnly,style:{position:"absolute",top:"5px",right:"5px"},children:q.jsx(an,{onClick:e=>e.stopPropagation(),children:q.jsx(sn,{onClick:()=>v({...x,[e.id]:!0}),children:q.jsx(je,{})})})})]}),q.jsx("div",{className:vs.commentContent,children:e.content}),q.jsxs("div",{className:vs.commentDate,children:[q.jsx(J,{})," ",Ts(e.created_at)]}),a&&q.jsx("div",{className:"".concat(vs.commentActions," ").concat(vs.desktopOnly),children:q.jsxs("button",{className:vs.deleteCommentButton,onClick:()=>v({...x,[e.id]:!0}),children:[q.jsx(ve,{})," Удалить"]})}),q.jsx(Ds,{isOpen:x[e.id]||!1,onClose:()=>v({...x,[e.id]:!1}),onConfirm:()=>D(e.id,e.user_id),title:"Удаление ответа",message:"Вы уверены, что хотите удалить этот ответ? Это действие нельзя отменить.",confirmText:"Удалить",cancelText:"Отмена",isDanger:!0})]},e.id)}))}),g&&q.jsxs(Xs,{variants:Zs,initial:"initial",animate:"animate",exit:"exit",children:[q.jsx(V,{}),q.jsx("span",{children:"Войдите, чтобы ответить на комментарий"}),q.jsx("button",{onClick:()=>f(!1),children:"Скрыть"})]})]})}me(z.button)(C||(C=D(["\n  background: none;\n  border: none;\n  padding: 0;\n  font: inherit;\n  cursor: pointer;\n  outline: inherit;\n"])));const dn=me(z.div)(P||(P=D(["\n  overflow: hidden;\n"]))),mn=e=>{if(!e)return!1;let t=e.replace("#","");3===t.length&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]);return(.299*parseInt(t.substring(0,2),16)+.587*parseInt(t.substring(2,4),16)+.114*parseInt(t.substring(4,6),16))/255<.5},un=me.div(E||(E=D(['\n  display: flex;\n  align-items: center;\n  font-size: 13px;\n  color: var(--accent, #1da1f2);\n  gap: 5px;\n  background-color: rgba(29, 161, 242, 0.1);\n  padding: 4px 10px;\n  border-radius: 12px;\n  margin-left: 10px;\n  font-weight: 500;\n  \n  svg {\n    transform: rotate(45deg);\n  }\n  \n  [data-theme="dark"] & {\n    background-color: rgba(29, 161, 242, 0.35);\n    color: #fff;\n    box-shadow: 0 0 10px rgba(29, 161, 242, 0.4);\n    border: 1px solid rgba(29, 161, 242, 0.5);\n    text-shadow: 0 0 5px rgba(255, 255, 255, 0.2);\n  }\n']))),pn=me.button(B||(B=D(["\n  display: flex;\n  align-items: center;\n  gap: 5px;\n  background: none;\n  border: none;\n  color: var(--text-secondary);\n  font-size: 14px;\n  cursor: pointer;\n  padding: 6px 10px;\n  border-radius: 4px;\n  transition: all 0.2s;\n  \n  &:hover {\n    background-color: rgba(0, 0, 0, 0.05);\n    color: var(--accent);\n  }\n  \n  svg {\n    font-size: 16px;\n    ",'\n  }\n  \n  [data-theme="dark"] & {\n    &:hover {\n      background-color: rgba(255, 255, 255, 0.05);\n    }\n  }\n  \n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n'])),(e=>e.$isPinned&&"transform: rotate(45deg);")),_n=me.div(I||(I=D(["\n  position: relative;\n  border-radius: 16px;\n  margin-bottom: 20px; /* Добавляем отступ снизу, чтобы не прилипало к таймеру */\n  \n  /* Create an animated gradient border effect */\n  &:before {\n    content: '';\n    position: absolute;\n    inset: -3px; /* Увеличиваем толщину рамки */\n    border-radius: 18px;\n    padding: 3px;\n    background: linear-gradient(\n      45deg, \n      var(--accent, #1da1f2) 0%, \n      rgba(255, 255, 255, 0.3) 50%, \n      var(--accent, #1da1f2) 100%\n    );\n    -webkit-mask: \n      linear-gradient(#fff 0 0) content-box, \n      linear-gradient(#fff 0 0);\n    -webkit-mask-composite: xor;\n    mask-composite: exclude;\n    background-size: 300% 300%;\n    animation: gradientBorder 4s ease infinite;\n    opacity: 0.8;\n    \n    [data-theme=\"dark\"] & {\n      background: linear-gradient(\n        45deg, \n        var(--accent, #1da1f2) 0%, \n        rgba(29, 161, 242, 0.7) 50%, \n        var(--accent, #1da1f2) 100%\n      );\n      opacity: 0.95;\n      box-shadow: 0 0 18px rgba(29, 161, 242, 0.5);\n    }\n  }\n  \n  @keyframes gradientBorder {\n    0% {\n      background-position: 0% 50%;\n    }\n    50% {\n      background-position: 100% 50%;\n    }\n    100% {\n      background-position: 0% 50%;\n    }\n  }\n"]))),hn=({post:e,onLikeToggle:t,fullView:a=!1,onDelete:s,onPinChange:n})=>{var i,r,o;const{user:l,isAuthenticated:c}=Ia(),[d,m]=M.useState(!1),[u,p]=M.useState(e.likes_count||0),[_,h]=M.useState(a),[x,v]=M.useState([]),[g,f]=M.useState(e.comments_count||0),[y,j]=M.useState(""),[b,k]=M.useState(!1),[w,N]=M.useState(""),[S,C]=M.useState(!1),[P,E]=M.useState(!1),[B,I]=M.useState(""),[O,A]=M.useState(!1),[D,T]=M.useState(""),[z,L]=M.useState(e.is_pinned||!1),[U,H]=M.useState(!1),[G,R]=M.useState(0),[W,$]=M.useState(!1),[Y,X]=M.useState(null),[Z,Q]=M.useState([]),K=e.title&&e.title.trim().length>0,ee=l&&("igoraor79@gmail.com"===l.email||(null==(i=l.perks)?void 0:i.includes("admin"))||"admin"===l.activePerk),te=e.styling||{},ae=te.titleColor||"#000000",se=te.contentColor||"#000000",ie=te.fontFamily||"inherit",oe=mn(ae),le=mn(se),[ce,de]=M.useState(window.innerWidth<=768);M.useEffect((()=>{const e=()=>{de(window.innerWidth<=768)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),M.useEffect((()=>{const t=()=>{I(Ts(e.created_at,ce))};t();const a=setInterval(t,6e4);return()=>clearInterval(a)}),[e.created_at,ce]),M.useEffect((()=>{(async()=>{if(c&&l)try{const{liked:t}=await hs.isLikedByUser(e.id,l.id);m(t)}catch(t){}})()}),[e.id,l,c]),M.useEffect((()=>{e.poll_data&&(async()=>{if(e.poll_data&&c&&l)try{const{hasVoted:t,option:a,results:s}=await hs.getPollVoteStatus(e.id,l.id);$(t),X(a),Q(s)}catch(t){try{const{results:t}=await hs.getPollResults(e.id);Q(t)}catch(a){if(e.poll_data&&e.poll_data.options){const t=e.poll_data.options.map((e=>({option:e,votes:0})));Q(t)}}}else if(e.poll_data)try{const{results:t}=await hs.getPollResults(e.id);Q(t)}catch(t){if(e.poll_data&&e.poll_data.options){const t=e.poll_data.options.map((e=>({option:e,votes:0})));Q(t)}}})()}),[e.id,e.poll_data,l,c]),M.useEffect((()=>{p(e.likes_count||0)}),[e.likes_count]),M.useEffect((()=>{f(e.comments_count||0)}),[e.comments_count]);const me=async()=>{if(c)try{const a=!d,s=a?u+1:u-1;m(a),p(s>0?s:0);const n=document.querySelector("#like-".concat(e.id));n&&(n.classList.add(vs.likeAnimation),setTimeout((()=>{n.classList.remove(vs.likeAnimation)}),1e3));const i=await hs.toggleLike(e.id,l.id);m(i.liked),p(i.likesCount),t&&t(e.id,i.liked,i.likesCount)}catch(a){m(!d);const e=d?u+1:u-1;p(e>0?e:0)}else T("like")},ue=()=>{_?h(!1):(C(!0),(async()=>{if(x.length>0&&!_)return h(!0),void C(!1);try{C(!0);const t=await xs.getCommentsByPostId(e.id);let a=0;t.forEach((e=>{e.replies&&(a+=e.replies.length)})),R(t.length);const s=t.length+a;f(s),v(t),h(!0)}catch(t){}finally{C(!1)}})())},ye=async t=>{if(c)try{const{results:a}=await hs.voteInPoll(e.id,l.id,t);$(!0),X(t),Q(a)}catch(a){if(alert("Не удалось проголосовать. Возможно, таблица для голосования еще не создана в базе данных."),e.poll_data&&e.poll_data.options){const a=e.poll_data.options.map(((e,a)=>({option:e,votes:a===t?1:0})));$(!0),X(t),Q(a)}}else T("poll")},je=async t=>{if(t.preventDefault(),c)if(y.trim())try{k(!0),N("");const t=ws(y,l),a=await xs.createComment({content:t,postId:e.id,userId:l.id});v([a,...x]),R((e=>e+1)),f((e=>e+1)),j("")}catch(a){N("Не удалось отправить комментарий")}finally{k(!1)}else N("Комментарий не может быть пустым");else N("Войдите, чтобы оставить комментарий")},be=async(t,a)=>{if(c)try{const s=ws(a,l),n=await xs.replyToComment({content:s,commentId:t,postId:e.id,userId:l.id}),i=x.map((e=>{if(e.id===t){const t=e.replies||[];return{...e,replies:[...t,n]}}return e}));return v(i),f((e=>e+1)),n}catch(s){throw s}else T("reply")},ke=()=>{var e;c&&l&&("igoraor79@gmail.com"===l.email||(null==(e=l.perks)?void 0:e.includes("admin"))||"admin"===l.activePerk)?A(!0):alert("Только администраторы могут удалять посты")},we=()=>{A(!1)},Ne=async()=>{var t;if(c&&l&&("igoraor79@gmail.com"===l.email||(null==(t=l.perks)?void 0:t.includes("admin"))||"admin"===l.activePerk))try{E(!0);if(!(await hs.deletePost(e.id)).success)throw new Error("Не удалось удалить пост");s&&s(e.id),A(!1)}catch(a){alert("Не удалось удалить пост: "+(a.message||"Попробуйте позже."))}finally{E(!1)}else alert("Только администраторы могут удалять посты")},Se=e=>{var t;const a=x.findIndex((t=>t.id===e));if(-1!==a){const s=(null==(t=x[a].replies)?void 0:t.length)||0;v(x.filter((t=>t.id!==e))),R((e=>e-1)),f((e=>e-(1+s)))}else{const t=x.map((t=>t.replies&&t.replies.some((t=>t.id===e))?{...t,replies:t.replies.filter((t=>t.id!==e))}:t));v(t),f((e=>e-1))}};M.useEffect((()=>{L(e.is_pinned||!1)}),[e.is_pinned]);const Ce=async()=>{if(ee)try{if(H(!0),z){(await hs.unpinPost(e.id)).success&&(L(!1),n&&n(e.id,!1))}else{(await hs.pinPost(e.id)).success&&(L(!0),n&&n(e.id,!0))}}catch(t){alert("Не удалось изменить статус закрепления: "+(t.message||"Неизвестная ошибка"))}finally{H(!1)}};return M.useEffect((()=>{const t=()=>{I(Ts(e.created_at,ce))};return window.addEventListener("themechange",t),()=>{window.removeEventListener("themechange",t)}}),[e.created_at,ce]),q.jsx(q.Fragment,{children:z?q.jsx(_n,{children:q.jsxs("div",{className:vs.postItem,children:[q.jsxs("div",{className:vs.postHeader,children:[q.jsxs(pe,{to:"/profile/".concat(e.user_id),className:vs.authorInfo,children:[q.jsx(ss,{src:e.author.avatar,alt:e.author.displayName,className:vs.avatar}),q.jsx("span",{className:"early_user"===e.author.activePerk?Ka:"sponsor"===e.author.activePerk?Qa:"admin"===e.author.activePerk?es:ts,style:{display:"inline-block",margin:0,padding:0},children:e.author.displayName})]}),q.jsxs("div",{className:vs.postMeta,children:[z&&q.jsxs(un,{children:[q.jsx(_e,{})," Закреплено"]}),q.jsxs("span",{className:vs.postDate,children:[q.jsx(J,{})," ",B]})]})]}),K&&q.jsx("h2",{className:vs.postTitle,style:{color:ae,fontFamily:ie},children:q.jsx("span",{className:oe?vs.darkTextConversion:"",children:e.title})}),q.jsx("div",{className:vs.postContent,style:{color:se,fontFamily:ie},children:q.jsx("span",{className:le?vs.darkTextConversion:"",children:e.content})}),e.image_url&&q.jsx("div",{className:vs.postImage,children:q.jsx("img",{src:e.image_url,alt:"Изображение к посту",onError:e=>{e.target.style.display="none"}})}),e.poll_data&&q.jsx("div",{className:vs.pollContainer,children:q.jsx(en,{poll:{...e.poll_data,hideQuestion:e.title&&e.poll_data.question===e.title},postId:e.id,onVote:ye,hasVoted:W,votedOption:Y,results:Z,isAdmin:ee})}),q.jsxs("div",{className:vs.postActions,children:[q.jsxs("div",{className:vs.actionButtons,children:[q.jsxs("button",{id:"like-".concat(e.id),className:"".concat(vs.likeButton," ").concat(d?vs.liked:""),onClick:me,children:[q.jsx(he,{})," ",q.jsx("span",{className:vs.likeCount,children:u})]}),q.jsxs("button",{className:vs.commentButton,onClick:ue,children:[q.jsx(xe,{})," ",q.jsx("span",{children:g})]}),c&&ee&&q.jsxs(pn,{onClick:Ce,disabled:U,$isPinned:z,children:[q.jsx(_e,{})," ",z?"Открепить":"Закрепить"]})]}),c&&l&&("igoraor79@gmail.com"===l.email||(null==(r=l.perks)?void 0:r.includes("admin"))||"admin"===l.activePerk)&&q.jsxs("button",{className:vs.deleteButton,onClick:ke,disabled:P,children:[q.jsx(ve,{})," ",P?"Удаление...":"Удалить"]})]}),q.jsx(Ds,{isOpen:O,onClose:we,onConfirm:Ne,title:"Удаление поста",message:"Вы уверены, что хотите удалить этот пост? Это действие нельзя отменить.",confirmText:"Удалить",cancelText:"Отмена",isDanger:!0}),q.jsx(F,{children:_&&q.jsx(dn,{variants:Qs,initial:"initial",animate:"animate",exit:"exit",children:q.jsxs("div",{className:vs.commentsSection,children:[q.jsxs("h4",{className:vs.commentsHeading,children:[q.jsx(ge,{})," Комментарии (",g,")"]}),S?q.jsxs("div",{className:vs.loadingComments,children:[q.jsx(re,{})," Загрузка комментариев..."]}):q.jsxs(q.Fragment,{children:[x&&x.length>0?q.jsx("div",{className:vs.commentsList,children:x.map((e=>q.jsx(cn,{comment:e,onReply:be,onDelete:Se},e.id)))}):q.jsx("div",{className:vs.noComments,children:"Комментариев пока нет. Будьте первым!"}),c&&q.jsxs("form",{onSubmit:je,className:vs.commentForm,children:[w&&q.jsxs("div",{className:vs.errorMessage,children:[q.jsx(ne,{})," ",w]}),q.jsx("textarea",{value:y,onChange:e=>j(e.target.value),placeholder:"Напишите комментарий...",disabled:b}),q.jsx("button",{type:"submit",disabled:b,children:b?q.jsxs(q.Fragment,{children:[q.jsx(re,{})," Отправка..."]}):q.jsxs(q.Fragment,{children:[q.jsx(fe,{})," Отправить"]})})]})]})]})})}),D&&q.jsxs(Xs,{variants:Zs,initial:"initial",animate:"animate",exit:"exit",children:[q.jsx(V,{}),q.jsxs("span",{children:["like"===D&&"Войдите, чтобы поставить лайк","poll"===D&&"Войдите, чтобы проголосовать","reply"===D&&"Войдите, чтобы ответить на комментарий"]}),q.jsx("button",{onClick:()=>T(""),children:"Скрыть"})]})]})}):q.jsxs("div",{className:vs.postItem,children:[q.jsxs("div",{className:vs.postHeader,children:[q.jsxs(pe,{to:"/profile/".concat(e.user_id),className:vs.authorInfo,children:[q.jsx(ss,{src:e.author.avatar,alt:e.author.displayName,className:vs.avatar}),q.jsx("span",{className:"early_user"===e.author.activePerk?Ka:"sponsor"===e.author.activePerk?Qa:"admin"===e.author.activePerk?es:ts,style:{display:"inline-block",margin:0,padding:0},children:e.author.displayName})]}),q.jsxs("div",{className:vs.postMeta,children:[z&&q.jsxs(un,{children:[q.jsx(_e,{})," Закреплено"]}),q.jsxs("span",{className:vs.postDate,children:[q.jsx(J,{})," ",B]})]})]}),K&&q.jsx("h2",{className:vs.postTitle,style:{color:ae,fontFamily:ie},children:q.jsx("span",{className:oe?vs.darkTextConversion:"",children:e.title})}),q.jsx("div",{className:vs.postContent,style:{color:se,fontFamily:ie},children:q.jsx("span",{className:le?vs.darkTextConversion:"",children:e.content})}),e.image_url&&q.jsx("div",{className:vs.postImage,children:q.jsx("img",{src:e.image_url,alt:"Изображение к посту",onError:e=>{e.target.style.display="none"}})}),e.poll_data&&q.jsx("div",{className:vs.pollContainer,children:q.jsx(en,{poll:{...e.poll_data,hideQuestion:e.title&&e.poll_data.question===e.title},postId:e.id,onVote:ye,hasVoted:W,votedOption:Y,results:Z,isAdmin:ee})}),q.jsxs("div",{className:vs.postActions,children:[q.jsxs("div",{className:vs.actionButtons,children:[q.jsxs("button",{id:"like-".concat(e.id),className:"".concat(vs.likeButton," ").concat(d?vs.liked:""),onClick:me,children:[q.jsx(he,{})," ",q.jsx("span",{className:vs.likeCount,children:u})]}),q.jsxs("button",{className:vs.commentButton,onClick:ue,children:[q.jsx(xe,{})," ",q.jsx("span",{children:g})]}),c&&ee&&q.jsxs(pn,{onClick:Ce,disabled:U,$isPinned:z,children:[q.jsx(_e,{})," ",z?"Открепить":"Закрепить"]})]}),c&&l&&("igoraor79@gmail.com"===l.email||(null==(o=l.perks)?void 0:o.includes("admin"))||"admin"===l.activePerk)&&q.jsxs("button",{className:vs.deleteButton,onClick:ke,disabled:P,children:[q.jsx(ve,{})," ",P?"Удаление...":"Удалить"]})]}),q.jsx(Ds,{isOpen:O,onClose:we,onConfirm:Ne,title:"Удаление поста",message:"Вы уверены, что хотите удалить этот пост? Это действие нельзя отменить.",confirmText:"Удалить",cancelText:"Отмена",isDanger:!0}),q.jsx(F,{children:_&&q.jsx(dn,{variants:Qs,initial:"initial",animate:"animate",exit:"exit",children:q.jsxs("div",{className:vs.commentsSection,children:[q.jsxs("h4",{className:vs.commentsHeading,children:[q.jsx(ge,{})," Комментарии (",g,")"]}),S?q.jsxs("div",{className:vs.loadingComments,children:[q.jsx(re,{})," Загрузка комментариев..."]}):q.jsxs(q.Fragment,{children:[x&&x.length>0?q.jsx("div",{className:vs.commentsList,children:x.map((e=>q.jsx(cn,{comment:e,onReply:be,onDelete:Se},e.id)))}):q.jsx("div",{className:vs.noComments,children:"Комментариев пока нет. Будьте первым!"}),c&&q.jsxs("form",{onSubmit:je,className:vs.commentForm,children:[w&&q.jsxs("div",{className:vs.errorMessage,children:[q.jsx(ne,{})," ",w]}),q.jsx("textarea",{value:y,onChange:e=>j(e.target.value),placeholder:"Напишите комментарий...",disabled:b}),q.jsx("button",{type:"submit",disabled:b,children:b?q.jsxs(q.Fragment,{children:[q.jsx(re,{})," Отправка..."]}):q.jsxs(q.Fragment,{children:[q.jsx(fe,{})," Отправить"]})})]})]})]})})}),D&&q.jsxs(Xs,{variants:Zs,initial:"initial",animate:"animate",exit:"exit",children:[q.jsx(V,{}),q.jsxs("span",{children:["like"===D&&"Войдите, чтобы поставить лайк","poll"===D&&"Войдите, чтобы проголосовать","reply"===D&&"Войдите, чтобы ответить на комментарий"]}),q.jsx("button",{onClick:()=>T(""),children:"Скрыть"})]})]})})},xn=[{name:"По умолчанию",value:"inherit"},{name:"Arial",value:"Arial, sans-serif"},{name:"Times New Roman",value:"Times New Roman, serif"},{name:"Courier New",value:"Courier New, monospace"},{name:"Georgia",value:"Georgia, serif"},{name:"Verdana",value:"Verdana, sans-serif"},{name:"Roboto",value:"'Roboto', sans-serif"},{name:"Open Sans",value:"'Open Sans', sans-serif"},{name:"Lato",value:"'Lato', sans-serif"},{name:"Montserrat",value:"'Montserrat', sans-serif"},{name:"Poppins",value:"'Poppins', sans-serif"},{name:"Source Sans Pro",value:"'Source Sans Pro', sans-serif"},{name:"Ubuntu",value:"'Ubuntu', sans-serif"},{name:"Raleway",value:"'Raleway', sans-serif"},{name:"Nunito",value:"'Nunito', sans-serif"}],vn="\n  .".concat(vs.formOptions," {\n    display: flex;\n    flex-direction: column;\n    gap: 12px;\n    margin-top: 15px;\n  }\n  \n  .").concat(vs.formToggles," {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 8px;\n  }\n  \n  .").concat(vs.optionToggle," {\n    display: flex;\n    align-items: center;\n    gap: 5px;\n    background-color: rgba(0, 0, 0, 0.03);\n    padding: 6px 10px;\n    border-radius: 4px;\n    font-size: 14px;\n    cursor: pointer;\n    white-space: nowrap;\n    margin-bottom: 5px;\n  }\n  \n  .").concat(vs.submitButton," {\n    margin-top: 5px;\n    align-self: flex-end;\n  }\n  \n  @media (max-width: 768px) {\n    .").concat(vs.formOptions," {\n      width: 100%;\n    }\n    \n    .").concat(vs.formToggles," {\n      width: 100%;\n      justify-content: flex-start;\n    }\n    \n    .").concat(vs.optionToggle," {\n      flex: 0 0 auto;\n      font-size: 13px;\n    }\n    \n    .").concat(vs.submitButton," {\n      width: 100%;\n      margin-top: 10px;\n    }\n  }\n"),gn=({onPostCreated:e})=>{var t;const{user:a,isAuthenticated:s}=Ia(),[n,i]=M.useState(""),[r,o]=M.useState(""),[l,c]=M.useState(""),[d,m]=M.useState(!1),[u,p]=M.useState(""),_=s&&a&&("igoraor79@gmail.com"===a.email||(null==(t=a.perks)?void 0:t.includes("admin"))||"admin"===a.activePerk);if(!_)return null;const[h,x]=M.useState(!1),[v,g]=M.useState(["",""]),[f,y]=M.useState(!1),[j,b]=M.useState(!1),[k,w]=M.useState("#000000"),[N,S]=M.useState("#000000"),[C,P]=M.useState("#000000"),[E,B]=M.useState("inherit"),[I,O]=M.useState(!1),[A,D]=M.useState(!1),[T,F]=M.useState(!1),z=e=>{if(!e)return!1;let t=e.replace("#","");3===t.length&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]);return(.299*parseInt(t.substring(0,2),16)+.587*parseInt(t.substring(2,4),16)+.114*parseInt(t.substring(4,6),16))/255<.5};return q.jsxs("div",{className:vs.createPostContainer,children:[q.jsx("style",{dangerouslySetInnerHTML:{__html:vn}}),q.jsxs("h3",{className:vs.createPostTitle,children:[q.jsx(le,{})," Создать пост"]}),u&&q.jsxs("div",{className:vs.errorMessage,children:[q.jsx(ne,{})," ",u]}),q.jsxs("form",{onSubmit:async t=>{if(t.preventDefault(),_)if(r.trim()){if(!(h&&v.filter((e=>e.trim().length>0)).length<2&&(p("Для опроса необходимо минимум два варианта ответа"),1)))try{m(!0),p("");const t=h?{question:n.trim()||r.trim().split(" ").slice(0,5).join(" ")+"...",options:v.filter((e=>e.trim().length>0)).map((e=>e.trim())),optionsColor:C,styling:{optionsColor:C,fontFamily:E}}:null,s={title:n.trim()||null,content:r.trim(),imageUrl:l||null,userId:a.id,styling:{titleColor:k,contentColor:N,fontFamily:E},poll:t,isPinned:f},d=await hs.createPost(s);i(""),o(""),c(""),x(!1),g(["",""]),b(!1),w("#000000"),S("#000000"),P("#000000"),B("inherit"),y(!1),e&&e(d)}catch(s){s.message?p("Не удалось создать пост: ".concat(s.message)):s.details?p("Ошибка: ".concat(s.details)):p("Не удалось создать пост. Попробуйте позже.")}finally{m(!1)}}else p("Текст поста не может быть пустым");else p("У вас недостаточно прав для создания постов")},className:vs.createPostForm,children:[q.jsx("input",{type:"text",className:vs.titleInput,value:n,onChange:e=>i(e.target.value),placeholder:"Заголовок поста",disabled:d,style:{color:k,fontFamily:E}}),q.jsx("textarea",{className:vs.contentInput,value:r,onChange:e=>o(e.target.value),placeholder:h?"Текст поста с опросом...":"Текст вашего поста...",rows:4,disabled:d,required:!0,style:{color:N,fontFamily:E}}),!h&&q.jsx("input",{type:"text",className:vs.imageUrlInput,value:l,onChange:e=>c(e.target.value),placeholder:"URL изображения (необязательно)",disabled:d}),h&&q.jsxs("div",{className:vs.pollContainer,children:[q.jsx("div",{className:vs.pollOptions,children:v.map(((e,t)=>q.jsx("div",{className:vs.pollOption,children:q.jsxs("div",{className:vs.pollOptionInputWrapper,children:[q.jsx("input",{type:"text",className:vs.pollOptionInput,value:e,onChange:e=>((e,t)=>{const a=[...v];a[e]=t,g(a)})(t,e.target.value),placeholder:"Вариант ".concat(t+1),disabled:d,style:{color:C,fontFamily:E}}),v.length>2&&q.jsx("button",{type:"button",onClick:()=>(e=>{if(v.length>2){const t=[...v];t.splice(e,1),g(t)}})(t),className:vs.removeOptionButton,disabled:d,children:q.jsx(ke,{})})]})},t)))}),q.jsxs("button",{type:"button",onClick:()=>{v.length<6&&g([...v,""])},className:vs.addOptionButton,disabled:d||v.length>=6,children:[q.jsx(we,{})," Добавить вариант"]})]}),j&&q.jsxs("div",{className:vs.stylingOptions,children:[q.jsxs("h4",{className:vs.stylingTitle,children:[q.jsx(Ne,{})," Настройки стиля"]}),q.jsxs("div",{className:vs.stylingGroup,children:[q.jsx("label",{children:"Шрифт:"}),q.jsx("select",{value:E,onChange:e=>B(e.target.value),className:vs.fontSelector,disabled:d,style:{fontFamily:E},children:xn.map((e=>q.jsx("option",{value:e.value,style:{fontFamily:e.value},children:e.name},e.value)))})]}),q.jsxs("div",{className:vs.stylingGroup,children:[q.jsx("label",{children:"Цвет заголовка:"}),q.jsxs("div",{className:vs.colorPickerContainer,children:[q.jsx("div",{className:vs.colorPreview,style:{backgroundColor:k},onClick:()=>O(!I),children:q.jsx(Ne,{className:vs.dropletIcon})}),I&&q.jsxs("div",{className:vs.colorPickerPopup,children:[q.jsx("div",{className:vs.colorPickerCover,onClick:()=>O(!1)}),q.jsx(Se,{color:k,onChange:w})]})]}),z(k)&&q.jsx("div",{className:vs.colorNote,children:"Примечание: тёмные цвета будут автоматически адаптированы в темной теме для лучшей читаемости."})]}),q.jsxs("div",{className:vs.stylingGroup,children:[q.jsx("label",{children:"Цвет текста поста:"}),q.jsxs("div",{className:vs.colorPickerContainer,children:[q.jsx("div",{className:vs.colorPreview,style:{backgroundColor:N},onClick:()=>D(!A),children:q.jsx(Ne,{className:vs.dropletIcon})}),A&&q.jsxs("div",{className:vs.colorPickerPopup,children:[q.jsx("div",{className:vs.colorPickerCover,onClick:()=>D(!1)}),q.jsx(Se,{color:N,onChange:S})]})]}),z(N)&&q.jsx("div",{className:vs.colorNote,children:"Примечание: тёмные цвета будут автоматически адаптированы в темной теме для лучшей читаемости."})]}),h&&q.jsxs("div",{className:vs.stylingGroup,children:[q.jsx("label",{children:"Цвет вариантов опроса:"}),q.jsxs("div",{className:vs.colorPickerContainer,children:[q.jsx("div",{className:vs.colorPreview,style:{backgroundColor:C},onClick:()=>F(!T),children:q.jsx(Ne,{className:vs.dropletIcon})}),T&&q.jsxs("div",{className:vs.colorPickerPopup,children:[q.jsx("div",{className:vs.colorPickerCover,onClick:()=>F(!1)}),q.jsx(Se,{color:C,onChange:P})]})]})]})]}),q.jsxs("div",{className:vs.formOptions,children:[q.jsxs("div",{className:vs.formToggles,children:[q.jsxs("label",{className:vs.optionToggle,children:[q.jsx("input",{type:"checkbox",checked:h,onChange:()=>{x(!h),g(["",""])},disabled:d}),q.jsx(ye,{})," ",h?"Убрать опрос":"Добавить опрос"]}),q.jsxs("label",{className:vs.optionToggle,children:[q.jsx("input",{type:"checkbox",checked:j,onChange:()=>{b(!j)},disabled:d}),q.jsx(ee,{})," ",j?"Скрыть настройки":"Настройки стиля"]}),q.jsxs("label",{className:vs.optionToggle,children:[q.jsx("input",{type:"checkbox",checked:f,onChange:()=>y(!f),disabled:d}),q.jsx(_e,{})," ",f?"Открепить":"Закрепить"]})]}),q.jsx("button",{type:"submit",className:vs.submitButton,disabled:d,children:d?"Публикация...":q.jsxs(q.Fragment,{children:[q.jsx(fe,{})," Опубликовать"]})})]})]})]})},fn=()=>{var e;const{user:t,isAuthenticated:a}=Ia(),[s,n]=M.useState([]),[i,r]=M.useState(!0),[o,l]=M.useState(""),[c,d]=M.useState(0),m=a&&t&&("igoraor79@gmail.com"===t.email||(null==(e=t.perks)?void 0:e.includes("admin"))||"admin"===t.activePerk);M.useEffect((()=>{(async()=>{try{r(!0);const e=await hs.getPosts();n(e),l("")}catch(e){l("Не удалось загрузить посты. Попробуйте позже.")}finally{r(!1)}})()}),[c]);const u=(e,t,a)=>{n((t=>t.map((t=>t.id===e?{...t,likes_count:a}:t))))},p=async e=>{try{(await hs.deletePost(e)).success&&n((t=>t.filter((t=>t.id!==e))))}catch(t){l("Не удалось удалить пост. "+(t.message||"Попробуйте позже."))}},_=async(e,t)=>{const a=s.map((a=>a.id===e?{...a,is_pinned:t}:a)),i=a.filter((e=>e.is_pinned)),r=a.filter((e=>!e.is_pinned));i.sort(((e,t)=>new Date(t.created_at)-new Date(e.created_at))),r.sort(((e,t)=>new Date(t.created_at)-new Date(e.created_at))),n([...i,...r])};return q.jsxs("div",{className:vs.postsContainer,children:[q.jsxs("div",{className:vs.postsHeader,children:[q.jsxs("h2",{children:[q.jsx(Ce,{})," Лента постов"]}),q.jsxs("button",{className:vs.refreshButton,onClick:()=>{d((e=>e+1))},disabled:i,children:[i?q.jsx(re,{}):q.jsx(Pe,{})," Обновить"]})]}),m&&q.jsx(gn,{onPostCreated:e=>{if(e.is_pinned)n([e,...s]);else{const t=s.filter((e=>e.is_pinned)),a=s.filter((e=>!e.is_pinned));n([...t,e,...a])}setTimeout((()=>{d((e=>e+1))}),2e3)}}),o&&q.jsxs("div",{className:vs.errorMessage,children:[q.jsx(ne,{})," ",o]}),i?q.jsxs("div",{className:vs.loading,children:[q.jsx(re,{})," Загрузка постов..."]}):s.length>0?q.jsx("div",{className:vs.postsList,children:s.map((e=>q.jsx(hn,{post:e,onLikeToggle:u,onDelete:p,onPinChange:_},e.id)))}):q.jsxs("div",{className:vs.noPosts,children:[q.jsx(Ee,{}),q.jsxs("p",{children:["Постов пока нет. ",m?"Создайте первый пост!":"Скоро здесь появится интересный контент!"]})]})]})},yn={adminPanel:"_adminPanel_15s4l_2",title:"_title_15s4l_30",error:"_error_15s4l_52",fadeIn:"_fadeIn_15s4l_1",message:"_message_15s4l_69",success:"_success_15s4l_78",info:"_info_15s4l_87",content:"_content_15s4l_116",usersSection:"_usersSection_15s4l_128",editSection:"_editSection_15s4l_128",loader:"_loader_15s4l_155",spin:"_spin_15s4l_1",usersList:"_usersList_15s4l_180",userItem:"_userItem_15s4l_217",selected:"_selected_15s4l_234",userAvatar:"_userAvatar_15s4l_246",noAvatar:"_noAvatar_15s4l_264",userInfo:"_userInfo_15s4l_280",userName:"_userName_15s4l_288",userEmail:"_userEmail_15s4l_298",userPerks:"_userPerks_15s4l_307",perk:"_perk_15s4l_313",user:"_user_15s4l_128",early_user:"_early_user_15s4l_332",sponsor:"_sponsor_15s4l_340",admin:"_admin_15s4l_2",editForm:"_editForm_15s4l_380",formGroup:"_formGroup_15s4l_394",perksOptions:"_perksOptions_15s4l_461",perkOption:"_perkOption_15s4l_476",basePerk:"_basePerk_15s4l_501",baseLabel:"_baseLabel_15s4l_515",baseNote:"_baseNote_15s4l_518",protectedUser:"_protectedUser_15s4l_525",selectedUser:"_selectedUser_15s4l_566",editUserButton:"_editUserButton_15s4l_573",formActions:"_formActions_15s4l_609",cancelButton:"_cancelButton_15s4l_616",saveButton:"_saveButton_15s4l_617",noUserSelected:"_noUserSelected_15s4l_677",emptyList:"_emptyList_15s4l_710",userActions:"_userActions_15s4l_719",banUserButton:"_banUserButton_15s4l_725",bannedUser:"_bannedUser_15s4l_749",modalOverlay:"_modalOverlay_15s4l_763",banDialog:"_banDialog_15s4l_779",banDialogHeader:"_banDialogHeader_15s4l_791",closeButton:"_closeButton_15s4l_803",banDialogContent:"_banDialogContent_15s4l_822",currentBanInfo:"_currentBanInfo_15s4l_825",banDialogActions:"_banDialogActions_15s4l_836",unbanButton:"_unbanButton_15s4l_843",banButton:"_banButton_15s4l_870",eventsSection:"_eventsSection_15s4l_898",eventsList:"_eventsList_15s4l_932",eventItem:"_eventItem_15s4l_938",eventInfo:"_eventInfo_15s4l_957",eventToggle:"_eventToggle_15s4l_988",active:"_active_15s4l_1016"},jn=()=>{var e;const{user:t,refreshUser:a}=Ia(),s=Q(),[n,i]=M.useState([]),[r,o]=M.useState(!0),[l,c]=M.useState(null),[d,m]=M.useState(null),[u,p]=M.useState(!1),[_,h]=M.useState({displayName:"",email:"",password:"",perks:[]}),[x,v]=M.useState(null),g=M.useRef(null),[f,y]=M.useState(!1),[j,b]=M.useState(null),[k,w]=M.useState(""),[N,S]=M.useState(""),[C,P]=M.useState(!1),[E,B]=M.useState({earlyUserPromotion:!1}),[I,O]=M.useState(!1),A=async()=>{try{o(!0);const{data:t,error:a}=await va.from("profiles").select("*").order("created_at",{ascending:!1});if(a)return c("Ошибка загрузки профилей пользователей"),o(!1),[];if(!t||0===t.length)return i([]),o(!1),[];let s=[];try{const{data:e,error:t}=await va.rpc("admin_get_users");!t&&e&&(s=e)}catch(e){}let n=t.map((e=>{const t=s.find((t=>t.id===e.id)),a=(null==t?void 0:t.raw_user_meta_data)||{};return{id:e.id,displayName:e.display_name||a.display_name||"Пользователь",email:(null==t?void 0:t.email)||e.email||"Нет email",perks:e.perks||["user"],activePerk:e.active_perk||"user",avatar:e.avatar||a.avatar,createdAt:(null==t?void 0:t.created_at)||e.created_at||(new Date).toISOString(),is_banned:e.is_banned||!1,ban_reason:e.ban_reason,ban_end_at:e.ban_end_at,ban_admin_id:e.ban_admin_id,ban_admin_name:e.ban_admin_name}}));return n=await(async e=>{const t=new Date,a=[];for(const s of e)s.is_banned&&s.ban_end_at&&new Date(s.ban_end_at)<t&&(a.push(va.from("profiles").update({is_banned:!1,ban_reason:null,ban_end_at:null,ban_admin_id:null,ban_admin_name:null}).eq("id",s.id)),a.push(va.from("user_bans").update({is_active:!1}).eq("user_id",s.id).eq("is_active",!0)),s.is_banned=!1,s.ban_reason=null,s.ban_end_at=null,s.ban_admin_id=null,s.ban_admin_name=null);return a.length>0&&await Promise.all(a),e})(n),i(n),c(null),n}catch(t){return c(t.message),[]}finally{o(!1)}};M.useEffect((()=>{A();const e=()=>{"visible"===document.visibilityState&&A()};return document.addEventListener("visibilitychange",e),()=>{document.removeEventListener("visibilitychange",e)}}),[]),M.useEffect((()=>{var e;if(null===t)return;t&&("igoraor79@gmail.com"===t.email||(null==(e=t.perks)?void 0:e.includes("admin"))||"admin"===t.activePerk)||s("/")}),[t,s]),M.useEffect((()=>{(async()=>{try{O(!0);try{const{data:e,error:t}=await va.from("site_settings").select("*").single();if(t){const{error:e}=await va.rpc("create_site_settings_if_not_exists");if(e)return void B({earlyUserPromotion:!1});const{data:t,error:a}=await va.from("site_settings").insert({early_user_promotion:!1,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()}).select("*").single();B(a?{earlyUserPromotion:!1}:{earlyUserPromotion:t.early_user_promotion||!1})}else B({earlyUserPromotion:e.early_user_promotion||!1})}catch(e){B({earlyUserPromotion:!1})}}finally{O(!1)}})()}),[]);const D=e=>{m(e),h({displayName:e.displayName||"",email:e.email||"",password:"",perks:e.perks||["user"]}),p(!0)},T=e=>{const{name:t,value:a}=e.target;h({..._,[t]:a})},F=e=>{if("user"===e)return;const t=_.perks.includes(e)?_.perks.filter((t=>t!==e)):[..._.perks,e];t.includes("user")||t.push("user"),h({..._,perks:t})},z=t&&("igoraor79@gmail.com"===t.email||(null==(e=t.perks)?void 0:e.includes("admin"))||"admin"===t.activePerk);M.useEffect((()=>()=>{g.current&&clearTimeout(g.current)}),[]);const L=(e,t=3e3)=>{g.current&&clearTimeout(g.current),v(e),g.current=setTimeout((()=>{v(null)}),t)},U=async e=>{if(e)try{P(!0);const t=n.find((t=>t.id===e)),{error:a}=await va.from("user_bans").update({is_active:!1}).eq("user_id",e).eq("is_active",!0);if(a)throw new Error("Ошибка при обновлении блокировки: ".concat(a.message));const s={is_banned:!1,ban_reason:null,ban_end_at:null,ban_admin_id:null,ban_admin_name:null},{error:i}=await va.from("profiles").update(s).eq("id",e);if(i)throw new Error("Ошибка при обновлении профиля: ".concat(i.message));const{data:r,error:o}=await va.from("profiles").select("*").eq("id",e).single();await A(),L({type:"success",text:"Пользователь ".concat((null==t?void 0:t.displayName)||"выбранный"," успешно разблокирован")}),f&&(y(!1),b(null))}catch(t){L({type:"error",text:"Ошибка при разблокировке: ".concat(t.message)})}finally{P(!1)}};return t&&z?q.jsxs("div",{className:yn.adminPanel,children:[q.jsxs("h1",{className:yn.title,children:[q.jsx(ee,{size:24})," Панель администратора"]}),l&&q.jsxs("div",{className:yn.error,children:[q.jsx(ne,{size:20,style:{marginRight:"10px"}})," ",l]}),x&&q.jsxs("div",{className:"".concat(yn.message," ").concat(yn[x.type]),children:["success"===x.type&&q.jsx(ie,{size:20,style:{marginRight:"10px"}}),"error"===x.type&&q.jsx(ne,{size:20,style:{marginRight:"10px"}}),"info"===x.type&&q.jsx(V,{size:20,style:{marginRight:"10px"}}),x.text]}),q.jsxs("div",{className:yn.eventsSection,children:[q.jsxs("h2",{children:[q.jsx(Be,{size:18})," События сайта"]}),I?q.jsxs("div",{className:yn.loader,children:[q.jsx(re,{size:24})," Загрузка настроек событий..."]}):q.jsx("div",{className:yn.eventsList,children:q.jsxs("div",{className:yn.eventItem,children:[q.jsxs("div",{className:yn.eventInfo,children:[q.jsx("h3",{children:'Привилегия "Ранний пользователь"'}),q.jsx("p",{children:'Автоматически выдает привилегию "Ранний пользователь" всем новым пользователям при регистрации.'}),q.jsxs("p",{children:[q.jsx("strong",{children:"Статус:"})," ",E.earlyUserPromotion?"Активно":"Неактивно"]})]}),q.jsxs("button",{className:"".concat(yn.eventToggle," ").concat(E.earlyUserPromotion?yn.active:""),onClick:()=>toggleSiteEvent("earlyUserPromotion"),disabled:I,children:[E.earlyUserPromotion?q.jsx(Ie,{size:24}):q.jsx(Oe,{size:24}),E.earlyUserPromotion?"Выключить":"Включить"]})]})})]}),q.jsxs("div",{className:yn.content,children:[q.jsxs("div",{className:yn.usersSection,children:[q.jsxs("h2",{children:[q.jsx(Ae,{size:18})," Список пользователей"]}),r?q.jsxs("div",{className:yn.loader,children:[q.jsx(re,{size:24})," Загрузка пользователей..."]}):q.jsx("div",{className:yn.usersList,children:0===n.length?q.jsx("div",{className:yn.emptyList,children:"Пользователи не найдены"}):q.jsx("table",{children:q.jsx("tbody",{children:n.map((e=>q.jsxs("tr",{className:d&&d.id===e.id?yn.selectedUser:"",onClick:()=>{"igoraor79@gmail.com"!==e.email||"igoraor79@gmail.com"===t.email?D(e):L({type:"warning",text:"Этот пользователь защищен от редактирования другими администраторами"})},children:[q.jsx("td",{children:q.jsx("div",{className:yn.userAvatar,children:q.jsx("img",{src:e.avatar||"data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2240%22%20height%3D%2240%22%20viewBox%3D%220%200%2040%2040%22%3E%3Crect%20width%3D%2240%22%20height%3D%2240%22%20fill%3D%22%23ddd%22%2F%3E%3Ctext%20x%3D%2250%25%22%20y%3D%2250%25%22%20font-size%3D%2220%22%20text-anchor%3D%22middle%22%20dy%3D%22.3em%22%20fill%3D%22%23555%22%3E%3F%3C%2Ftext%3E%3C%2Fsvg%3E",alt:e.displayName})})}),q.jsx("td",{children:q.jsxs("div",{className:yn.userInfo,children:[q.jsx("span",{className:yn.userName,children:e.displayName}),q.jsx("span",{className:yn.userEmail,children:e.email}),"igoraor79@gmail.com"===e.email&&q.jsx("span",{className:yn.protectedUser,children:"Защищенный аккаунт"}),e.is_banned&&q.jsx("span",{className:yn.bannedUser,children:"Заблокирован"})]})}),q.jsx("td",{children:e.activePerk&&q.jsxs("span",{className:"".concat(yn.perk," ").concat(yn[e.activePerk]),children:["early_user"===e.activePerk&&"Ранний пользователь","sponsor"===e.activePerk&&"Спонсор","admin"===e.activePerk&&"Администратор","user"===e.activePerk&&"Пользователь"]})}),q.jsx("td",{children:q.jsxs("div",{className:yn.userActions,children:[q.jsx("button",{className:yn.editUserButton,onClick:a=>{a.stopPropagation(),"igoraor79@gmail.com"!==e.email||"igoraor79@gmail.com"===t.email?D(e):L({type:"warning",text:"Этот пользователь защищен от редактирования другими администраторами"})},disabled:"igoraor79@gmail.com"===e.email&&"igoraor79@gmail.com"!==t.email,children:q.jsx(le,{size:16})}),q.jsx("button",{className:yn.banUserButton,onClick:t=>{t.stopPropagation(),"igoraor79@gmail.com"!==e.email?e.is_banned?U(e.id):(b(e),y(!0)):L({type:"warning",text:"Этот пользователь защищен от блокировки"})},disabled:"igoraor79@gmail.com"===e.email,title:e.is_banned?"Разблокировать пользователя":"Заблокировать пользователя",children:q.jsx(ce,{size:16,color:e.is_banned?"#e74c3c":"#666"})})]})})]},e.id)))})})})]}),q.jsxs("div",{className:yn.editSection,children:[q.jsxs("h2",{children:[q.jsx(le,{size:18})," Редактирование профиля"]}),d&&u?q.jsxs("form",{className:yn.editForm,onSubmit:async e=>{e.preventDefault();try{o(!0);let e=!1;if(_.displayName!==d.displayName){const{error:t}=await va.from("profiles").update({display_name:_.displayName}).eq("id",d.id);if(t)throw new Error("Ошибка при обновлении имени: ".concat(t.message));e=!0}if(JSON.stringify(_.perks)!==JSON.stringify(d.perks)&&(await(async(e,t)=>{try{const{data:s,error:n}=await va.from("profiles").select("*").eq("id",e).single();if(n)throw new Error("Не удалось получить профиль: ".concat(n.message));let i=["user"];t.includes("early_user")&&i.push("early_user"),t.includes("sponsor")&&i.push("sponsor"),t.includes("admin")&&i.push("admin");let r=s.active_perk;if(i.includes(r)||(r=i[0]),(await va.from("profiles").update({perks:i,active_perk:r,updated_at:(new Date).toISOString()}).eq("id",e)).error)try{const{error:t}=await va.rpc("admin_update_privileges",{user_id:e,privileges:i});if(t)throw new Error("Ошибка при обновлении привилегий через RPC: ".concat(t.message));{const{error:t}=await va.from("profiles").update({active_perk:r}).eq("id",e)}}catch(a){const t=JSON.stringify(i),{error:s}=await va.from("profiles").update({raw_perks:t,special_update:!0,updated_at:(new Date).toISOString()}).eq("id",e);if(s)throw s}const{data:o,error:l}=await va.from("profiles").select("*").eq("id",e).single();return l||(JSON.stringify(o.perks.sort()),JSON.stringify(i.sort())),!0}catch(s){throw s}})(d.id,_.perks),e=!0),!e)return L({type:"info",text:"Нет изменений для сохранения"}),void o(!1);await A(),t&&t.id===d.id&&a(),L({type:"success",text:"Профиль пользователя успешно обновлен"}),setTimeout((()=>{p(!1),m(null)}),2e3)}catch(s){L({type:"error",text:s.message})}finally{o(!1)}},children:[q.jsxs("div",{className:yn.formGroup,children:[q.jsxs("label",{htmlFor:"displayName",children:[q.jsx(W,{size:18})," Отображаемое имя:"]}),q.jsx("input",{type:"text",id:"displayName",name:"displayName",value:_.displayName,onChange:T,placeholder:"Введите имя пользователя"})]}),q.jsxs("div",{className:yn.formGroup,children:[q.jsxs("label",{htmlFor:"email",children:[q.jsx($,{size:18})," Email:"]}),q.jsx("input",{type:"email",id:"email",name:"email",value:_.email,onChange:T,placeholder:"Введите email"})]}),q.jsxs("div",{className:yn.formGroup,children:[q.jsxs("label",{htmlFor:"password",children:[q.jsx(De,{size:18})," Пароль (оставьте пустым, чтобы не менять):"]}),q.jsx("input",{type:"password",id:"password",name:"password",value:_.password,onChange:T,placeholder:"Новый пароль"})]}),q.jsxs("div",{className:yn.formGroup,children:[q.jsxs("label",{children:[q.jsx(se,{size:18})," Привилегии:"]}),q.jsxs("div",{className:yn.perksOptions,children:[q.jsxs("div",{className:"".concat(yn.perkOption," ").concat(yn.basePerk),children:[q.jsx("input",{type:"checkbox",id:"perk-user",checked:!0,disabled:!0,readOnly:!0}),q.jsxs("label",{htmlFor:"perk-user",className:yn.baseLabel,children:["Пользователь ",q.jsx("span",{className:yn.baseNote,children:"(базовая привилегия)"})]})]}),q.jsxs("div",{className:yn.perkOption,children:[q.jsx("input",{type:"checkbox",id:"perk-early_user",checked:_.perks.includes("early_user"),onChange:()=>F("early_user")}),q.jsx("label",{htmlFor:"perk-early_user",children:"Ранний пользователь"})]}),q.jsxs("div",{className:yn.perkOption,children:[q.jsx("input",{type:"checkbox",id:"perk-sponsor",checked:_.perks.includes("sponsor"),onChange:()=>F("sponsor")}),q.jsx("label",{htmlFor:"perk-sponsor",children:"Спонсор"})]}),q.jsxs("div",{className:yn.perkOption,children:[q.jsx("input",{type:"checkbox",id:"perk-admin",checked:_.perks.includes("admin"),onChange:()=>F("admin")}),q.jsx("label",{htmlFor:"perk-admin",children:"Администратор"})]})]})]}),q.jsxs("div",{className:yn.formActions,children:[q.jsxs("button",{type:"button",className:yn.cancelButton,onClick:()=>p(!1),children:[q.jsx(R,{size:18})," Отмена"]}),q.jsxs("button",{type:"submit",className:yn.saveButton,disabled:r,children:[r?q.jsx(re,{size:18}):q.jsx(de,{size:18})," Сохранить"]})]})]}):q.jsx("div",{className:yn.noUserSelected,children:r?q.jsxs("div",{className:yn.loader,children:[q.jsx(re,{size:24})," Загрузка данных..."]}):q.jsxs("p",{children:[q.jsx(W,{size:64}),q.jsx("br",{}),"Выберите пользователя из списка слева, чтобы редактировать"]})})]})]}),f&&q.jsx("div",{className:yn.modalOverlay,children:q.jsxs("div",{className:yn.banDialog,children:[q.jsxs("div",{className:yn.banDialogHeader,children:[q.jsx("h3",{children:j.is_banned?"Управление блокировкой":"Блокировка пользователя"}),q.jsx("button",{className:yn.closeButton,onClick:()=>y(!1),children:q.jsx(R,{})})]}),q.jsx("div",{className:yn.banDialogContent,children:j.is_banned?q.jsxs("div",{className:yn.currentBanInfo,children:[q.jsxs("p",{children:["Пользователь ",q.jsx("strong",{children:j.displayName})," в настоящее время заблокирован."]}),q.jsxs("button",{className:yn.unbanButton,onClick:()=>U(j.id),disabled:C,children:[C?q.jsx(re,{size:16}):q.jsx(oe,{size:16})," Разблокировать пользователя"]})]}):q.jsxs("form",{onSubmit:async e=>{if(e&&e.preventDefault(),j&&k.trim()&&N)try{P(!0);let e=null;if("permanent"!==N)switch(e=new Date,N){case"30m":e.setMinutes(e.getMinutes()+30);break;case"2h":e.setHours(e.getHours()+2);break;case"6h":e.setHours(e.getHours()+6);break;case"12h":e.setHours(e.getHours()+12);break;case"1d":e.setDate(e.getDate()+1);break;case"3d":e.setDate(e.getDate()+3);break;case"1w":case"7d":e.setDate(e.getDate()+7);break;case"24h":e.setHours(e.getHours()+24);break;default:e=null}const a={user_id:j.id,admin_id:t.id,admin_name:t.displayName,reason:k.trim(),created_at:(new Date).toISOString(),end_at:e?e.toISOString():null,is_active:!0,ban_type:N},{error:s}=await va.from("user_bans").insert(a);if(s)throw new Error("Ошибка при сохранении бана: ".concat(s.message));const{data:n,error:i}=await va.from("user_bans").select("*").eq("user_id",j.id).eq("is_active",!0).order("created_at",{ascending:!1}).limit(1);i||n&&n.length;const r={is_banned:!0,ban_reason:k.trim(),ban_end_at:e?e.toISOString():null,ban_admin_id:t.id,ban_admin_name:t.displayName},{error:o}=await va.from("profiles").update(r).eq("id",j.id),{data:l,error:c}=await va.from("profiles").select("*").eq("id",j.id).single();await A(),L({type:"success",text:"Пользователь ".concat(j.displayName," успешно заблокирован")}),y(!1),w(""),S(""),b(null)}catch(a){L({type:"error",text:"Ошибка при блокировке: ".concat(a.message)})}finally{P(!1)}},children:[q.jsxs("div",{className:yn.formGroup,children:[q.jsx("label",{htmlFor:"banReason",children:"Причина блокировки:"}),q.jsx("textarea",{id:"banReason",value:k,onChange:e=>w(e.target.value),placeholder:"Укажите причину блокировки пользователя",rows:4,required:!0})]}),q.jsxs("div",{className:yn.formGroup,children:[q.jsx("label",{htmlFor:"banDuration",children:"Длительность блокировки:"}),q.jsxs("select",{id:"banDuration",value:N,onChange:e=>S(e.target.value),required:!0,children:[q.jsx("option",{value:"",children:"Выберите длительность"}),q.jsx("option",{value:"30m",children:"30 минут"}),q.jsx("option",{value:"2h",children:"2 часа"}),q.jsx("option",{value:"6h",children:"6 часов"}),q.jsx("option",{value:"24h",children:"24 часа"}),q.jsx("option",{value:"7d",children:"7 дней"})]})]}),q.jsxs("div",{className:yn.banDialogActions,children:[q.jsxs("button",{type:"button",className:yn.cancelButton,onClick:()=>y(!1),disabled:C,children:[q.jsx(R,{size:16})," Отмена"]}),q.jsxs("button",{type:"submit",className:yn.banButton,disabled:!k.trim()||!N||C,children:[C?q.jsx(re,{size:16}):q.jsx(ce,{size:16})," Заблокировать"]})]})]})})]})})]}):null},bn={resetContainer:"_resetContainer_1iy2b_1",resetCard:"_resetCard_1iy2b_10",resetForm:"_resetForm_1iy2b_24",formGroup:"_formGroup_1iy2b_29",resetButton:"_resetButton_1iy2b_59",message:"_message_1iy2b_80",success:"_success_1iy2b_86",info:"_info_1iy2b_91",error:"_error_1iy2b_96"},kn=()=>{const[e,t]=M.useState(""),[a,s]=M.useState(""),[n,i]=M.useState(!1),[r,o]=M.useState(null),[l,c]=M.useState(""),d=Q();M.useEffect((()=>{const e=window.location.hash.substring(1).split("&").reduce(((e,t)=>{const[a,s]=t.split("=");return e[a]=s,e}),{});if(e.access_token){c(e.access_token);(async()=>{try{const{data:t,error:a}=await va.auth.setSession({access_token:e.access_token,refresh_token:e.refresh_token||""});o(a?{type:"error",text:"Ошибка при аутентификации: "+a.message}:{type:"info",text:"Введите новый пароль"})}catch(t){}})()}else o({type:"error",text:"Ссылка недействительна. Запросите новую ссылку для сброса пароля."})}),[]);return q.jsx("div",{className:bn.resetContainer,children:q.jsxs("div",{className:bn.resetCard,children:[q.jsx("h2",{children:"Сброс пароля"}),r&&q.jsx("div",{className:"".concat(bn.message," ").concat(bn[r.type]),children:r.text}),q.jsxs("form",{onSubmit:async t=>{if(t.preventDefault(),e===a)if(e.length<6)o({type:"error",text:"Пароль должен содержать не менее 6 символов"});else try{i(!0),o({type:"info",text:"Обновление пароля..."});const{data:t,error:a}=await va.auth.updateUser({password:e});if(a)throw a;await va.auth.signOut(),o({type:"success",text:"Пароль успешно обновлен! Переход на страницу входа..."}),setTimeout((()=>{d("/")}),3e3)}catch(s){o({type:"error",text:s.message||"Произошла ошибка при обновлении пароля"})}finally{i(!1)}else o({type:"error",text:"Пароли не совпадают"})},className:bn.resetForm,children:[q.jsxs("div",{className:bn.formGroup,children:[q.jsx("label",{htmlFor:"password",children:"Новый пароль"}),q.jsx("input",{type:"password",id:"password",value:e,onChange:e=>t(e.target.value),required:!0,disabled:n||!l})]}),q.jsxs("div",{className:bn.formGroup,children:[q.jsx("label",{htmlFor:"confirmPassword",children:"Подтвердите пароль"}),q.jsx("input",{type:"password",id:"confirmPassword",value:a,onChange:e=>s(e.target.value),required:!0,disabled:n||!l})]}),q.jsx("button",{type:"submit",className:bn.resetButton,disabled:n||!l,children:n?"Обновление...":"Обновить пароль"})]})]})})};function wn(){var e;const{user:t}=Ia(),[a,s]=M.useState(!1);t&&("igoraor79@gmail.com"===t.email||(null==(e=t.perks)?void 0:e.includes("admin"))||t.activePerk),M.useEffect((()=>{const e=e=>{const t=document.querySelector(".".concat(Zt)),n=document.querySelector(".".concat($t));a&&t&&n&&!t.contains(e.target)&&!n.contains(e.target)&&s(!1)};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}}),[a]);const n=Te();M.useEffect((()=>{a&&s(!1)}),[n.pathname]);const i=()=>{s(!1)};return q.jsxs("div",{className:Mt,children:[q.jsxs("header",{className:Lt,children:[q.jsx(pe,{to:"/",children:q.jsx(ta,{src:"sclogo",alt:"Логотип"})}),q.jsx("h1",{className:Gt,children:"soul cycle"})]}),q.jsxs("nav",{className:Rt,children:[q.jsxs("ul",{className:Vt,children:[q.jsx("li",{className:Wt,children:q.jsx(pe,{to:"/",children:"Главная"})}),q.jsx("li",{className:Wt,children:q.jsx(pe,{to:"/characters",children:"Персонажи"})}),q.jsx("li",{className:Wt,children:q.jsx(pe,{to:"/about",children:"О нас"})})]}),q.jsxs("div",{className:"".concat($t," ").concat(a?Xt:""),onClick:e=>{e.stopPropagation(),s(!a)},children:[q.jsx("div",{className:Yt}),q.jsx("div",{className:Yt}),q.jsx("div",{className:Yt})]}),q.jsx("div",{className:"".concat(Zt," ").concat(a?Xt:""),children:q.jsxs("ul",{className:Qt,children:[q.jsx("li",{className:Kt,children:q.jsx(pe,{to:"/",onClick:i,children:"Главная"})}),q.jsx("li",{className:Kt,children:q.jsx(pe,{to:"/characters",onClick:i,children:"Персонажи"})}),q.jsx("li",{className:Kt,children:q.jsx(pe,{to:"/about",onClick:i,children:"О нас"})})]})}),q.jsx("div",{className:Jt,children:q.jsx(ns,{})})]}),q.jsx(Nn,{})]})}function Nn(){var e;const t=Te(),{user:a}=Ia();return a&&("igoraor79@gmail.com"===a.email||(null==(e=a.perks)?void 0:e.includes("admin"))||a.activePerk),q.jsx(F,{mode:"wait",children:q.jsxs(qe,{location:t,children:[q.jsx(Fe,{path:"/",element:q.jsx(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:q.jsx("div",{className:ea,children:q.jsx(fn,{})})})}),q.jsx(Fe,{path:"/characters",element:q.jsx(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:q.jsx(vt,{})})}),q.jsx(Fe,{path:"/about",element:q.jsx(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:q.jsx(zt,{})})}),q.jsx(Fe,{path:"/profile",element:q.jsx(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:q.jsx(_s,{})})}),q.jsx(Fe,{path:"/profile/:userId",element:q.jsx(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:q.jsx(_s,{})})}),q.jsx(Fe,{path:"/reset-password",element:q.jsx(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:q.jsx(kn,{})})}),q.jsx(Fe,{path:"/admin",element:q.jsx(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:q.jsx(jn,{})})})]},t.pathname)})}const Sn={v:"4.8.0",meta:{g:"LottieFiles AE 1.0.0",a:"Bas Milius",k:"Meteocons, Weather icons, Icon set",d:"Clear day - Meteocons.com",tc:""},fr:60,ip:0,op:360,w:512,h:512,nm:"clear-day",ddd:0,assets:[],layers:[{ddd:0,ind:1,ty:4,nm:"rays",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:0,s:[0]},{t:359,s:[45]}],ix:10},p:{a:0,k:[256,256,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[180,0],[130.345,0]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-130.345,0],[-180,0]],c:!1},ix:2},nm:"Path 2",mn:"ADBE Vector Shape - Group",hd:!1},{ind:2,ty:"sh",ix:3,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[127.279,127.279],[92.168,92.168]],c:!1},ix:2},nm:"Path 3",mn:"ADBE Vector Shape - Group",hd:!1},{ind:3,ty:"sh",ix:4,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-92.168,-92.168],[-127.279,-127.279]],c:!1},ix:2},nm:"Path 4",mn:"ADBE Vector Shape - Group",hd:!1},{ind:4,ty:"sh",ix:5,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-127.279,127.279],[-92.168,92.168]],c:!1},ix:2},nm:"Path 5",mn:"ADBE Vector Shape - Group",hd:!1},{ind:5,ty:"sh",ix:6,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[92.168,-92.168],[127.279,-127.279]],c:!1},ix:2},nm:"Path 6",mn:"ADBE Vector Shape - Group",hd:!1},{ind:6,ty:"sh",ix:7,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[0,180],[0,130.345]],c:!1},ix:2},nm:"Path 7",mn:"ADBE Vector Shape - Group",hd:!1},{ind:7,ty:"sh",ix:8,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[0,-130.345],[0,-180]],c:!1},ix:2},nm:"Path 8",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.984313726425,.749019622803,.141176477075,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:24,ix:5},lc:2,lj:1,ml:10,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1}],ip:0,op:360,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"core",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[256,256,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,-46.392],[46.392,0],[0,46.392],[-46.392,0]],o:[[0,46.392],[-46.392,0],[0,-46.392],[46.392,0]],v:[[84,0],[0,84],[-84,0],[0,-84]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.972549021244,.686274528503,.0941176489,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:6,ix:5},lc:1,lj:1,ml:10,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"gf",o:{a:0,k:100,ix:10},r:1,bm:0,g:{p:5,k:{a:0,k:[0,.984,.749,.141,.225,.984,.749,.141,.45,.984,.749,.141,.725,.973,.684,.092,1,.961,.62,.043],ix:9}},s:{a:0,k:[-41.517,-71.871],ix:5},e:{a:0,k:[42.497,73.645],ix:6},t:1,nm:"Gradient Fill 1",mn:"ADBE Vector Graphic - G-Fill",hd:!1}],ip:0,op:360,st:0,bm:0}],markers:[]},Cn={v:"5.5.8",fr:29.9700012207031,ip:0,op:160.000006516934,w:150,h:150,nm:"icon_moon",ddd:0,assets:[],layers:[{ddd:0,ind:1,ty:4,nm:"moon Outlines",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[77.728,68.567,0],ix:2},a:{a:0,k:[583,600,0],ix:1},s:{a:0,k:[45,45,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,13.612],[-13.612,0],[0,0],[0,4.127],[-13.613,0],[0,0],[0,-13.612],[13.613,0],[0,0],[0,-4.127],[13.613,0]],o:[[-13.612,0],[0,-13.613],[0,0],[-1.971,-3.611],[0,-13.612],[0,0],[13.613,0],[0,13.614],[0,0],[1.971,3.611],[0,13.612],[0,0]],v:[[-57.605,42.935],[-82.292,18.248],[-57.605,-6.44],[-27.961,-6.44],[-30.971,-18.248],[-6.283,-42.935],[57.604,-42.935],[82.292,-18.248],[57.604,6.441],[27.961,6.441],[30.97,18.248],[6.282,42.935]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.733333349228,.96862745285,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[504.292,658.677],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformer "}],nm:"Group 5",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:0,s:[504.291,658.677],to:[-3.333,0],ti:[0,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:40,s:[484.291,658.677],to:[0,0],ti:[0,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:80,s:[504.291,658.677],to:[0,0],ti:[0,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:120,s:[484.291,658.677],to:[0,0],ti:[-3.333,0]},{t:160.000006516934,s:[504.291,658.677]}],ix:2},a:{a:0,k:[480.291,623.677],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformer "}],nm:"c1",np:1,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,7.3],[-7.3,0],[0,0],[0,-7.3],[7.299,0]],o:[[-7.3,0],[0,-7.3],[0,0],[7.299,0],[0,7.3],[0,0]],v:[[-49.017,13.239],[-62.255,.001],[-49.017,-13.238],[49.017,-13.238],[62.255,.001],[49.017,13.239]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.733333349228,.96862745285,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[608.408,572.45],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformer "}],nm:"Group 9",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:0,s:[608.408,572.45],to:[2.361,0],ti:[-5.079,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:33,s:[624.897,572.45],to:[2.092,0],ti:[0,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:40,s:[628.408,572.45],to:[0,0],ti:[0,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:80,s:[608.408,572.45],to:[0,0],ti:[0,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:120,s:[628.408,572.45],to:[0,0],ti:[3.333,0]},{t:160.000006516934,s:[608.408,572.45]}],ix:2},a:{a:0,k:[608.408,548.45],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformer "}],nm:"c2",np:1,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[23.394,0],[0,61.75],[-15.662,19.738],[-24.17,5.763],[2.294,-4.352],[0,-15.361],[-51.493,0],[-11.283,4.614],[1.603,-4.652],[19.108,-13.726]],o:[[-61.75,0],[0,-25.147],[15.552,-19.598],[4.785,-1.142],[-7.101,13.467],[0,51.492],[12.2,0],[4.556,-1.863],[-7.555,21.932],[-19.251,13.829]],v:[[2.221,111.03],[-109.767,-.958],[-85.479,-70.561],[-23.882,-109.888],[-17.49,-101.649],[-28.191,-58.205],[65.193,35.178],[100.583,28.225],[108.163,35.387],[67.407,89.892]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,.831372559071,.352941185236,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[599.388,602.031],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformer "}],nm:"banana",np:2,cix:2,bm:0,ix:3,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,6.708],[-6.708,0],[0,0],[0,0],[1.729,-4.168],[0,0]],o:[[-6.708,0],[0,-6.708],[0,0],[0,0],[-2.247,3.961],[0,0],[0,0]],v:[[-13.228,12.165],[-25.393,0],[-13.228,-12.165],[25.393,-12.165],[20.546,-3.616],[14.555,8.634],[13.089,12.165]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.733333349228,.96862745285,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:0,s:[474.245,549.909],to:[3.333,0],ti:[0,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:40,s:[494.245,549.909],to:[0,0],ti:[0,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:80,s:[474.245,549.909],to:[0,0],ti:[0,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:120,s:[494.245,549.909],to:[0,0],ti:[3.333,0]},{t:160.000006516934,s:[474.245,549.909]}],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformer "}],nm:"Group 14",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[484.245,549.909],ix:2},a:{a:0,k:[475.245,549.909],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformer "}],nm:"c3",np:1,cix:2,bm:0,ix:4,mn:"ADBE Vector Group",hd:!1}],ip:0,op:1798.00007323404,st:0,bm:0}],markers:[]},Pn={themeButton:"_themeButton_x78qx_1"},En=L.memo((()=>{const{theme:e,toggleTheme:t}=M.useContext(lt),[a,s]=M.useState(!1),n=M.useMemo((()=>({animationData:"dark"===e?Sn:Cn,loop:!0,autoplay:!0})),[e]),i=M.useCallback((()=>{a||(t(),s(!0),setTimeout((()=>{s(!1)}),3e3))}),[a,t]);return q.jsx("button",{className:"".concat(Pn.themeButton," ").concat(a?Pn.disabled:""),onClick:i,disabled:a,"aria-label":"dark"===e?"Switch to Light Mode":"Switch to Dark Mode",children:q.jsx(ze,{config:n,speed:1,style:{width:"35px",height:"35px",display:"block"}})})}));function Bn(){const{theme:e}=M.useContext(lt);return M.useEffect((()=>{(()=>{const t=document.documentElement,a="dark"===e?"backgroundblack":"background",s=$e(a,{format:"avif",quality:90}),n=$e(a,{format:"webp",quality:90}),i=$e(a,{format:"jpg",quality:90});t.style.setProperty("--page-bg-avif","url('".concat(s,"')")),t.style.setProperty("--page-bg-webp","url('".concat(n,"')")),t.style.setProperty("--page-bg-jpg","url('".concat(i,"')"))})()}),[e]),q.jsx(Me,{children:q.jsxs("div",{className:Ue,children:[q.jsx(En,{}),q.jsx(wn,{})]})})}En.displayName="ThemeToggleButton";Le.createRoot(document.getElementById("root")).render(q.jsxs(dt,{children:[" ",q.jsxs(Ba,{children:[" ",q.jsx(Bn,{})]})]}));export{T as __vite_legacy_guard};
