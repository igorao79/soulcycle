System.register(["../chunks/vendor-react-legacy.CFa3Eyxk.js"],(function(e,t){"use strict";var r,a,o,i,s,n,l,d,c,_,p,m,u,x,g,h,b,f,y,v,k,w,j,N,z,q,B,C,S,P,I,O,A,$,E,T,F,G,M,D,L,R,H,U,W,V,Y,J,X,Z,Q,K,ee;return{setters:[e=>{r=e.j,a=e.A,o=e.m,i=e.r,s=e.R,n=e.a,l=e.c,d=e.F,c=e.b,_=e.d,p=e.e,m=e.f,u=e.g,x=e.u,g=e.h,h=e.i,b=e.k,f=e.l,y=e.n,v=e.o,k=e.p,w=e.q,j=e.s,N=e.t,z=e.L,q=e.v,B=e.w,C=e.x,S=e.y,P=e.z,I=e.B,O=e.C,A=e.D,$=e.E,E=e.G,T=e.H,F=e.I,G=e.Z,M=e.J,D=e.K,L=e.M,R=e.N,H=e.O,U=e.P,W=e.Q,V=e.S,Y=e.T,J=e.U,X=e.V,Z=e.W,Q=e.X,K=e.Y,ee=e._}],execute:function(){var e=document.createElement("style");e.textContent='@charset "UTF-8";:root{--font-base: "graphr", sans-serif;--font-bold: "graphb", sans-serif;--text-color: #000;--text-primary: #222222;--text-secondary: #555555;--text-tertiary: #888888;--background-color: #fff;--background-color2: #f2f2f2;--bg-highlight: #f5f8fa;--bg-secondary: #f8f9fa;--bg-input: #ffffff;--border-color: #ddd;--border-color2: white;--border: #e1e8ed;--accent-color: #555555;--accent: #555555;--accent-rgb: 32, 178, 170;--accent-light: rgba(32, 178, 170, .1);--accent-hover: #555555;--success: #34d399;--success-rgb: 52, 211, 153;--warning: #fbbf24;--warning-rgb: 251, 191, 36;--error: #f87171;--error-rgb: 248, 113, 113;--error-light: rgba(248, 113, 113, .1);--info: #60a5fa;--info-rgb: 96, 165, 250;--overlay-color: rgba(0, 0, 0, .5);--shadow: 0 2px 8px rgba(0, 0, 0, .1);--shadow-hover: 0 5px 15px rgba(0, 0, 0, .15);--modal-bg: #ffffff;--modal-bg-rgb: 255, 255, 255;--modal-bg-end-rgb: 240, 240, 240;--modal-border: rgba(0, 0, 0, .15);--input-bg: #f8f8f8;--svg-color: %23000000;--gradient-start: #333333;--gradient-end: #666666;--page-bg-avif: url(/soulcycle/pics/background.avif);--page-bg-webp: url(/soulcycle/pics/background.webp);--page-bg-jpg: url(/pics/background.jpg);--transition-fast: .2s ease;--transition-normal: .3s ease;--transition-slow: .5s ease;--radius-sm: 4px;--radius-md: 8px;--radius-lg: 12px;--radius-xl: 16px;--radius-full: 9999px;--scrollbar-width: 8px;--scrollbar-track: #f1f1f1;--scrollbar-thumb: #c1c1c1;--scrollbar-thumb-hover: #a1a1a1}[data-theme=dark]{--text-color: #e0e0e0;--text-primary: #e0e0e0;--text-secondary: #b0b0b0;--text-tertiary: #808080;--background-color: #1e1e1e;--background-color2: #333333;--bg-highlight: #2a2a2a;--bg-secondary: #292929;--bg-input: #252525;--border-color: #555;--border-color2: black;--border: rgba(255, 255, 255, .1);--accent-color: #333333;--accent: #333333;--accent-rgb: 187, 134, 252;--accent-light: rgba(187, 134, 252, .1);--accent-hover: #333333;--overlay-color: rgba(255, 255, 255, .5);--shadow: 0 2px 8px rgba(0, 0, 0, .3);--shadow-hover: 0 5px 15px rgba(0, 0, 0, .4);--modal-bg: #2a2a2a;--modal-bg-rgb: 42, 42, 42;--modal-bg-end-rgb: 60, 60, 65;--modal-border: rgba(255, 255, 255, .2);--input-bg: #222222;--svg-color: %23ffffff;--gradient-start: #ffffff;--gradient-end: #a0a0a0;--page-bg-avif: url(/soulcycle/pics/backgroundblack.avif);--page-bg-webp: url(/soulcycle/pics/backgroundblack.webp);--page-bg-jpg: url(/soulcycle/pics/backgroundblack.jpg);--scrollbar-track: #2a2a2a;--scrollbar-thumb: #444444;--scrollbar-thumb-hover: #555555}::-webkit-scrollbar{width:var(--scrollbar-width);height:var(--scrollbar-width)}::-webkit-scrollbar-track{background:var(--scrollbar-track);border-radius:var(--radius-full)}::-webkit-scrollbar-thumb{background:var(--scrollbar-thumb);border-radius:var(--radius-full)}::-webkit-scrollbar-thumb:hover{background:var(--scrollbar-thumb-hover)}*{scrollbar-width:thin;scrollbar-color:var(--scrollbar-thumb) var(--scrollbar-track)}*,*:after,*:before{padding:0;margin:0;box-sizing:border-box}html,body{font-size:10px;color:var(--text-color);background-color:var(--background-color);font-family:var(--font-base)}h1,h2,h3,h4,h5,h6{font-family:var(--font-bold);color:var(--text-primary)}._page_1gdlo_174{max-width:2000px;min-height:100vh;display:flex;align-items:center;justify-content:center;margin:0 auto;background-color:var(--background-color);background-image:var(--page-bg-jpg);background-size:contain;position:relative;transition:background-color var(--transition-slow);overflow:hidden;background-attachment:fixed}@supports (background-image: url(/pics/test.avif)){._page_1gdlo_174{background-image:var(--page-bg-avif)}}@supports not (background-image: url(/pics/test.avif)){@supports (background-image: url(/pics/test.webp)){._page_1gdlo_174{background-image:var(--page-bg-webp)}}}img{vertical-align:top}button{border:none;cursor:pointer;transition:all var(--transition-fast)}a{text-decoration:none;color:var(--accent);transition:color var(--transition-fast)}._card_1gdlo_223{background-color:var(--bg-secondary);border-radius:var(--radius-md);box-shadow:var(--shadow);padding:20px;border:1px solid var(--border);transition:all var(--transition-fast)}._btn_1gdlo_232{display:inline-flex;align-items:center;justify-content:center;padding:8px 16px;border-radius:var(--radius-md);font-size:14px;font-weight:500;transition:all var(--transition-fast)}._btn-primary_1gdlo_243{background-color:var(--accent);color:#fff}._btn-primary_1gdlo_243:hover{background-color:var(--accent-hover)}._btn-secondary_1gdlo_252{background-color:var(--bg-highlight);color:var(--text-primary);border:1px solid var(--border)}._btn-secondary_1gdlo_252:hover{background-color:var(--background-color2)}@font-face{font-family:graphb;src:url(/soulcycle/assets/fonts/GraphikLCG-Bold.oGnNkPcM.woff2) format("woff2");font-weight:700;font-style:normal;font-display:swap}@font-face{font-family:graphr;src:url(/soulcycle/assets/fonts/GraphikLCG-Regular.BteGvBxa.woff2) format("woff2");font-weight:400;font-style:normal;font-display:swap}._text-animation_1gdlo_282{display:inline-block}._text-animation_1gdlo_282 span{display:inline-block;opacity:0;transform:translateY(20px);animation:_fadeIn_1gdlo_1 .5s ease forwards}._text-animation-slow_1gdlo_293 span{animation:_fadeIn_1gdlo_1 1.2s ease forwards}@keyframes _fadeIn_1gdlo_1{to{opacity:1;transform:translateY(0)}}._window_168ys_2{height:75vh;position:relative;background-color:var(--background-color);border-radius:5px;display:flex;align-items:center;overflow:hidden;transition:width .3s,height .3s}._window__message_168ys_12{position:absolute;left:35%;top:50%;text-transform:uppercase;color:var(--text-color)}._window__message_168ys_12 h2{font-size:clamp(3rem,3vw,3rem)}._window__panel_168ys_22{position:absolute;min-height:80vh;max-width:200px!important;display:flex;flex-direction:column;align-items:center;justify-content:center;border-right:2px solid var(--border-color);z-index:5;background-color:var(--background-color)}._window__panel__iconWrapper_168ys_34{display:flex;flex-direction:column;gap:50px}._window__panel__navButtons_168ys_39{display:flex;flex-direction:column;gap:20px}._window__panel__navButtons__navButton_168ys_44{background:none;border:none;color:var(--text-color)}._window__panel__navButtons__navButton__arrow_168ys_49{background:none;border:none;fill:var(--text-color)}._window__message_168ys_12{display:flex;align-items:center;justify-content:center}._disabled_168ys_60{fill:#a9a9a9;opacity:.5;pointer-events:none}@media only screen and (max-width: 760px){._window_168ys_2{top:-20px;flex-direction:column;max-width:93%;height:85vh}._window__panel_168ys_22{position:absolute;rotate:90deg;gap:20px;top:-42.5%}._window__panel__iconWrapper_168ys_34,._window__panel__navButtons_168ys_39{gap:10px}._window__message_168ys_12{left:5%;font-size:2.5rem}}._menu_15kr5_2{width:100%;height:100%;display:flex;align-items:center;justify-content:center;gap:7%;background-color:#fffefe;position:relative;z-index:1;overflow:hidden}._menu__left_15kr5_14{max-width:500px;min-height:100px;display:flex;flex-direction:column;gap:100px;align-items:center;justify-content:center;aspect-ratio:1/1}._menu__left__pic_15kr5_24{max-width:500px;min-height:70px;aspect-ratio:1/1}._menu__left__pic_15kr5_24 img{width:100%;height:100%;object-fit:contain;display:block}._menu__right_15kr5_35{max-width:500px;min-height:100px;display:flex;flex-direction:column;gap:60px;padding:20px 80px;align-items:center;justify-content:center;background-color:#fff;border-radius:10px;border:2px solid black}[data-theme=dark] ._menu__right_15kr5_35{background-color:#000;border:2px solid white}._menu__right__titleblock_15kr5_52{width:100%;display:flex;flex-direction:column;gap:50px;align-items:center;justify-content:center}._menu__right__titleblock__fullname_15kr5_60{font-size:2rem}._menu__right__titleblock__maininfo_15kr5_63{display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:1.8rem;gap:10px}._menu__right__lore_15kr5_71{font-size:1.6rem;max-width:120px;min-height:30px;padding:20px 10px}._menu_15kr5_2[id=faust]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-image:url(/soulcycle/pics/char/backgrounds/faustb.svg);z-index:-1;filter:blur(2.5px)}[data-theme=dark] ._menu_15kr5_2[id=faust]:before{background-image:url(/soulcycle/pics/char/backgrounds/faustb-black.svg)}._menu_15kr5_2[id=lonarius]:before{content:"";position:absolute;width:100%;height:100%;background-image:url(/soulcycle/pics/char/backgrounds/lonariusb.svg);background-repeat:no-repeat;background-position:center;background-size:cover;z-index:-1;filter:blur(1.5px)}[data-theme=dark] ._menu_15kr5_2[id=lonarius]:before{background-image:url(/soulcycle/pics/char/backgrounds/lonariusb-black.svg);background-size:cover}._menu_15kr5_2[id=vivian]:before{content:"";position:absolute;width:100%;height:100%;background-image:url(/soulcycle/pics/char/backgrounds/vivianb.svg);z-index:-1;filter:blur(1.5px)}[data-theme=dark] ._menu_15kr5_2[id=vivian]:before{content:"";background-image:url(/soulcycle/pics/char/backgrounds/vivianb-black.svg);position:absolute;width:100%;height:100%;z-index:-1;filter:blur(1.5px)}._menu_15kr5_2[id=akito]:before{content:"";position:absolute;width:100%;height:100%;background-image:url(/soulcycle/pics/char/backgrounds/akitob2.svg);background-color:#fff;background-repeat:no-repeat;background-position:center;background-size:cover;z-index:-1;filter:blur(1.5px)}[data-theme=dark] ._menu_15kr5_2[id=akito]:before{content:"";background-image:url(/soulcycle/pics/char/backgrounds/akitob2.svg);position:absolute;width:100%;height:100%;z-index:-1;filter:blur(1.5px)}@media only screen and (max-width: 760px){._menu_15kr5_2{flex-direction:column;gap:50px}._menu__left_15kr5_14{max-width:320px!important;padding-top:40px}._menu__right_15kr5_35{max-width:300px!important;padding:20px;gap:20px}._menu__right__titleblock_15kr5_52{gap:20px}}@media (min-width: 761px) and (max-width: 1024px) and (orientation: portrait){._menu_15kr5_2{flex-direction:column}._menu__left_15kr5_14{max-width:500px!important;padding-top:40px;padding-left:3%}._menu__right_15kr5_35{max-width:350px!important;padding:20px 40px;gap:20px}._menu__right__titleblock_15kr5_52{gap:20px}}._button_1jwbf_1{position:relative;transition:all .3s ease-in-out;box-shadow:0 10px 20px rgba(0,0,0,.2);padding-block:.5rem;padding-inline:1.25rem;background-color:#000;border-radius:9999px;display:flex;align-items:center;justify-content:center;cursor:pointer;color:#fff!important;gap:10px;font-weight:700;border:3px solid rgba(255,255,255,.3019607843);outline:none;overflow:hidden;font-size:15px}._button_1jwbf_1:hover{transform:scale(1.05);border-color:rgba(255,255,255,.6)}._button_1jwbf_1:before{content:"";position:absolute;width:100px;height:100%;background-image:linear-gradient(120deg,rgba(255,255,255,0) 30%,rgba(255,255,255,.8),rgba(255,255,255,0) 70%);top:0;left:-100px;opacity:.6}._button_1jwbf_1:hover:before{animation:_shine_1jwbf_1 1.5s ease-out infinite}._icon_1jwbf_39{width:24px;height:24px;transition:all .3s ease-in-out}._button_1jwbf_1:hover ._icon_1jwbf_39{transform:translate(4px)}@keyframes _shine_1jwbf_1{0%{left:-100px}60%{left:100%}to{left:100%}}._modalOverlay_1iw7e_2{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.5);display:flex;justify-content:center;align-items:center;z-index:1000;padding:5px}._modalOverlay__content_1iw7e_15{background-color:var(--background-color);color:var(--text-color);padding:20px;border-radius:8px;max-width:1100px;width:100%;position:relative;z-index:1001;display:flex;flex-direction:column;align-items:center;border:2px solid var(--border-color)}._modalOverlay__closeButton_1iw7e_29{position:absolute;top:10px;right:10px;background:none;border:none;cursor:pointer;transition:.4s ease;fill:var(--text-color)}._modalOverlay__closeButton_1iw7e_29:hover{fill:red}._modalOverlay__textContent_1iw7e_42{display:flex;flex-direction:column;align-items:center;gap:30px}._modalOverlay__navigation_1iw7e_48{display:flex;justify-content:space-between;align-items:center;width:100%}._modalOverlay__arrowRight_1iw7e_54,._modalOverlay__arrowLeft_1iw7e_54{position:absolute;bottom:2%;font-size:3rem;background:none;fill:var(--text-color)}._modalOverlay__arrowRight_1iw7e_54{right:2%}._modalOverlay__arrowLeft_1iw7e_54{left:2%}._modalOverlay__title_1iw7e_67{text-transform:uppercase;font-size:2rem;color:var(--text-color);position:relative}._modalOverlay__title_1iw7e_67:after{content:"";display:block;width:100%;height:4px;background:var(--border-color);position:absolute;bottom:-5px;left:0;transform:scaleX(0);animation:_appear_1iw7e_1 .5s forwards;animation-delay:.2s}._modalOverlay__textBlock_1iw7e_86{min-height:500px}._modalOverlay__textBlock__textCont_1iw7e_89{display:flex;flex-direction:column;gap:20px;font-size:1.65rem;line-height:110%;color:var(--text-color);transition:opacity .3s ease-in-out}._modalOverlay__textBlock__textCont_1iw7e_89 span{filter:blur(4px)}._modalOverlay__textBlock__textCont_1iw7e_89 blockquote{color:var(--accent-color)}._modalOverlay__pageIndicator_1iw7e_104{font-size:1.5rem;color:var(--text-color);position:absolute;bottom:3%}@keyframes _appear_1iw7e_1{to{transform:scaleX(1)}}._fadeIn_1iw7e_116{opacity:1}._fadeOut_1iw7e_120{opacity:0}._disabled_1iw7e_124{fill:#a9a9a9;opacity:.5;pointer-events:none}@media only screen and (max-width: 760px){._modalOverlay__textContent_1iw7e_42{min-height:650px}}._btn_2wi9v_2{max-width:78px;min-height:78px;display:flex;align-items:center;justify-content:center;background-color:var(--background-color);aspect-ratio:1;background:none;border:none;cursor:pointer;padding:0;transition:transform .2s ease}._btn_2wi9v_2:hover{transform:scale(1.1)}._btn__pic_2wi9v_19{width:100%;height:100%;display:block;transition:filter .3s ease}._btn__pic_2wi9v_19 img{width:100%;height:100%;object-fit:contain}._btn__pic_2wi9v_19._darkTheme_2wi9v_30{filter:invert(1) brightness(1.5)}hr{height:3px;background-color:var(--border-color)}._icon_2wi9v_39 img{content:attr(data-light)}[data-theme=dark] ._icon_2wi9v_39 img{content:attr(data-dark)}@media only screen and (max-width: 760px){._btn_2wi9v_2{rotate:270deg;max-width:60px;min-height:60px}}._aboutblock_16ydj_2{max-width:100%;min-height:500px;background-color:var(--background-color);color:var(--text-color);display:flex;align-items:center;justify-content:center;flex-direction:column;gap:30px;border-radius:5px;padding:2%}._aboutblock__header_16ydj_15{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:10px}._aboutblock__header__htitle_16ydj_22{font-family:graphb;font-size:clamp(2rem,2vw,3rem);color:var(--text-color)}._aboutblock__header__textblock_16ydj_27{width:100%;display:flex;flex-direction:column;gap:10px;align-items:center;justify-content:center;font-size:clamp(1.4rem,.9vw,3rem);position:relative;color:var(--text-color)}._aboutblock__header__textblock__text_16ydj_38{display:flex;align-items:center;justify-content:center;gap:5px}._aboutblock__header__textblock__text__icon_16ydj_44{transform:translateY(-5px)}._aboutblock__header__textblock__text__icon__main_16ydj_47{animation:_wiggle_16ydj_1 1.5s infinite ease-in-out;transform-origin:center}._aboutblock__header__textblock__text__icon__small_16ydj_51{animation:_float_16ydj_1 2s infinite ease-in-out;transform-origin:center}._aboutblock__main_16ydj_55{width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:20px}._aboutblock__main__btitle_16ydj_63,._aboutblock__main__dtitle_16ydj_63{font-family:graphb;font-size:clamp(2rem,2vw,3rem);color:var(--text-color)}._aboutblock__main__authors_16ydj_68,._aboutblock__main__developers_16ydj_68{width:100%;display:flex;gap:10%;border:1px solid var(--border-color);background-color:var(--background-color);color:var(--text-color)}@keyframes _float_16ydj_1{0%,to{transform:translate(0)}50%{transform:translate(2px,-2px)}}@keyframes _wiggle_16ydj_1{0%,to{transform:rotate(0)}50%{transform:rotate(2deg)}}._member_1dq4u_2{position:relative;display:flex;align-items:center;padding:20px;border:1px solid var(--border-color);border-radius:15px;width:100%;max-width:300px;min-height:80px;overflow:hidden;background-color:var(--background-color2);transition:all .3s ease;backdrop-filter:blur(10px)}._member_1dq4u_2:hover{transform:translateY(-5px);box-shadow:0 10px 20px rgba(0,0,0,.1)}._member__imageWrapper_1dq4u_21{position:relative;width:60px;height:60px;overflow:hidden;border-radius:50%;background:var(--background-color2)}._member__image_1dq4u_21{width:100%;height:100%;object-fit:cover;border-radius:50%}._member__info_1dq4u_35{display:flex;flex-direction:column;justify-content:center;align-items:flex-start;gap:5px;flex:1;padding-left:20px}._member__info__details_1dq4u_44{display:flex;flex-direction:column;gap:2px}._member__info__details__name_1dq4u_49{font-size:1.4rem;margin:0;color:var(--text-color);position:relative;display:inline-block;font-weight:600;letter-spacing:.5px;width:fit-content}._member__info__details__name_1dq4u_49:after{content:"";position:absolute;bottom:-2px;left:0;width:100%;height:1px;background:var(--text-color);transform:scaleX(0);transform-origin:right;transition:transform .3s ease}._member__info__details__name_1dq4u_49:hover:after{transform:scaleX(1);transform-origin:left}._member__info__details__role_1dq4u_75{font-size:1.2rem;color:var(--text-color);opacity:.8;font-style:italic}._member__info__bio_1dq4u_81{font-size:1.4rem;color:var(--text-color)}._member--igor_1dq4u_85:before{content:"✧";position:absolute;top:10px;right:10px;font-size:1.5rem;color:var(--text-color);opacity:.8;animation:_rotate_1dq4u_1 4s linear infinite}._member--lesya_1dq4u_95:before{content:"♥";position:absolute;top:10px;right:10px;font-size:1.5rem;color:var(--text-color);opacity:.8;animation:_float_1dq4u_1 2s infinite}.dark ._member_1dq4u_2{background-color:var(--background-color2);border-color:var(--border-color);box-shadow:0 5px 15px rgba(0,0,0,.2)}.dark ._member_1dq4u_2:hover{box-shadow:0 10px 25px rgba(0,0,0,.3)}@media (max-width: 768px){._member_1dq4u_2{padding:15px;min-height:70px;max-width:100%}._member__imageWrapper_1dq4u_21{width:50px;height:50px}._member__info_1dq4u_35{padding-left:15px}._member__info__details__name_1dq4u_49{font-size:1.2rem}._member__info__details__role_1dq4u_75{font-size:1rem}._member__info__bio_1dq4u_81{font-size:1.2rem}._member--igor_1dq4u_85:before,._member--lesya_1dq4u_95:before{font-size:1.3rem;top:8px;right:8px}}@media (max-width: 480px){._member_1dq4u_2{padding:12px;min-height:60px}._member__imageWrapper_1dq4u_21{width:45px;height:45px}._member__info_1dq4u_35{padding-left:12px}._member__info__details__name_1dq4u_49{font-size:1.1rem}._member__info__details__role_1dq4u_75{font-size:.9rem}._member__info__bio_1dq4u_81{font-size:1.1rem}._member--igor_1dq4u_85:before,._member--lesya_1dq4u_95:before{font-size:1.2rem;top:6px;right:6px}}@keyframes _float_1dq4u_1{0%,to{transform:translateY(0)}50%{transform:translateY(-5px)}}@keyframes _rotate_1dq4u_1{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _borderRotate_1dq4u_1{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _blink_1dq4u_1{0%,to{opacity:.5}50%{opacity:1}}._button_7ekxc_1{font-family:graphb;background:var(--text-color);color:var(--background-color);font-size:20px;border:none;border-radius:.7em;letter-spacing:.08em;position:relative;display:flex;align-content:center;align-items:center;overflow:hidden;height:2.5em;padding:.35em .92em .35em 2.8em;z-index:1}._button_7ekxc_1 ._icon_7ekxc_21{background:var(--background-color);height:2em;width:2em;border-radius:2em;position:absolute;display:flex;align-items:center;justify-content:center;left:.4em;transition:all .5s}._icon_7ekxc_21 svg{margin-left:.1em;transition:all .5s;color:var(--text-color);width:2.5rem;height:2.5rem;position:absolute;right:18%}._button_7ekxc_1:hover ._icon_7ekxc_21 svg{transform:rotate(360deg);right:40%}._button_7ekxc_1:hover ._icon_7ekxc_21{width:calc(100% - 1.5rem);border-radius:.5em}@media only screen and (max-width: 760px){._button_7ekxc_1{left:-8%;top:94%;scale:.6}}@media (min-width: 761px) and (max-width: 1024px) and (orientation: portrait){._button_7ekxc_1{left:76%;top:93%}}._main_n5hm9_1{max-width:1500px;width:100%;min-height:100vh;background-color:var(--background-color2);display:flex;flex-direction:column;gap:20px;padding:1% 6%}[data-theme=dark] ._main_n5hm9_1{background-color:#141212;border:1px solid white}._main__header_n5hm9_15{max-width:200px;display:flex;gap:10px;align-items:end}._main__header__pic_n5hm9_21{max-width:80px;min-height:80px;aspect-ratio:1;display:flex;align-items:center;justify-content:center;transition:filter .3s ease}._main__header__pic_n5hm9_21 img{width:100%;height:100%;object-fit:contain}._main__header__pic_n5hm9_21._darkTheme_n5hm9_35{filter:invert(.8) brightness(1.5) hue-rotate(180deg)}._main__header__title_n5hm9_38{font-size:2rem;color:var(--text-color)}._main__nav_n5hm9_42{display:flex;justify-content:space-between;align-items:center;position:relative}._main__nav__perexod_n5hm9_48{display:flex;gap:20px;list-style:none;font-size:clamp(2rem,2vw,3rem);font-family:var(--font-bold)}._main__nav__perexod__link_n5hm9_55 a{color:var(--text-color)}._main__nav__auth_n5hm9_58{display:flex;align-items:center}._main__nav__burger_n5hm9_62{display:none;flex-direction:column;justify-content:space-between;width:30px;height:25px;cursor:pointer;z-index:1001;padding:0;background:none;border:none;transition:all .3s ease}._main__nav__burger__line_n5hm9_75{width:100%;height:2px;background:var(--text-color, #333);transition:all .3s cubic-bezier(.4,0,.2,1);transform-origin:left center}[data-theme=light] ._main__nav__burger__line_n5hm9_75{background:#333}[data-theme=dark] ._main__nav__burger__line_n5hm9_75{background:#fff}._main__nav__burger_n5hm9_62._open_n5hm9_88 ._main__nav__burger__line_n5hm9_75:first-child{transform:rotate(45deg)}._main__nav__burger_n5hm9_62._open_n5hm9_88 ._main__nav__burger__line_n5hm9_75:nth-child(2){opacity:0}._main__nav__burger_n5hm9_62._open_n5hm9_88 ._main__nav__burger__line_n5hm9_75:last-child{transform:rotate(-45deg)}._main__nav__mobile_n5hm9_97{position:fixed;top:0;right:-100%;width:80%;max-width:300px;height:100vh;background:var(--bg-primary);z-index:1000;padding:80px 20px 20px;transition:right .3s cubic-bezier(.4,0,.2,1);box-shadow:-5px 0 15px rgba(0,0,0,.1);border-left:1px solid var(--border)}[data-theme=dark] ._main__nav__mobile_n5hm9_97{background:#1e1e23;border-left:1px solid rgba(255,255,255,.1);box-shadow:-5px 0 15px rgba(0,0,0,.3)}._main__nav__mobile_n5hm9_97._open_n5hm9_88{right:0}._main__nav__mobile__list_n5hm9_119{list-style:none;padding:0;margin:0}._main__nav__mobile__list__item_n5hm9_124{margin-bottom:15px}._main__nav__mobile__list__item_n5hm9_124 a{display:block;padding:12px 15px;color:var(--text-primary);text-decoration:none;font-size:16px;border-radius:8px;transition:all .2s ease}._main__nav__mobile__list__item_n5hm9_124 a:hover{background:var(--bg-highlight);color:var(--accent)}@media (max-width: 768px){._main_n5hm9_1{padding:1% 4%}._main__nav__perexod_n5hm9_48{display:none}._main__nav__burger_n5hm9_62{display:flex;margin-right:10px}._main__nav__auth_n5hm9_58{margin-left:auto}}._characters_n5hm9_156{display:flex;justify-content:center;align-items:center;width:100%}._homepage_n5hm9_163{max-width:800px;margin:0 auto;padding:20px}._loading_n5hm9_169,._error_n5hm9_169{display:flex;justify-content:center;align-items:center;height:200px;font-size:18px;color:var(--text-primary)}._error_n5hm9_169{color:#e74c3c}._postsList_n5hm9_182{display:flex;flex-direction:column;gap:20px}._postCard_n5hm9_188{background-color:var(--bg-secondary);border-radius:8px;padding:20px;box-shadow:0 2px 10px rgba(0,0,0,.1)}._postTitle_n5hm9_195{font-size:22px;margin-bottom:10px;color:var(--text-primary)}._postMeta_n5hm9_201{display:flex;justify-content:space-between;margin-bottom:15px;font-size:14px;color:var(--text-secondary)}._postImage_n5hm9_209{margin-bottom:15px}._postImage_n5hm9_209 img{width:100%;max-height:400px;object-fit:cover;border-radius:4px}._postContent_n5hm9_219{color:var(--text-primary);line-height:1.5;white-space:pre-wrap}._noPostsMessage_n5hm9_225{text-align:center;color:var(--text-secondary);padding:40px 0}._perkBase_zmtxl_18{font-weight:600!important;font-size:inherit!important;line-height:inherit!important;font-family:inherit!important;letter-spacing:inherit!important;display:inline-block!important}._sponsorPerk_zmtxl_27{color:var(--sponsor-color)!important;text-shadow:0 0 5px var(--sponsor-shadow-color)!important}._earlyUserPerk_zmtxl_33{color:var(--early-user-color)!important;text-shadow:0 0 5px var(--early-user-shadow-color)!important}._adminPerk_zmtxl_39{color:var(--admin-color)!important;text-shadow:0 0 5px var(--admin-shadow-color)!important}._userPerk_zmtxl_45{color:var(--user-color)!important;text-shadow:none!important}._authContainer_zmtxl_51{position:relative;z-index:10}._loginButton_zmtxl_56{background:linear-gradient(90deg,#666,#444);color:#fff;border:none;padding:10px 20px;border-radius:30px;font-size:1.2rem;font-weight:600;cursor:pointer;transition:all .3s;box-shadow:0 4px 10px rgba(0,0,0,.2);position:relative;overflow:hidden;display:flex;align-items:center;justify-content:center;gap:8px;letter-spacing:.5px}._loginButton_zmtxl_56:hover{transform:translateY(-2px);box-shadow:0 6px 15px rgba(0,0,0,.3);background:linear-gradient(90deg,#777,#555)}._loginButton_zmtxl_56:before{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:linear-gradient(45deg,transparent,rgba(255,255,255,.2),transparent);transform:rotate(45deg);transition:all .5s;opacity:0}._loginButton_zmtxl_56:hover:before{animation:_shine_zmtxl_1 1.5s infinite}[data-theme=light] ._loginButton_zmtxl_56{background:linear-gradient(90deg,#888,#666);box-shadow:0 4px 10px rgba(100,100,100,.2)}[data-theme=light] ._loginButton_zmtxl_56:hover{background:linear-gradient(90deg,#999,#777);box-shadow:0 6px 15px rgba(100,100,100,.3)}._userProfile_zmtxl_104{position:relative;display:flex;justify-content:center}._profileButton_zmtxl_110{display:flex;align-items:center;background:rgba(50,50,55,.7);border:1px solid rgba(100,100,100,.2);padding:6px 14px 6px 6px;cursor:pointer;border-radius:30px;transition:all .3s;backdrop-filter:blur(4px);box-shadow:0 4px 10px rgba(0,0,0,.1)}._profileButton_zmtxl_110:hover{background:rgba(60,60,65,.8);transform:translateY(-2px);box-shadow:0 6px 15px rgba(0,0,0,.15)}[data-theme=light] ._profileButton_zmtxl_110{background:rgba(240,240,245,.7);border:1px solid rgba(180,180,180,.3);box-shadow:0 4px 10px rgba(100,100,100,.1)}[data-theme=light] ._profileButton_zmtxl_110:hover{background:rgba(245,245,250,.9);box-shadow:0 6px 15px rgba(100,100,100,.15)}._avatar_zmtxl_137{width:42px;height:42px;border-radius:50%;object-fit:cover;margin-right:10px;border:2px solid rgba(150,150,150,.5);box-shadow:0 2px 5px rgba(0,0,0,.1)}[data-theme=light] ._avatar_zmtxl_137{border:2px solid rgba(100,100,100,.3)}._username_zmtxl_150{font-size:1.2rem;font-weight:600;color:#e0e0e0;max-width:150px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}@media (max-width: 600px){._username_zmtxl_150{max-width:100px;font-size:1rem}}[data-theme=light] ._username_zmtxl_150{color:#333}._username_zmtxl_150._sponsorPerk_zmtxl_27{color:var(--sponsor-color)!important;text-shadow:0 0 5px var(--sponsor-shadow-color)}._username_zmtxl_150._earlyUserPerk_zmtxl_33{color:var(--early-user-color)!important;text-shadow:0 0 5px var(--early-user-shadow-color)}._username_zmtxl_150._adminPerk_zmtxl_39{color:var(--admin-color)!important;text-shadow:0 0 5px var(--admin-shadow-color)}._userMenu_zmtxl_181{position:absolute;top:115%;right:0;background:rgba(36,36,40,.95);backdrop-filter:blur(10px);border-radius:12px;box-shadow:0 10px 25px rgba(0,0,0,.3),0 0 15px rgba(255,255,255,.05) inset;min-width:200px;overflow:hidden;border:1px solid rgba(100,100,100,.2);z-index:1000;padding:5px}._userMenu_zmtxl_181:before{content:"";position:absolute;top:-7px;right:20px;transform:rotate(45deg);width:20px;height:20px;background:rgba(36,36,40,.95);border-left:1px solid rgba(100,100,100,.2);border-top:1px solid rgba(100,100,100,.2);z-index:-1}._userMenu_zmtxl_181 ul{list-style:none;margin:0;padding:5px}._userMenu_zmtxl_181 li{margin:5px 0}._userMenu_zmtxl_181 li:last-child{margin-top:5px}[data-theme=light] ._userMenu_zmtxl_181{background:rgba(250,250,255,.95);box-shadow:0 10px 25px rgba(0,0,0,.15),0 0 15px rgba(255,255,255,.1) inset;border:1px solid rgba(200,200,200,.3)}[data-theme=light] ._userMenu_zmtxl_181:before{background:rgba(250,250,255,.95);border-left:1px solid rgba(200,200,200,.3);border-top:1px solid rgba(200,200,200,.3)}._menuItem_zmtxl_230{display:block;width:100%;text-align:left;padding:10px 14px;background:rgba(32,32,37,.7);border:none;border-radius:8px;font-size:1.2rem;color:#e0e0e0;cursor:pointer;font-weight:500;transition:all .25s;display:flex;align-items:center;gap:10px;position:relative;overflow:hidden}._menuItem_zmtxl_230:before{content:"";position:absolute;left:0;top:0;height:100%;width:3px;background:transparent;transition:all .25s}._menuItem_zmtxl_230 svg{color:#8e8e9a;stroke-width:2px;transition:all .25s}._menuItem_zmtxl_230:hover{background:rgba(45,45,50,.9);transform:translateY(-2px)}._menuItem_zmtxl_230:hover svg{color:#a0a0b0}[data-theme=light] ._menuItem_zmtxl_230{background:rgba(240,240,245,.7);color:#333}[data-theme=light] ._menuItem_zmtxl_230 svg{color:#6a6a75}[data-theme=light] ._menuItem_zmtxl_230:hover{background:rgba(230,230,235,.9)}[data-theme=light] ._menuItem_zmtxl_230:hover svg{color:#555565}._logoutButton_zmtxl_285{color:#f0f0f0;background:rgba(210,40,60,.25)}._logoutButton_zmtxl_285:before{background:rgba(210,40,60,.6)}._logoutButton_zmtxl_285 svg{color:rgba(210,60,80,.9);filter:drop-shadow(0 0 2px rgba(210,40,60,.3))}._logoutButton_zmtxl_285:hover{background:rgba(220,50,70,.35)}._logoutButton_zmtxl_285:hover:before{background:rgba(220,50,70,.8)}._logoutButton_zmtxl_285:hover svg{color:#e1465a}[data-theme=light] ._logoutButton_zmtxl_285{color:#333;background:rgba(220,53,69,.1)}[data-theme=light] ._logoutButton_zmtxl_285:before{background:rgba(220,53,69,.4)}[data-theme=light] ._logoutButton_zmtxl_285 svg{color:rgba(200,50,60,.8);filter:drop-shadow(0 0 1px rgba(200,50,60,.2))}[data-theme=light] ._logoutButton_zmtxl_285:hover{background:rgba(220,53,69,.2)}[data-theme=light] ._logoutButton_zmtxl_285:hover:before{background:rgba(220,53,69,.6)}[data-theme=light] ._logoutButton_zmtxl_285:hover svg{color:#c82832}._adminButton_zmtxl_326{color:#f0f0f0;background:linear-gradient(90deg,rgba(100,100,110,.3),rgba(80,80,90,.3));position:relative;overflow:hidden}._adminButton_zmtxl_326:before{background:rgba(80,140,200,.6)}._adminButton_zmtxl_326 svg{color:rgba(70,150,210,.9);filter:drop-shadow(0 0 2px rgba(70,150,210,.3))}._adminButton_zmtxl_326:after{content:"";position:absolute;top:0;right:0;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(70,150,210,.1),transparent);opacity:0;transition:opacity .3s ease}._adminButton_zmtxl_326:hover{background:linear-gradient(90deg,rgba(110,110,120,.35),rgba(90,90,100,.35))}._adminButton_zmtxl_326:hover:before{background:rgba(80,160,220,.8)}._adminButton_zmtxl_326:hover:after{opacity:1}._adminButton_zmtxl_326:hover svg{color:#50a0e6}[data-theme=light] ._adminButton_zmtxl_326{color:#333;background:linear-gradient(90deg,rgba(230,230,240,.5),rgba(210,210,220,.5))}[data-theme=light] ._adminButton_zmtxl_326:before{background:rgba(60,120,190,.5)}[data-theme=light] ._adminButton_zmtxl_326 svg{color:rgba(50,120,180,.9);filter:drop-shadow(0 0 1px rgba(50,120,180,.2))}[data-theme=light] ._adminButton_zmtxl_326:hover{background:linear-gradient(90deg,rgba(220,220,230,.6),rgba(200,200,210,.6))}[data-theme=light] ._adminButton_zmtxl_326:hover:before{background:rgba(60,130,200,.7)}[data-theme=light] ._adminButton_zmtxl_326:hover svg{color:#2878c8}@keyframes _shine_zmtxl_1{0%{left:-150%;opacity:0}50%{opacity:.4}to{left:150%;opacity:0}}._profileMenuItem_zmtxl_396:before{background:rgba(120,180,120,.6)}._profileMenuItem_zmtxl_396 svg{color:rgba(120,180,120,.9);filter:drop-shadow(0 0 2px rgba(120,180,120,.3))}._profileMenuItem_zmtxl_396:hover:before{background:rgba(130,200,130,.8)}._profileMenuItem_zmtxl_396:hover svg{color:#8cd28c}[data-theme=light] ._profileMenuItem_zmtxl_396:before{background:rgba(100,160,100,.5)}[data-theme=light] ._profileMenuItem_zmtxl_396 svg{color:rgba(100,160,100,.9);filter:drop-shadow(0 0 1px rgba(100,160,100,.2))}[data-theme=light] ._profileMenuItem_zmtxl_396:hover:before{background:rgba(110,180,110,.7)}[data-theme=light] ._profileMenuItem_zmtxl_396:hover svg{color:#5a965a}@media (max-width: 768px){._avatar_zmtxl_137{width:36px;height:36px}._username_zmtxl_150{font-size:1rem}._profileButton_zmtxl_110{padding:4px 10px 4px 4px}._userMenu_zmtxl_181{right:0;min-width:180px}._userMenu_zmtxl_181:before{right:20px}}._form_1ih8g_1{display:flex;flex-direction:column;width:100%}._title_1ih8g_7{font-size:1.5rem;font-weight:600;margin-bottom:1.5rem;text-align:center;color:var(--text-primary)}._error_1ih8g_15{background-color:var(--error-light, rgba(239, 68, 68, .1));color:var(--error);padding:10px;border-radius:var(--radius-md);margin-bottom:16px;font-size:.875rem}._field_1ih8g_24{margin-bottom:16px}._label_1ih8g_28{display:block;margin-bottom:6px;font-size:.875rem;font-weight:500;color:var(--text-secondary)}._input_1ih8g_36{width:100%;padding:10px 12px;font-size:1rem;border:1px solid var(--border);border-radius:var(--radius-md);background-color:var(--bg-input);color:var(--text-primary);transition:border-color var(--transition-fast)}._input_1ih8g_36:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 2px var(--accent-light)}._input_1ih8g_36::placeholder{color:var(--text-tertiary)}._input_1ih8g_36:disabled{background-color:var(--bg-highlight);cursor:not-allowed}._forgotPassword_1ih8g_59{text-align:right;margin-bottom:16px}._textButton_1ih8g_64{background:none;border:none;color:var(--accent);font-size:.875rem;cursor:pointer;padding:0}._textButton_1ih8g_64:hover{text-decoration:underline;color:var(--accent-hover)}._submitButton_1ih8g_77{padding:10px 16px;background-color:var(--accent);color:#fff;border:none;border-radius:var(--radius-md);font-size:1rem;font-weight:500;cursor:pointer;transition:all var(--transition-fast)}._submitButton_1ih8g_77:hover:not(:disabled){background-color:var(--accent-hover)}._terms_1ih8g_96{margin-bottom:16px;font-size:.75rem;color:var(--text-tertiary);text-align:center}._link_1ih8g_103{color:var(--accent);text-decoration:none}._link_1ih8g_103:hover{text-decoration:underline;color:var(--accent-hover)}._formContainer_1ih8g_112{display:flex;flex-direction:column;width:100%;color:var(--text-primary)}._formContainer_1ih8g_112 h2{text-align:center;margin-bottom:30px;color:var(--text-primary);font-size:28px;font-weight:700;letter-spacing:.5px;text-shadow:0 2px 4px rgba(0,0,0,.1);background:linear-gradient(135deg,var(--gradient-start, #ffffff),var(--gradient-end, #a0a0a0));-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}._errorMessage_1ih8g_133{background-color:rgba(var(--error-rgb, 220, 53, 69),.15);border-left:3px solid var(--error);color:var(--text-primary);padding:12px 15px;border-radius:var(--radius-md);margin-bottom:20px;font-size:14px;box-shadow:var(--shadow)}._formGroup_1ih8g_144{margin-bottom:24px}._formGroup_1ih8g_144 label{display:flex;align-items:center;margin-bottom:10px;color:var(--text-secondary);font-weight:500;font-size:16px}._formGroup_1ih8g_144 ._inputIcon_1ih8g_155{margin-right:8px;font-size:18px;color:var(--text-tertiary)}._formGroup_1ih8g_144 ._inputWrapper_1ih8g_160{position:relative;width:100%}._formGroup_1ih8g_144 ._inputIconInside_1ih8g_164{position:absolute;left:12px;top:50%;transform:translateY(-50%);color:var(--text-tertiary);font-size:16px;pointer-events:none;opacity:.9;z-index:2}._formGroup_1ih8g_144 ._inputIconInside_1ih8g_164 svg{stroke-width:2px}._formGroup_1ih8g_144 input{width:100%;padding:14px 14px 14px 40px;border:1px solid var(--border);border-radius:var(--radius-md);background-color:var(--bg-input);color:var(--text-primary);font-size:16px;transition:all var(--transition-normal);position:relative}._formGroup_1ih8g_144 input:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 2px var(--accent-light);background-color:var(--bg-highlight)}._formGroup_1ih8g_144 input:disabled{opacity:.7;cursor:not-allowed}._formGroup_1ih8g_144 input::placeholder{color:var(--text-tertiary)}._charCounter_1ih8g_203{display:block;text-align:right;margin-top:4px;font-size:12px;color:var(--text-tertiary);transition:color var(--transition-fast)}._submitButton_1ih8g_77{width:100%;padding:14px;background:linear-gradient(90deg,var(--accent),var(--accent-hover));color:#fff;border:none;border-radius:var(--radius-full);font-size:16px;font-weight:600;cursor:pointer;margin-bottom:20px;display:flex;justify-content:center;align-items:center;position:relative;overflow:hidden;box-shadow:var(--shadow)}._submitButton_1ih8g_77 ._buttonIcon_1ih8g_230{margin-right:8px;font-size:18px}._submitButton_1ih8g_77:hover:not(:disabled){background:linear-gradient(90deg,var(--accent-hover),var(--accent));box-shadow:var(--shadow-hover);transform:translateY(-2px)}._submitButton_1ih8g_77:disabled{opacity:.7;cursor:not-allowed}._submitButton_1ih8g_77:before{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:linear-gradient(to right,rgba(255,255,255,0),rgba(255,255,255,.2),rgba(255,255,255,0));transform:rotate(45deg);opacity:0;transition:all .5s}._submitButton_1ih8g_77:hover:not(:disabled):before{animation:_shimmer_1ih8g_1 1.5s infinite}._switchForm_1ih8g_259{display:flex;flex-direction:column;align-items:center;margin-top:10px}._switchForm_1ih8g_259 p{color:var(--text-secondary);margin-bottom:8px;font-size:15px}._switchButton_1ih8g_271{background:none;border:none;color:var(--text-tertiary);font-weight:600;font-size:15px;cursor:pointer;padding:0;position:relative;z-index:1;transition:all var(--transition-fast)}._switchButton_1ih8g_271:after{content:"";position:absolute;width:100%;height:2px;bottom:-2px;left:0;background:linear-gradient(90deg,var(--accent),var(--accent-hover));transform:scaleX(0);transform-origin:bottom right;transition:transform .3s ease-out}._switchButton_1ih8g_271:hover:not(:disabled){color:var(--text-primary)}._switchButton_1ih8g_271:hover:not(:disabled):after{transform:scaleX(1);transform-origin:bottom left}._switchButton_1ih8g_271:disabled{opacity:.7;cursor:not-allowed}@keyframes _shimmer_1ih8g_1{0%{left:-150%;opacity:0}50%{opacity:.4}to{left:150%;opacity:0}}@media (max-width: 600px){._formContainer_1ih8g_112 h2{font-size:24px;margin-bottom:20px}._formGroup_1ih8g_144{margin-bottom:18px}._formGroup_1ih8g_144 input{padding:12px 12px 12px 36px}}._backdrop_hk72z_1{position:fixed;top:0;left:0;right:0;bottom:0;background:linear-gradient(135deg,rgba(var(--modal-bg-rgb, 33, 33, 38),.85),rgba(var(--modal-bg-end-rgb, 68, 68, 77),.85));display:flex;justify-content:center;align-items:center;z-index:2000;backdrop-filter:blur(8px);perspective:1000px;overflow:hidden}._modal_hk72z_17{position:relative;max-width:450px;width:90%;border-radius:var(--radius-xl);background:var(--modal-bg);backdrop-filter:blur(10px);border:1px solid var(--modal-border);box-shadow:var(--modal-shadow);overflow:hidden;z-index:2001;padding:0;transform-style:preserve-3d}._modalContent_hk72z_32{padding:30px;position:relative;z-index:5}._closeButton_hk72z_38{position:absolute;top:15px;right:15px;background:rgba(var(--accent-rgb),.1);border:none;font-size:20px;width:36px;height:36px;border-radius:50%;display:flex;align-items:center;justify-content:center;color:var(--text-primary);cursor:pointer;z-index:10;box-shadow:var(--shadow);transition:all var(--transition-fast)}._closeButton_hk72z_38:hover{background:rgba(var(--accent-rgb),.2);transform:scale(1.05)}._formWrapper_hk72z_62{width:100%}._formWrapper_hk72z_62 h2{font-size:2rem;margin-bottom:30px;color:var(--text-primary);text-align:center;font-weight:600;text-shadow:0 2px 4px rgba(0,0,0,.1);background:linear-gradient(135deg,var(--gradient-start, #ffffff),var(--gradient-end, #a0a0a0));-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}._formWrapper_hk72z_62 input{background:var(--bg-input);border:1px solid var(--border);color:var(--text-primary)}._formWrapper_hk72z_62 input::placeholder{color:var(--text-tertiary)}._formWrapper_hk72z_62 input:focus{box-shadow:0 0 0 2px var(--accent-light);border-color:var(--accent);background:var(--bg-highlight)}._formWrapper_hk72z_62 label{color:var(--text-secondary);font-weight:500}._formWrapper_hk72z_62 .submitButton{background:linear-gradient(90deg,var(--accent),var(--accent-hover));border-radius:var(--radius-full);font-weight:600;letter-spacing:.5px;padding:12px;box-shadow:var(--shadow);transform:translateY(0);transition:all var(--transition-normal);position:relative;overflow:hidden}._formWrapper_hk72z_62 .submitButton:hover:not(:disabled){background:linear-gradient(90deg,var(--accent-hover),var(--accent));transform:translateY(-2px);box-shadow:var(--shadow-hover)}._formWrapper_hk72z_62 .submitButton:before{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:linear-gradient(45deg,transparent,rgba(255,255,255,.2),transparent);transform:rotate(45deg);transition:all .5s;opacity:0}._formWrapper_hk72z_62 .submitButton:hover:not(:disabled):before{animation:shine 1.5s infinite}._formWrapper_hk72z_62 .switchButton{color:var(--text-tertiary);font-weight:600;transition:all var(--transition-fast)}._formWrapper_hk72z_62 .switchButton:hover:not(:disabled){color:var(--text-primary);transform:translateY(-1px)}._formWrapper_hk72z_62 p{color:var(--text-secondary)}._formWrapper_hk72z_62 .errorMessage{background-color:rgba(var(--error-rgb, 220, 53, 69),.15);border-left:3px solid var(--error);color:var(--text-primary)}._patternOverlay_hk72z_144{position:absolute;top:0;left:0;right:0;bottom:0;opacity:.05;background-image:linear-gradient(30deg,rgba(var(--accent-rgb),.1) 12%,transparent 12.5%,transparent 87%,rgba(var(--accent-rgb),.1) 87.5%,rgba(var(--accent-rgb),.1)),linear-gradient(150deg,rgba(var(--accent-rgb),.1) 12%,transparent 12.5%,transparent 87%,rgba(var(--accent-rgb),.1) 87.5%,rgba(var(--accent-rgb),.1)),linear-gradient(30deg,rgba(var(--accent-rgb),.1) 12%,transparent 12.5%,transparent 87%,rgba(var(--accent-rgb),.1) 87.5%,rgba(var(--accent-rgb),.1)),linear-gradient(150deg,rgba(var(--accent-rgb),.1) 12%,transparent 12.5%,transparent 87%,rgba(var(--accent-rgb),.1) 87.5%,rgba(var(--accent-rgb),.1)),linear-gradient(60deg,rgba(var(--accent-rgb),.2) 25%,transparent 25.5%,transparent 75%,rgba(var(--accent-rgb),.2) 75%,rgba(var(--accent-rgb),.2));background-size:40px 70px;mix-blend-mode:overlay;z-index:1}@keyframes _shine_hk72z_1{0%{left:-200%;opacity:0}20%{opacity:1}to{left:100%;opacity:0}}@media (max-width: 600px){._modal_hk72z_17{width:95%;margin:0 10px}._modalContent_hk72z_32{padding:20px 15px}}._perkBase_14u1w_18{font-weight:600!important;font-size:inherit!important;line-height:inherit!important;font-family:inherit!important;letter-spacing:inherit!important;display:inline-block!important}._sponsorPerk_14u1w_27{color:var(--sponsor-color)!important;text-shadow:0 0 5px var(--sponsor-shadow-color)!important}._earlyUserPerk_14u1w_33{color:var(--early-user-color)!important;text-shadow:0 0 5px var(--early-user-shadow-color)!important}._adminPerk_14u1w_39{color:var(--admin-color)!important;text-shadow:0 0 5px var(--admin-shadow-color)!important}._userPerk_14u1w_45{color:var(--user-color)!important;text-shadow:none!important}:root{--sponsor-color: #ffcf4a;--sponsor-color-rgb: 255, 207, 74;--sponsor-shadow-color: rgba(255, 207, 74, .5);--early-user-color: #8bc9e3;--early-user-color-rgb: 139, 201, 227;--early-user-shadow-color: rgba(139, 201, 227, .5);--admin-color: #ff6b6b;--admin-color-rgb: 255, 107, 107;--admin-shadow-color: rgba(255, 107, 107, .5);--user-color: #888888;--user-color-rgb: 136, 136, 136;--user-shadow-color: rgba(136, 136, 136, .5)}._perkBase_11uqt_18{font-weight:600!important;font-size:inherit!important;line-height:inherit!important;font-family:inherit!important;letter-spacing:inherit!important;display:inline-block!important}._sponsorPerk_11uqt_27{color:var(--sponsor-color)!important;text-shadow:0 0 5px var(--sponsor-shadow-color)!important}._earlyUserPerk_11uqt_33{color:var(--early-user-color)!important;text-shadow:0 0 5px var(--early-user-shadow-color)!important}._adminPerk_11uqt_39{color:var(--admin-color)!important;text-shadow:0 0 5px var(--admin-shadow-color)!important}._userPerk_11uqt_45{color:var(--user-color)!important;text-shadow:none!important}._profileContainer_11uqt_51{max-width:900px;margin:30px auto;padding:30px;background-color:var(--bg-secondary);border-radius:var(--radius-lg);box-shadow:var(--shadow)}@media (max-width: 600px){._profileContainer_11uqt_51{padding:20px 15px}}._loading_11uqt_65,._error_11uqt_65{display:flex;justify-content:center;align-items:center;height:200px;font-size:18px;color:var(--text-primary)}._error_11uqt_65{color:var(--error)}._profileHeader_11uqt_78{display:flex;margin-bottom:40px}@media (max-width: 600px){._profileHeader_11uqt_78{flex-direction:column;align-items:center}}._avatarContainer_11uqt_89{position:relative;margin-right:40px}@media (max-width: 600px){._avatarContainer_11uqt_89{margin-right:0;margin-bottom:20px}}._avatar_11uqt_89{width:180px;height:180px;border-radius:50%;object-fit:cover;border:5px solid var(--accent)}._changeAvatarButton_11uqt_108{position:absolute;bottom:10px;right:10px;background-color:var(--accent);color:#fff;border:1px solid var(--border);border-radius:var(--radius-md);padding:8px 15px;font-size:14px;cursor:pointer;font-weight:600;box-shadow:var(--shadow);transition:all var(--transition-fast)}._changeAvatarButton_11uqt_108:hover{background-color:var(--accent-hover);transform:translateY(-2px);box-shadow:var(--shadow-hover)}._profileInfo_11uqt_129{flex:1}._displayName_11uqt_133{font-size:2rem!important;font-weight:700;margin-bottom:20px;color:var(--text-primary);text-shadow:0 1px 3px rgba(0,0,0,.3);line-height:1.2;word-wrap:break-word;word-break:break-word;overflow-wrap:break-word;max-width:100%}@media (max-width: 600px){._displayName_11uqt_133{font-size:1.75rem!important;text-align:center}}._userMeta_11uqt_152{display:grid;gap:15px}@media (max-width: 600px){._userMeta_11uqt_152{width:100%}}._userRole_11uqt_162,._userJoined_11uqt_162,._userEmail_11uqt_162,._userPrivileges_11uqt_162{display:flex;align-items:flex-start;font-size:16px;flex-wrap:wrap}@media (max-width: 600px){._userRole_11uqt_162,._userJoined_11uqt_162,._userEmail_11uqt_162,._userPrivileges_11uqt_162{flex-direction:column;gap:5px}}._label_11uqt_175{min-width:170px;font-weight:600;color:var(--text-secondary)}@media (max-width: 600px){._label_11uqt_175{min-width:unset;width:100%}}._value_11uqt_187{color:var(--text-primary);font-weight:500;word-wrap:break-word;word-break:break-word;overflow-wrap:break-word;max-width:100%}._privilegeContainer_11uqt_196{display:flex;align-items:center;gap:15px;flex-wrap:wrap}@media (max-width: 600px){._privilegeContainer_11uqt_196{width:100%}}._changePerkButton_11uqt_208{background-color:var(--accent);color:#fff;border:none;border-radius:4px;padding:5px 10px;font-size:12px;cursor:pointer}._changePerkButton_11uqt_208:hover{background-color:var(--accent-dark)}._adminActions_11uqt_221,._personalSettings_11uqt_221{margin-top:30px;padding-top:20px;border-top:1px solid var(--border)}._adminActions_11uqt_221 h2,._personalSettings_11uqt_221 h2{font-size:20px;margin-bottom:15px;color:var(--text-primary)}._actionButtons_11uqt_233{display:flex;gap:10px}._editButton_11uqt_238,._banButton_11uqt_238,._saveButton_11uqt_238{padding:8px 16px;border:none;border-radius:4px;cursor:pointer;font-weight:500}._editButton_11uqt_238:hover,._banButton_11uqt_238:hover,._saveButton_11uqt_238:hover{opacity:.9}._editButton_11uqt_238{background-color:var(--accent);color:var(--text-primary);padding:8px 16px;border-radius:4px;cursor:pointer;font-weight:600;box-shadow:0 3px 10px rgba(0,0,0,.2);transition:all .3s ease;font-size:14px;border:1px solid var(--border-color)}._editButton_11uqt_238:hover{opacity:.9;transform:translateY(-2px);box-shadow:0 5px 15px rgba(0,0,0,.3)}._banButton_11uqt_238{background-color:var(--error);color:#fff}._saveButton_11uqt_238{background-color:var(--success);color:#fff;margin-top:20px}._settingGroup_11uqt_278{margin-bottom:15px}._settingGroup_11uqt_278 label{display:block;margin-bottom:5px;color:var(--text-secondary)}._settingControl_11uqt_287{display:flex;gap:10px}._settingControl_11uqt_287 input{flex:1;padding:8px;border:1px solid var(--border);border-radius:4px;background-color:var(--bg-primary);color:var(--text-primary)}._modalOverlay_11uqt_301{position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.8);display:flex;align-items:center;justify-content:center;z-index:1000;backdrop-filter:blur(5px);padding:20px}@media (max-width: 500px){._modalOverlay_11uqt_301{padding:10px;align-items:flex-end}}._modalContent_11uqt_322{background-color:var(--bg-secondary);border-radius:12px;padding:28px;width:100%;max-width:500px;max-height:90vh;overflow-y:auto;box-shadow:0 15px 40px rgba(0,0,0,.4);transform-origin:center;animation:_modalAppear_11uqt_1 .3s ease-out;border:1px solid rgba(var(--accent-rgb),.3)}[data-theme=dark] ._modalContent_11uqt_322{border:2px solid rgba(255,255,255,.3);box-shadow:0 15px 40px rgba(0,0,0,.5),0 0 0 1px rgba(255,255,255,.1)}@media (max-width: 500px){._modalContent_11uqt_322{max-height:85vh;border-bottom-left-radius:0;border-bottom-right-radius:0}}._modalContent_11uqt_322 h3{text-align:center;margin-bottom:20px;color:var(--text-primary);font-size:22px;font-weight:600}@keyframes _modalAppear_11uqt_1{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}._avatarGrid_11uqt_365{display:grid;grid-template-columns:repeat(auto-fill,minmax(100px,1fr));gap:18px;margin-bottom:28px}._avatarOption_11uqt_372{width:100%;aspect-ratio:1;object-fit:cover;border-radius:50%;border:3px solid transparent;cursor:pointer;transition:all .3s ease;filter:brightness(.9);box-shadow:0 5px 15px rgba(0,0,0,.1)}._avatarOption_11uqt_372:hover{border-color:var(--accent);transform:translateY(-5px) scale(1.08);filter:brightness(1.2);box-shadow:0 8px 25px rgba(0,0,0,.25)}._avatarOption_11uqt_372._selected_11uqt_389{border-color:var(--accent);filter:brightness(1.2);box-shadow:0 0 0 3px var(--accent),0 8px 25px rgba(0,0,0,.25)}[data-theme=dark] ._avatarOption_11uqt_372{border:3px solid rgba(255,255,255,.2)}[data-theme=dark] ._avatarOption_11uqt_372:hover,[data-theme=dark] ._avatarOption_11uqt_372._selected_11uqt_389{border-color:#fff;box-shadow:0 0 0 2px rgba(255,255,255,.5),0 8px 25px rgba(0,0,0,.35)}[data-theme=dark] ._avatarOption_11uqt_372._selected_11uqt_389{border-color:#fff;box-shadow:0 0 0 3px #fff,0 8px 25px rgba(0,0,0,.4)}._closeButton_11uqt_406{display:block;width:100%;padding:14px;background-color:var(--accent);color:#fff;border:none;border-radius:8px;cursor:pointer;margin-top:15px;font-size:16px;font-weight:600;transition:all .3s ease;box-shadow:0 4px 10px rgba(var(--accent-rgb),.3)}._closeButton_11uqt_406:hover{background-color:var(--accent-dark);transform:translateY(-3px);box-shadow:0 8px 15px rgba(var(--accent-rgb),.4)}._closeButton_11uqt_406:active{transform:translateY(0);box-shadow:0 4px 10px rgba(var(--accent-rgb),.3)}._perksList_11uqt_432{display:flex;flex-direction:column;gap:18px;margin-bottom:28px}._perkItem_11uqt_439{padding:20px;border-radius:12px;background-color:var(--bg-primary);border:2px solid transparent;cursor:pointer;transition:all .3s ease;position:relative;overflow:hidden;box-shadow:0 4px 12px rgba(0,0,0,.1)}._perkItem_11uqt_439:before{content:"";position:absolute;top:0;left:0;width:6px;height:100%;background-color:transparent;transition:all .3s ease}._perkItem_11uqt_439:hover{transform:translateY(-4px) scale(1.02);box-shadow:0 10px 20px rgba(0,0,0,.15)}._perkItem_11uqt_439:hover:before{background-color:var(--accent)}._perkItem_11uqt_439._activePerk_11uqt_467{border-color:var(--accent);background-color:rgba(var(--accent-rgb),.08)}._perkItem_11uqt_439._activePerk_11uqt_467:before{background-color:var(--accent)}._perkName_11uqt_475{font-weight:600;margin-bottom:10px;color:var(--text-primary);font-size:18px;display:flex;align-items:center}._perkName_11uqt_475._sponsorPerk_11uqt_27{color:var(--sponsor-color)!important;text-shadow:0 0 5px var(--sponsor-shadow-color)}._perkName_11uqt_475._earlyUserPerk_11uqt_33{color:var(--early-user-color)!important;text-shadow:0 0 5px var(--early-user-shadow-color)}._perkName_11uqt_475._adminPerk_11uqt_39{color:var(--admin-color)!important;text-shadow:0 0 5px var(--admin-shadow-color)}._perkDescription_11uqt_496{font-size:14px;color:var(--text-secondary);line-height:1.4}._modalFooter_11uqt_502{text-align:center;margin-top:10px}._modalForm_11uqt_507{display:flex;flex-direction:column;gap:20px;width:100%}._modalForm_11uqt_507 ._formGroup_11uqt_513{display:flex;flex-direction:column;gap:8px}._modalForm_11uqt_507 ._formGroup_11uqt_513 label{font-weight:500;font-size:15px;color:var(--text-primary)}._modalForm_11uqt_507 ._formGroup_11uqt_513 ._formControl_11uqt_523{padding:14px 16px;border-radius:10px;border:2px solid var(--border-color);background-color:var(--bg-input);color:var(--text-primary);font-size:16px;transition:all .3s;width:100%}._modalForm_11uqt_507 ._formGroup_11uqt_513 ._formControl_11uqt_523:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 4px rgba(var(--accent-rgb),.2);background-color:var(--bg-secondary)}._modalForm_11uqt_507 ._formGroup_11uqt_513 ._formControl_11uqt_523:disabled{opacity:.7;cursor:not-allowed}._modalForm_11uqt_507 ._formActions_11uqt_543{display:flex;justify-content:flex-end;gap:14px;margin-top:20px}._modalForm_11uqt_507 ._formActions_11uqt_543 button{padding:12px 22px;border-radius:10px;font-weight:500;font-size:16px;transition:all .3s;cursor:pointer}._modalForm_11uqt_507 ._formActions_11uqt_543 button:disabled{opacity:.7;cursor:not-allowed}._modalForm_11uqt_507 ._formActions_11uqt_543 ._cancelButton_11uqt_561{background-color:var(--bg-primary);border:1px solid var(--border-color);color:var(--text-secondary)}._modalForm_11uqt_507 ._formActions_11uqt_543 ._cancelButton_11uqt_561:hover:not(:disabled){background-color:var(--bg-hover);transform:translateY(-2px);box-shadow:0 4px 8px rgba(0,0,0,.1)}._modalForm_11uqt_507 ._formActions_11uqt_543 ._cancelButton_11uqt_561:active:not(:disabled){transform:translateY(0);box-shadow:none}._modalForm_11uqt_507 ._formActions_11uqt_543 ._submitButton_11uqt_575{background-color:var(--accent);border:none;color:#fff;box-shadow:0 4px 10px rgba(var(--accent-rgb),.3)}._modalForm_11uqt_507 ._formActions_11uqt_543 ._submitButton_11uqt_575:hover:not(:disabled){background-color:var(--accent-dark);transform:translateY(-3px);box-shadow:0 8px 15px rgba(var(--accent-rgb),.4)}._modalForm_11uqt_507 ._formActions_11uqt_543 ._submitButton_11uqt_575:active:not(:disabled){transform:translateY(-1px);box-shadow:0 4px 8px rgba(var(--accent-rgb),.3)}._modalHeader_11uqt_591{display:flex;justify-content:space-between;align-items:center;margin-bottom:28px;padding-bottom:18px;border-bottom:2px solid rgba(var(--accent-rgb),.1)}._modalHeader_11uqt_591 h3{font-size:22px;font-weight:600;margin:0;color:var(--text-primary);text-align:left}._modalHeader_11uqt_591 ._closeButton_11uqt_406{background:rgba(0,0,0,.05);border:none;color:var(--text-secondary);cursor:pointer;padding:10px;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .2s ease;margin:0;width:auto;box-shadow:none}._modalHeader_11uqt_591 ._closeButton_11uqt_406:hover{background-color:rgba(var(--accent-rgb),.1);color:var(--accent);transform:none;box-shadow:none}._errorMessage_11uqt_628,._successMessage_11uqt_628{padding:14px;border-radius:8px;display:flex;align-items:center;gap:12px;font-size:14px;line-height:1.4;animation:_fadeIn_11uqt_1 .3s ease-in-out}._errorMessage_11uqt_628{background-color:rgba(239,68,68,.1);border:1px solid rgba(239,68,68,.2);color:#dc2626}._successMessage_11uqt_628{background-color:rgba(34,197,94,.1);border:1px solid rgba(34,197,94,.2);color:#16a34a}@keyframes _fadeIn_11uqt_1{0%{opacity:0;transform:translateY(-5px)}to{opacity:1;transform:translateY(0)}}._modalMotion_11uqt_661{width:100%;max-width:500px;display:flex;flex-direction:column}._passwordStrength_11uqt_668{margin-top:8px;width:100%}._passwordStrengthInfo_11uqt_673{display:flex;justify-content:space-between;margin-bottom:4px}._passwordStrengthText_11uqt_679{font-size:14px;font-weight:500}._passwordStrengthPercentage_11uqt_684{font-size:14px;color:var(--text-secondary)}._passwordStrengthBar_11uqt_689{height:6px;width:100%;background-color:#e5e7eb;border-radius:3px;overflow:hidden;position:relative}._passwordStrengthFill_11uqt_698{height:100%;position:absolute;left:0;top:0;border-radius:3px;transition:width .3s ease-out}._formActions_11uqt_543 ._submitButton_11uqt_575{min-width:130px;display:flex;justify-content:center;align-items:center}._formActions_11uqt_543 ._submitButton_11uqt_575 span{display:inline-flex;align-items:center}._successMessage_11uqt_628{padding:40px 20px;display:flex;flex-direction:column;align-items:center;gap:20px;text-align:center}._successMessage_11uqt_628 svg{font-size:45px;color:#16a34a;background:rgba(34,197,94,.2);padding:18px;border-radius:50%;box-shadow:0 5px 15px rgba(34,197,94,.3)}[data-theme=dark] ._successMessage_11uqt_628 svg{color:#22c55e;background:rgba(22,163,74,.25);box-shadow:0 0 0 3px rgba(34,197,94,.4),0 5px 15px rgba(34,197,94,.4)}._successMessage_11uqt_628 span{font-weight:600;font-size:20px;color:var(--text-primary)}._avatarWrapper_11uqt_746{position:relative;border-radius:50%;overflow:hidden;box-shadow:0 5px 15px rgba(0,0,0,.1);transition:all .3s ease}._avatarWrapper_11uqt_746:hover{transform:translateY(-5px);box-shadow:0 8px 20px rgba(0,0,0,.2)}._loadingOverlay_11uqt_758{position:absolute;top:0;left:0;right:0;bottom:0;background-color:rgba(var(--accent-rgb),.7);display:flex;align-items:center;justify-content:center;border-radius:50%;z-index:2}._avatarHint_11uqt_772{text-align:center;color:var(--text-secondary);margin-top:20px;font-size:15px;line-height:1.5;padding:0 15px}._avatarHint_11uqt_772:before{content:"";display:block;width:40px;height:2px;background-color:rgba(var(--accent-rgb),.3);margin:0 auto 15px}._postsContainer_1j3dy_2{width:100%;max-width:800px;margin:0 auto;padding:20px}._postsHeader_1j3dy_9{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}._postsHeader_1j3dy_9 h2{font-size:1.5rem;font-weight:600;margin:0;color:var(--text-primary);display:flex;align-items:center;gap:10px}._postsHeader_1j3dy_9 h2 svg{color:var(--accent)}._refreshButton_1j3dy_28{padding:8px 16px;background-color:var(--accent);color:#fff;border:none;border-radius:var(--radius-md);font-size:14px;font-weight:500;cursor:pointer;transition:all var(--transition-fast);display:flex;align-items:center;gap:8px}._refreshButton_1j3dy_28:hover:not(:disabled){background-color:var(--accent-hover);transform:translateY(-2px)}._refreshButton_1j3dy_28:disabled{opacity:.7;cursor:not-allowed}._refreshButton_1j3dy_28 svg{font-size:16px}._postsList_1j3dy_54{display:flex;flex-direction:column;gap:24px;margin-top:20px}._loading_1j3dy_61{text-align:center;padding:40px 0;color:var(--text-secondary);font-size:18px;display:flex;align-items:center;justify-content:center;gap:10px}._loading_1j3dy_61 svg{animation:_spin_1j3dy_1 1s linear infinite}@keyframes _spin_1j3dy_1{0%{transform:rotate(0)}to{transform:rotate(360deg)}}._errorMessage_1j3dy_83{background-color:rgba(231,76,60,.1);color:var(--error);padding:12px 16px;border-radius:var(--radius-md);margin-bottom:20px;font-size:14px;display:flex;align-items:center;gap:8px;border-left:3px solid var(--error)}._errorMessage_1j3dy_83 svg{font-size:18px}._noPosts_1j3dy_99{text-align:center;padding:40px 0;color:var(--text-secondary);font-size:16px;display:flex;flex-direction:column;align-items:center;gap:16px}._noPosts_1j3dy_99 svg{font-size:48px;opacity:.5}._notAuthenticatedMessage_1j3dy_114{text-align:center;padding:16px;background-color:var(--bg-secondary);border-radius:var(--radius-md);color:var(--text-secondary);margin-bottom:20px;font-size:15px;display:flex;align-items:center;justify-content:center;gap:8px}._notAuthenticatedMessage_1j3dy_114 svg{color:var(--accent)}._createPostContainer_1j3dy_131{background:var(--bg-secondary);border-radius:var(--radius-lg);border:1px solid var(--border);padding:20px;margin-bottom:24px;transition:all var(--transition-fast)}._createPostTitle_1j3dy_140{font-size:1.25rem;font-weight:600;margin:0 0 16px;color:var(--text-primary);display:flex;align-items:center;gap:8px}._createPostTitle_1j3dy_140 svg{color:var(--accent)}._createPostForm_1j3dy_153{display:flex;flex-direction:column;gap:16px}._contentInput_1j3dy_159{width:100%;padding:16px;border:1px solid var(--border);border-radius:var(--radius-md);resize:none;min-height:100px;background-color:var(--bg-input);color:var(--text-primary);font-size:16px}._contentInput_1j3dy_159:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 2px var(--accent-light)}._contentInput_1j3dy_159::placeholder{color:var(--text-tertiary)}._imageUrlInput_1j3dy_179{width:100%;padding:12px 16px;border:1px solid var(--border);border-radius:8px;background-color:var(--bg-input);color:var(--text-primary)}._imageUrlInput_1j3dy_179:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 2px rgba(76,155,254,.15)}._imageUrlInput_1j3dy_179::placeholder{color:var(--text-tertiary)}._pollContainer_1j3dy_196{display:flex;flex-direction:column;gap:15px;padding:20px;margin-top:15px;margin-bottom:15px;background-color:var(--bg-highlight);border-radius:12px;border:1px solid var(--border-color);position:relative}[data-theme=dark] ._pollContainer_1j3dy_196{background-color:rgba(255,255,255,.03);border-color:rgba(255,255,255,.1)}._pollContainer_1j3dy_196:before{content:"📊 Опрос";position:absolute;top:-10px;left:15px;background-color:var(--accent);color:#fff;font-size:12px;font-weight:600;padding:3px 10px;border-radius:12px;box-shadow:0 2px 8px rgba(29,161,242,.2);display:none}._pollQuestionInput_1j3dy_227{width:100%;padding:12px 16px;border:1px solid var(--border);border-radius:8px;background-color:var(--bg-input);color:var(--text-primary);font-size:15px}._pollQuestionInput_1j3dy_227:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 2px rgba(76,155,254,.15)}._pollQuestionInput_1j3dy_227::placeholder{color:var(--text-tertiary)}[data-theme=dark] ._pollQuestionInput_1j3dy_227{background-color:rgba(255,255,255,.05);border-color:rgba(255,255,255,.1);color:rgba(255,255,255,.9)}[data-theme=dark] ._pollQuestionInput_1j3dy_227::placeholder{color:rgba(255,255,255,.5)}._pollOptionInputWrapper_1j3dy_259{display:flex;gap:10px;align-items:center}._pollOptionInput_1j3dy_259{flex:1;padding:12px 16px;border:1px solid var(--border);border-radius:8px;background-color:var(--bg-input);color:var(--text-primary);font-size:14px}._pollOptionInput_1j3dy_259:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 2px rgba(76,155,254,.15)}._pollOptionInput_1j3dy_259::placeholder{color:var(--text-tertiary)}[data-theme=dark] ._pollOptionInput_1j3dy_259{background-color:rgba(255,255,255,.05);border-color:rgba(255,255,255,.1);color:rgba(255,255,255,.9)}[data-theme=dark] ._pollOptionInput_1j3dy_259::placeholder{color:rgba(255,255,255,.5)}._removeOptionButton_1j3dy_291{width:32px;height:32px;border:none;background-color:rgba(231,76,60,.1);color:#e74c3c;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease}._removeOptionButton_1j3dy_291:hover{background-color:rgba(231,76,60,.2);transform:scale(1.1)}._removeOptionButton_1j3dy_291 svg{font-size:16px}[data-theme=dark] ._removeOptionButton_1j3dy_291{background-color:rgba(231,76,60,.2);color:#ff6b6b}[data-theme=dark] ._removeOptionButton_1j3dy_291:hover{background-color:rgba(231,76,60,.3)}._addOptionButton_1j3dy_319{margin-top:5px;padding:8px 16px;background:none;border:1px dashed var(--border);border-radius:8px;color:var(--accent);font-size:14px;font-weight:500;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center;gap:8px}._addOptionButton_1j3dy_319:hover{background-color:rgba(29,161,242,.05);border-color:var(--accent)}[data-theme=dark] ._addOptionButton_1j3dy_319:hover{background-color:rgba(29,161,242,.1);border-color:var(--accent)}._formOptions_1j3dy_347{display:flex;justify-content:space-between;align-items:center;margin-top:8px}._optionToggle_1j3dy_354{display:flex;align-items:center;gap:8px;color:var(--text-secondary);cursor:pointer;padding:8px 0}._optionToggle_1j3dy_354:hover{color:var(--text-primary)}._optionToggle_1j3dy_354 input{margin:0;cursor:pointer}._optionToggle_1j3dy_354 svg{font-size:18px}._submitButton_1j3dy_373{display:flex;align-items:center;gap:8px;background-color:var(--background-color);color:var(--text-color);border:1px solid var(--border-color);border-radius:8px;padding:10px 20px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s ease}._submitButton_1j3dy_373:hover:not(:disabled){transform:translateY(-2px)}._submitButton_1j3dy_373:disabled{opacity:.7;cursor:not-allowed}._submitButton_1j3dy_373 svg{font-size:16px}._postItem_1j3dy_398{background-color:var(--bg-secondary);border-radius:16px;padding:24px;box-shadow:0 2px 8px rgba(0,0,0,.05);transition:all .2s ease;position:relative;border:1px solid var(--border)}[data-theme=dark] ._postItem_1j3dy_398{background-color:rgba(255,255,255,.05);border-color:rgba(255,255,255,.1);box-shadow:0 4px 20px rgba(0,0,0,.2)}._postItem_1j3dy_398:hover{box-shadow:0 4px 12px rgba(0,0,0,.08)}[data-theme=dark] ._postItem_1j3dy_398:hover{box-shadow:0 8px 24px rgba(0,0,0,.25);border-color:rgba(255,255,255,.15)}._postHeader_1j3dy_420{display:flex;align-items:center;justify-content:space-between;margin-bottom:16px}._authorInfo_1j3dy_427{display:flex;align-items:center;text-decoration:none;color:inherit;gap:12px;font-size:1.5rem}._authorName_1j3dy_436{font-weight:500}._avatar_1j3dy_440{width:40px;height:40px;border-radius:50%;object-fit:cover;box-shadow:0 2px 6px rgba(0,0,0,.1)}[data-theme=dark] ._avatar_1j3dy_440{box-shadow:0 2px 6px rgba(0,0,0,.25)}._postDate_1j3dy_451{font-size:14px;color:var(--text-tertiary);display:flex;align-items:center;gap:6px}._postDate_1j3dy_451 svg{font-size:14px}._postContent_1j3dy_462{margin:15px 0;font-size:16px;line-height:1.5;white-space:pre-wrap;word-break:break-word;color:var(--text-primary)}[data-theme=dark] ._postContent_1j3dy_462 ._darkTextConversion_1j3dy_470{color:var(--text-primary)!important}._postImage_1j3dy_474{margin:16px 0;border-radius:12px;overflow:hidden;box-shadow:0 2px 10px rgba(0,0,0,.1)}._postImage_1j3dy_474 img{width:100%;max-height:500px;object-fit:contain;display:block}._postPoll_1j3dy_487{background-color:var(--bg-highlight);border-radius:8px;padding:16px;margin-bottom:16px}._pollTitle_1j3dy_494{font-weight:500;margin-bottom:12px;color:var(--text-primary);font-size:16px}._pollOptions_1j3dy_253{display:flex;flex-direction:column;gap:10px}._pollOption_1j3dy_253{display:flex;flex-direction:column}._pollOption_1j3dy_253 label{display:flex;align-items:center;gap:10px;cursor:pointer;padding:10px;border-radius:8px;transition:background-color .2s ease}._pollOption_1j3dy_253 label:hover{background-color:var(--bg-hover)}._pollOption_1j3dy_253 label input{cursor:pointer}._pollResults_1j3dy_527{margin-top:16px}._pollResults_1j3dy_527 ._pollResultOption_1j3dy_530{margin-bottom:10px}._pollResults_1j3dy_527 ._pollResultOption_1j3dy_530 ._pollOptionText_1j3dy_533{display:flex;justify-content:space-between;font-size:14px;margin-bottom:4px}._pollResults_1j3dy_527 ._pollResultOption_1j3dy_530 ._pollOptionText_1j3dy_533 ._pollOptionVotes_1j3dy_539{color:var(--text-secondary)}._pollResults_1j3dy_527 ._pollResultOption_1j3dy_530 ._pollProgressBar_1j3dy_542{height:8px;background-color:var(--bg-input);border-radius:4px;overflow:hidden}._pollResults_1j3dy_527 ._pollResultOption_1j3dy_530 ._pollProgressBar_1j3dy_542 ._pollProgress_1j3dy_542{height:100%;background-color:var(--accent);border-radius:4px;transition:width .5s ease}._pollVotersCount_1j3dy_555{font-size:12px;margin-top:16px;color:var(--text-tertiary);text-align:right}._postActions_1j3dy_562{display:flex;align-items:center;justify-content:space-between;border-top:1px solid var(--border);padding-top:16px;margin-top:16px}._actionButtons_1j3dy_571{display:flex;gap:16px}._actionButtons_1j3dy_571 button{background:none;border:none;padding:8px;border-radius:50%;cursor:pointer;display:flex;align-items:center;color:var(--text-secondary);transition:all .2s}._actionButtons_1j3dy_571 button:hover{background-color:rgba(29,161,242,.1);color:var(--accent)}[data-theme=dark] ._actionButtons_1j3dy_571 button:hover{background-color:rgba(29,161,242,.2)}._actionButtons_1j3dy_571 button svg{font-size:20px}._likeButton_1j3dy_597{color:var(--text-secondary);display:flex;align-items:center;gap:8px}._likeButton_1j3dy_597._liked_1j3dy_603{color:#e0245e}._likeButton_1j3dy_597._liked_1j3dy_603:hover{color:#e0245e;background-color:rgba(224,36,94,.1)}[data-theme=dark] ._likeButton_1j3dy_597._liked_1j3dy_603:hover{background-color:rgba(224,36,94,.2)}._likeCount_1j3dy_614{font-size:14px}._commentButton_1j3dy_618{display:flex;align-items:center;gap:8px;background:none;border:none;color:var(--text-secondary);padding:8px 12px;border-radius:8px;cursor:pointer;transition:all .2s ease}._commentButton_1j3dy_618:hover{background-color:var(--bg-hover)}._commentButton_1j3dy_618 svg{font-size:20px}._deleteButton_1j3dy_637{display:flex;align-items:center;gap:6px;background-color:rgba(231,76,60,.1);border:none;color:#e74c3c;padding:6px 12px;border-radius:6px;font-size:14px;cursor:pointer;transition:all .2s ease}._deleteButton_1j3dy_637:hover:not(:disabled){background-color:#e74c3c;color:#fff}._deleteButton_1j3dy_637:disabled{opacity:.7;cursor:not-allowed}._commentsSection_1j3dy_659{margin-top:20px;padding-top:15px;border-top:1px solid var(--border)}._commentsHeading_1j3dy_665{display:flex;align-items:center;gap:8px;font-size:18px;font-weight:600;margin-bottom:15px;color:var(--text-primary)}._loadingComments_1j3dy_675{display:flex;align-items:center;justify-content:center;padding:20px;color:var(--text-secondary);gap:8px}._loadingComments_1j3dy_675 svg{animation:_spin_1j3dy_1 1s linear infinite}._noComments_1j3dy_687{padding:20px;text-align:center;color:var(--text-secondary);background-color:var(--bg-highlight);border-radius:8px;font-style:italic}._commentForm_1j3dy_696{margin-top:20px;padding:15px;border-radius:10px;background-color:var(--bg-highlight);box-shadow:0 2px 8px rgba(0,0,0,.1)}[data-theme=dark] ._commentForm_1j3dy_696{background-color:rgba(255,255,255,.05);box-shadow:0 2px 8px rgba(0,0,0,.2)}._commentForm_1j3dy_696 textarea{width:100%;min-height:80px;padding:12px;border-radius:8px;border:1px solid var(--border);background-color:var(--bg-input);color:var(--text-primary);font-size:15px;margin-bottom:12px;transition:border-color .2s,box-shadow .2s}._commentForm_1j3dy_696 textarea:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 2px rgba(29,161,242,.2)}[data-theme=dark] ._commentForm_1j3dy_696 textarea{background-color:rgba(255,255,255,.08);border-color:rgba(255,255,255,.15)}[data-theme=dark] ._commentForm_1j3dy_696 textarea:focus{box-shadow:0 0 0 2px rgba(29,161,242,.3)}._commentForm_1j3dy_696 button{background-color:var(--accent);color:#fff;border:none;border-radius:24px;padding:10px 20px;font-size:15px;font-weight:600;display:flex;align-items:center;gap:8px;cursor:pointer;margin-left:auto;transition:background-color .2s}._commentForm_1j3dy_696 button:hover:not(:disabled){background-color:var(--accent-dark)}._commentForm_1j3dy_696 button:disabled{opacity:.6;cursor:not-allowed}._commentForm_1j3dy_696 button svg{font-size:18px}._errorMessage_1j3dy_83{display:flex;align-items:center;gap:8px;padding:10px;margin-bottom:12px;background-color:rgba(231,76,60,.1);border-left:3px solid #e74c3c;color:#e74c3c;border-radius:4px}[data-theme=dark] ._errorMessage_1j3dy_83{background-color:rgba(231,76,60,.2)}._errorMessage_1j3dy_83 svg{flex-shrink:0}._commentItem_1j3dy_775{margin-bottom:20px;padding-left:10px;border-left:3px solid var(--accent)}[data-theme=dark] ._commentItem_1j3dy_775{border-left-color:rgba(29,161,242,.6)}._commentItem_1j3dy_775._commentReply_1j3dy_783{margin-left:30px;margin-top:15px;margin-bottom:10px;padding-left:10px;border-left:2px solid var(--accent-light, rgba(29, 161, 242, .4))}[data-theme=dark] ._commentItem_1j3dy_775._commentReply_1j3dy_783{border-left-color:rgba(29,161,242,.3)}._commentHeader_1j3dy_794{display:flex;align-items:center;margin-bottom:8px}._commentAuthorAvatar_1j3dy_800{width:32px;height:32px;border-radius:50%;overflow:hidden;margin-right:10px}._commentAuthorAvatar_1j3dy_800 img{width:100%;height:100%;object-fit:cover}._commentAuthorInfo_1j3dy_813{display:flex;flex-direction:column}._commentAuthor_1j3dy_800{text-decoration:none;font-weight:600;font-size:14px}._commentAuthor_1j3dy_800:hover{text-decoration:underline}._commentContent_1j3dy_827{margin-bottom:8px;font-size:14px;line-height:1.5;color:var(--text-primary);white-space:pre-wrap;word-break:break-word}._commentDate_1j3dy_836{font-size:12px;color:var(--text-tertiary);display:flex;align-items:center;gap:5px;margin-bottom:8px}._commentDate_1j3dy_836 svg{font-size:12px}._commentActions_1j3dy_848{display:flex;gap:10px}._replyButton_1j3dy_853{background:none;border:none;padding:5px 10px;font-size:12px;color:var(--accent);cursor:pointer;display:flex;align-items:center;gap:5px;border-radius:4px;transition:all .2s}._replyButton_1j3dy_853:hover{background-color:rgba(29,161,242,.1)}[data-theme=dark] ._replyButton_1j3dy_853:hover{background-color:rgba(29,161,242,.2)}._replyButton_1j3dy_853 svg{font-size:14px}._deleteCommentButton_1j3dy_876{background:none;border:none;padding:5px 10px;font-size:12px;color:#e74c3c;cursor:pointer;display:flex;align-items:center;gap:5px;border-radius:4px;transition:all .2s}._deleteCommentButton_1j3dy_876:hover{background-color:rgba(231,76,60,.1)}[data-theme=dark] ._deleteCommentButton_1j3dy_876:hover{background-color:rgba(231,76,60,.2)}._deleteCommentButton_1j3dy_876:disabled{opacity:.5;cursor:not-allowed}._deleteCommentButton_1j3dy_876 svg{font-size:14px}._repliesContainer_1j3dy_903{margin-top:12px}._replyForm_1j3dy_907{margin-top:12px;display:flex;flex-direction:column;gap:10px;padding:10px;background-color:var(--bg-highlight);border-radius:8px}[data-theme=dark] ._replyForm_1j3dy_907{background-color:rgba(255,255,255,.03)}._replyForm_1j3dy_907 textarea{padding:10px;border-radius:6px;border:1px solid var(--border);background-color:var(--bg-input);color:var(--text-primary);min-height:60px;font-size:14px}._replyForm_1j3dy_907 textarea:focus{outline:none;border-color:var(--accent)}[data-theme=dark] ._replyForm_1j3dy_907 textarea{background-color:rgba(255,255,255,.05);border-color:rgba(255,255,255,.1)}._replyFormActions_1j3dy_937{display:flex;justify-content:flex-end;gap:10px}._cancelReplyButton_1j3dy_943,._submitReplyButton_1j3dy_943{padding:6px 12px;border-radius:20px;font-size:12px;font-weight:500;display:flex;align-items:center;gap:5px;cursor:pointer;transition:all .2s}._cancelReplyButton_1j3dy_943{background:none;border:1px solid var(--border);color:var(--text-secondary)}._cancelReplyButton_1j3dy_943:hover:not(:disabled){background-color:var(--bg-hover)}[data-theme=dark] ._cancelReplyButton_1j3dy_943{border-color:rgba(255,255,255,.2);color:rgba(255,255,255,.7)}[data-theme=dark] ._cancelReplyButton_1j3dy_943:hover:not(:disabled){background-color:rgba(255,255,255,.1)}._submitReplyButton_1j3dy_943{background-color:var(--accent);border:none;color:#fff}._submitReplyButton_1j3dy_943:hover:not(:disabled){background-color:var(--accent-dark)}._submitReplyButton_1j3dy_943:disabled{opacity:.6;cursor:not-allowed}@media (max-width: 768px){._postsContainer_1j3dy_2{padding:15px}._postItem_1j3dy_398{padding:16px}._postContent_1j3dy_462{font-size:15px}._formOptions_1j3dy_347{flex-direction:column;gap:8px}._commentContent_1j3dy_827,._commentDate_1j3dy_836,._commentActions_1j3dy_848{padding-left:0;margin-top:8px}._repliesContainer_1j3dy_903,._replyForm_1j3dy_907{margin-left:16px}}textarea{resize:none!important;font-family:inherit}[data-theme=dark] textarea{background-color:rgba(255,255,255,.05);border-color:rgba(255,255,255,.1);color:rgba(255,255,255,.9)}[data-theme=dark] textarea::placeholder{color:rgba(255,255,255,.5)}._stylingOptions_1j3dy_1024{margin-top:15px;padding:20px;background-color:var(--bg-highlight);border-radius:12px;border:1px solid var(--border);position:relative}[data-theme=dark] ._stylingOptions_1j3dy_1024{background-color:rgba(255,255,255,.03);border-color:rgba(255,255,255,.1)}._stylingOptions_1j3dy_1024:before{content:"🎨 Стиль";position:absolute;top:-10px;left:15px;background-color:var(--accent);color:#fff;font-size:12px;font-weight:600;padding:3px 10px;border-radius:12px;box-shadow:0 2px 8px rgba(29,161,242,.2)}._stylingTitle_1j3dy_1050{font-size:16px;font-weight:600;margin-bottom:15px;color:var(--text-primary);display:flex;align-items:center;gap:8px}._stylingTitle_1j3dy_1050 svg{color:var(--accent)}._stylingGroup_1j3dy_1063{margin-bottom:15px}._stylingGroup_1j3dy_1063 label{display:block;margin-bottom:8px;color:var(--text-secondary);font-size:14px;font-weight:500}._colorSelector_1j3dy_1074{display:flex;flex-wrap:wrap;gap:10px;margin-top:5px}._colorOption_1j3dy_1081{width:24px;height:24px;border-radius:50%;cursor:pointer;border:2px solid transparent;transition:all .2s ease}._colorOption_1j3dy_1081:hover{transform:scale(1.2)}._colorOption_1j3dy_1081._active_1j3dy_1092{border-color:var(--accent);box-shadow:0 0 0 2px rgba(29,161,242,.3)}._fontSelector_1j3dy_1097{width:100%;padding:10px;border:1px solid var(--border);border-radius:8px;background-color:var(--bg-input);color:var(--text-primary);cursor:pointer}._fontSelector_1j3dy_1097:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 2px rgba(29,161,242,.2)}._fontSelector_1j3dy_1097 option{padding:8px}[data-theme=dark] ._fontSelector_1j3dy_1097{background-color:rgba(255,255,255,.05);border-color:rgba(255,255,255,.1)}._formToggles_1j3dy_1119{display:flex;gap:20px}._addOptionButton_1j3dy_319{display:flex;align-items:center;justify-content:center;gap:8px;background:none;border:1px dashed var(--border);width:100%;padding:10px;border-radius:8px;margin-top:10px;cursor:pointer;color:var(--accent);font-size:14px;transition:all .2s ease}._addOptionButton_1j3dy_319:hover:not(:disabled){background-color:rgba(29,161,242,.05);border-color:var(--accent)}._addOptionButton_1j3dy_319:disabled{opacity:.5;cursor:not-allowed}[data-theme=dark] ._addOptionButton_1j3dy_319{border-color:rgba(255,255,255,.2)}[data-theme=dark] ._addOptionButton_1j3dy_319:hover:not(:disabled){background-color:rgba(29,161,242,.1)}._addOptionButton_1j3dy_319 svg{font-size:16px}._colorPickerContainer_1j3dy_1158{position:relative;display:inline-block}._colorPreview_1j3dy_1163{width:42px;height:42px;border-radius:8px;cursor:pointer;display:flex;align-items:center;justify-content:center;border:2px solid var(--border);transition:all .2s ease}._colorPreview_1j3dy_1163:hover{transform:scale(1.1);box-shadow:0 2px 8px rgba(0,0,0,.1)}[data-theme=dark] ._colorPreview_1j3dy_1163{border-color:rgba(255,255,255,.2)}[data-theme=dark] ._colorPreview_1j3dy_1163:hover{box-shadow:0 2px 8px rgba(0,0,0,.2)}._dropletIcon_1j3dy_1185{color:rgba(255,255,255,.8);font-size:20px;filter:drop-shadow(0 0 1px rgba(0,0,0,.8))}._colorPickerPopup_1j3dy_1191{position:absolute;z-index:100;top:calc(100% + 5px);left:0}._colorPickerPopup_1j3dy_1191 ._react-colorful_1j3dy_1197{border-radius:8px;box-shadow:0 2px 15px rgba(0,0,0,.15)}[data-theme=dark] ._colorPickerPopup_1j3dy_1191 ._react-colorful_1j3dy_1197{box-shadow:0 2px 15px rgba(0,0,0,.3)}._colorPickerCover_1j3dy_1205{position:fixed;top:0;right:0;bottom:0;left:0;z-index:-1}._colorNote_1j3dy_1214{font-size:12px;margin-top:8px;color:var(--accent);font-style:italic;line-height:1.4;padding:5px 8px;background-color:rgba(var(--accent-rgb),.1);border-radius:4px}[data-theme=dark] ._colorNote_1j3dy_1214{background-color:rgba(var(--accent-rgb),.15)}._likeAnimation_1j3dy_1228{animation:_likePulse_1j3dy_1 .5s cubic-bezier(.4,0,.2,1)}@keyframes _likePulse_1j3dy_1{0%{transform:scale(1)}50%{transform:scale(1.3)}to{transform:scale(1)}}._authPrompt_1j3dy_1243{text-align:center;padding:20px;background:var(--bg-secondary);border-radius:12px;margin-bottom:20px;border:1px solid var(--border)}._authPrompt_1j3dy_1243 p{margin:0 0 10px;color:var(--text-secondary)}._authPrompt_1j3dy_1243 ._loginButton_1j3dy_1255{display:inline-block;padding:8px 16px;background:var(--accent);color:#fff;text-decoration:none;border-radius:6px;transition:all .2s ease}._authPrompt_1j3dy_1243 ._loginButton_1j3dy_1255:hover{background:var(--accent-hover);transform:translateY(-1px)}._titleInput_1j3dy_1269{width:100%;padding:12px 16px;border:1px solid var(--border);border-radius:8px;margin-bottom:12px;background-color:var(--bg-input);color:var(--text-primary);font-size:18px;font-weight:600}._titleInput_1j3dy_1269:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 2px rgba(76,155,254,.15)}._titleInput_1j3dy_1269::placeholder{color:var(--text-tertiary);font-weight:400}[data-theme=dark] ._titleInput_1j3dy_1269{background-color:rgba(255,255,255,.05);border-color:rgba(255,255,255,.1)}[data-theme=dark] ._titleInput_1j3dy_1269:focus{box-shadow:0 0 0 2px rgba(76,155,254,.2)}._postTitle_1j3dy_1297{font-size:22px;font-weight:700;margin:0 0 16px;line-height:1.3;color:var(--text-primary);word-break:break-word}[data-theme=dark] ._postTitle_1j3dy_1297 ._darkTextConversion_1j3dy_470{color:var(--text-primary)!important}._adminPanel_15slc_1{max-width:1200px;margin:2rem auto;padding:1.5rem;background-color:#f8f9fa;border-radius:12px;box-shadow:0 4px 16px rgba(0,0,0,.08);position:relative;overflow:hidden}[data-theme=dark] ._adminPanel_15slc_1{background-color:#1e1e24;box-shadow:0 4px 16px rgba(0,0,0,.2);border:1px solid rgba(70,70,80,.3)}._adminPanel_15slc_1:before{content:"";position:absolute;top:0;left:0;width:100%;height:4px;background:linear-gradient(90deg,#666,#444)}[data-theme=dark] ._adminPanel_15slc_1:before{background:linear-gradient(90deg,#444,#333)}._title_15slc_29{font-size:2rem;margin-bottom:1.75rem;padding-bottom:1rem;border-bottom:2px solid #666;color:#333;font-weight:600;display:flex;align-items:center;gap:12px}[data-theme=dark] ._title_15slc_29{color:#e0e0e0;border-bottom:2px solid #555}._title_15slc_29 svg{color:#555}[data-theme=dark] ._title_15slc_29 svg{color:#888}._error_15slc_51{padding:1rem 1.25rem;margin-bottom:1.5rem;background-color:rgba(220,53,69,.08);color:#dc3545;border-radius:10px;border-left:4px solid #dc3545;font-size:1rem;display:flex;align-items:center;animation:_fadeIn_15slc_1 .3s ease-in-out}[data-theme=dark] ._error_15slc_51{background-color:rgba(220,53,69,.15);color:#ff6b6b}._message_15slc_68{padding:1rem 1.25rem;margin-bottom:1.5rem;border-radius:10px;font-size:1rem;display:flex;align-items:center;animation:_fadeIn_15slc_1 .3s ease-in-out}._message_15slc_68._success_15slc_77{background-color:rgba(40,167,69,.08);border-left:4px solid #28a745;color:#28a745}[data-theme=dark] ._message_15slc_68._success_15slc_77{background-color:rgba(40,167,69,.15);color:#5dde80}._message_15slc_68._info_15slc_86{background-color:rgba(13,110,253,.08);border-left:4px solid #0d6efd;color:#0d6efd}[data-theme=dark] ._message_15slc_68._info_15slc_86{background-color:rgba(13,110,253,.15);color:#5a9dff}._message_15slc_68._error_15slc_51{background-color:rgba(220,53,69,.08);border-left:4px solid #dc3545;color:#dc3545}[data-theme=dark] ._message_15slc_68._error_15slc_51{background-color:rgba(220,53,69,.15);color:#ff6b6b}@keyframes _fadeIn_15slc_1{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}._content_15slc_115{display:grid;grid-template-columns:1fr;gap:2rem}@media (min-width: 768px){._content_15slc_115{grid-template-columns:minmax(300px,1fr) minmax(350px,1.5fr);gap:2.5rem}}@media (max-width: 767px){._content_15slc_115 ._usersSection_15slc_127,._content_15slc_115 ._editSection_15slc_127{min-width:100%}}._usersSection_15slc_127 h2,._editSection_15slc_127 h2{font-size:1.4rem;margin-bottom:1.25rem;color:#333;font-weight:600;padding-bottom:.75rem;border-bottom:1px solid #eee;display:flex;align-items:center;gap:10px}[data-theme=dark] ._usersSection_15slc_127 h2,[data-theme=dark] ._editSection_15slc_127 h2{color:#e0e0e0;border-bottom:1px solid #333}._usersSection_15slc_127 h2 svg,._editSection_15slc_127 h2 svg{color:#666}[data-theme=dark] ._usersSection_15slc_127 h2 svg,[data-theme=dark] ._editSection_15slc_127 h2 svg{color:#999}._loader_15slc_154{display:flex;align-items:center;justify-content:center;height:160px;color:#666;font-size:1.05rem}[data-theme=dark] ._loader_15slc_154{color:#999}._loader_15slc_154 svg{margin-right:12px;animation:_spin_15slc_1 1.2s linear infinite;font-size:1.5rem}@keyframes _spin_15slc_1{0%{transform:rotate(0)}to{transform:rotate(360deg)}}._usersList_15slc_179{max-height:680px;overflow-y:auto;border:1px solid #eee;border-radius:10px;background-color:#fff;box-shadow:0 4px 16px rgba(0,0,0,.04)}[data-theme=dark] ._usersList_15slc_179{background-color:#252530;border:1px solid #333;box-shadow:0 4px 16px rgba(0,0,0,.2)}._usersList_15slc_179::-webkit-scrollbar{width:10px}._usersList_15slc_179::-webkit-scrollbar-track{background:#f1f1f1;border-radius:10px}[data-theme=dark] ._usersList_15slc_179::-webkit-scrollbar-track{background:#2a2a35}._usersList_15slc_179::-webkit-scrollbar-thumb{background:#ccc;border-radius:10px}[data-theme=dark] ._usersList_15slc_179::-webkit-scrollbar-thumb{background:#444}._usersList_15slc_179::-webkit-scrollbar-thumb:hover{background:#bbb}[data-theme=dark] ._usersList_15slc_179::-webkit-scrollbar-thumb:hover{background:#555}._userItem_15slc_216{display:flex;padding:1.25rem;border-bottom:1px solid #eee;cursor:pointer;transition:all .25s ease}[data-theme=dark] ._userItem_15slc_216{border-bottom:1px solid #333}._userItem_15slc_216:hover{background-color:rgba(0,0,0,.03);transform:translateY(-2px)}[data-theme=dark] ._userItem_15slc_216:hover{background-color:rgba(255,255,255,.04)}._userItem_15slc_216._selected_15slc_233{background-color:rgba(99,102,241,.08);border-left:4px solid #666}[data-theme=dark] ._userItem_15slc_216._selected_15slc_233{background-color:rgba(99,102,241,.15);border-left:4px solid #888}._userItem_15slc_216:last-child{border-bottom:none}._userAvatar_15slc_245{flex-shrink:0;width:60px;height:60px;margin-right:1.25rem;border-radius:50%;overflow:hidden;box-shadow:0 4px 10px rgba(0,0,0,.15)}[data-theme=dark] ._userAvatar_15slc_245{box-shadow:0 4px 10px rgba(0,0,0,.3)}._userAvatar_15slc_245 img{width:100%;height:100%;border-radius:50%;object-fit:cover}._userAvatar_15slc_245 ._noAvatar_15slc_263{width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#666,#444);color:#fff;border-radius:50%;font-weight:600;font-size:1.25rem}[data-theme=dark] ._userAvatar_15slc_245 ._noAvatar_15slc_263{background:linear-gradient(135deg,#555,#333)}._userInfo_15slc_279{flex:1;min-width:0;display:flex;flex-direction:column;justify-content:center}._userName_15slc_287{font-weight:600;margin-bottom:.35rem;color:#333;font-size:1.15rem}[data-theme=dark] ._userName_15slc_287{color:#e0e0e0}._userEmail_15slc_297{font-size:.95rem;color:#666;margin-bottom:.75rem}[data-theme=dark] ._userEmail_15slc_297{color:#aaa}._userPerks_15slc_306{display:flex;flex-wrap:wrap;gap:.6rem}._perk_15slc_312{display:inline-flex;align-items:center;justify-content:center;font-size:.75rem;padding:.3rem .7rem;border-radius:14px;font-weight:500;letter-spacing:.4px;text-transform:uppercase}._perk_15slc_312._user_15slc_127{background-color:#f0f0f0;color:#555}[data-theme=dark] ._perk_15slc_312._user_15slc_127{background-color:rgba(240,240,240,.1);color:#aaa}._perk_15slc_312._early_user_15slc_331{background-color:rgba(52,152,219,.15);color:#3498db}[data-theme=dark] ._perk_15slc_312._early_user_15slc_331{background-color:rgba(52,152,219,.25);color:#66b5e8}._perk_15slc_312._sponsor_15slc_339{background-color:rgba(243,156,18,.15);color:#f39c12}[data-theme=dark] ._perk_15slc_312._sponsor_15slc_339{background-color:rgba(243,156,18,.25);color:#ffb74d}._perk_15slc_312._admin_15slc_1{background-color:rgba(255,69,0,.15);color:#ff4500;font-weight:600}[data-theme=dark] ._perk_15slc_312._admin_15slc_1{background-color:rgba(255,69,0,.25);color:#ff6d3f}._editSection_15slc_127 h2{font-size:1.25rem;margin-bottom:1rem;color:#333;font-weight:600;padding-bottom:.5rem;border-bottom:1px solid #eee;display:flex;align-items:center;gap:8px}[data-theme=dark] ._editSection_15slc_127 h2{color:#e0e0e0;border-bottom:1px solid #333}._editSection_15slc_127 h2 svg{color:#666}[data-theme=dark] ._editSection_15slc_127 h2 svg{color:#999}._editForm_15slc_379{background-color:#fff;padding:2rem;border-radius:12px;border:1px solid #eee;box-shadow:0 4px 20px rgba(0,0,0,.05);max-width:100%}[data-theme=dark] ._editForm_15slc_379{background-color:#252530;border:1px solid #333;box-shadow:0 4px 20px rgba(0,0,0,.2)}._formGroup_15slc_393{margin-bottom:1.75rem}._formGroup_15slc_393 label{display:block;margin-bottom:.75rem;font-size:1rem;font-weight:500;color:#444;display:flex;align-items:center;gap:8px}[data-theme=dark] ._formGroup_15slc_393 label{color:#ccc}._formGroup_15slc_393 label svg{color:#666;font-size:1.2rem}[data-theme=dark] ._formGroup_15slc_393 label svg{color:#999}._formGroup_15slc_393 input[type=text],._formGroup_15slc_393 input[type=email],._formGroup_15slc_393 input[type=password]{width:100%;padding:.85rem 1rem;border:1px solid #ddd;border-radius:8px;font-size:1.05rem;background-color:#fff;color:#333;transition:all .2s ease;height:50px}._formGroup_15slc_393 input[type=text]:focus,._formGroup_15slc_393 input[type=email]:focus,._formGroup_15slc_393 input[type=password]:focus{outline:none;border-color:#666;box-shadow:0 0 0 4px rgba(102,102,102,.15)}._formGroup_15slc_393 input[type=text]::placeholder,._formGroup_15slc_393 input[type=email]::placeholder,._formGroup_15slc_393 input[type=password]::placeholder{color:#aaa}[data-theme=dark] ._formGroup_15slc_393 input[type=text],[data-theme=dark] ._formGroup_15slc_393 input[type=email],[data-theme=dark] ._formGroup_15slc_393 input[type=password]{background-color:#1e1e24;border-color:#444;color:#e0e0e0}[data-theme=dark] ._formGroup_15slc_393 input[type=text]:focus,[data-theme=dark] ._formGroup_15slc_393 input[type=email]:focus,[data-theme=dark] ._formGroup_15slc_393 input[type=password]:focus{border-color:#777;box-shadow:0 0 0 4px rgba(150,150,150,.15)}[data-theme=dark] ._formGroup_15slc_393 input[type=text]::placeholder,[data-theme=dark] ._formGroup_15slc_393 input[type=email]::placeholder,[data-theme=dark] ._formGroup_15slc_393 input[type=password]::placeholder{color:#666}._perksOptions_15slc_460{display:flex;flex-direction:column;gap:1rem;margin-top:.75rem;padding:1.25rem;background-color:#f8f9fa;border-radius:8px;border:1px solid #eee}[data-theme=dark] ._perksOptions_15slc_460{background-color:#1e1e24;border:1px solid #333}._perkOption_15slc_475{display:flex;align-items:center}._perkOption_15slc_475 label{margin:0 0 0 .75rem;font-weight:400;cursor:pointer;font-size:1rem}[data-theme=dark] ._perkOption_15slc_475 label{color:#ccc}._perkOption_15slc_475 input[type=checkbox]{cursor:pointer;width:20px;height:20px}._perkOption_15slc_475 input[type=checkbox]:checked{accent-color:#666}[data-theme=dark] ._perkOption_15slc_475 input[type=checkbox]:checked{accent-color:#888}._formActions_15slc_500{display:flex;justify-content:flex-end;gap:1.25rem;margin-top:2.5rem}._cancelButton_15slc_507,._saveButton_15slc_508{padding:.85rem 2rem;border-radius:8px;font-size:1rem;font-weight:500;cursor:pointer;border:none;transition:all .2s ease;display:flex;align-items:center;justify-content:center;gap:8px;min-width:140px}._cancelButton_15slc_507{background-color:#f0f0f0;color:#333}._cancelButton_15slc_507:hover{background-color:#e4e4e4;transform:translateY(-2px)}[data-theme=dark] ._cancelButton_15slc_507{background-color:#333;color:#ddd}[data-theme=dark] ._cancelButton_15slc_507:hover{background-color:#444}._cancelButton_15slc_507 svg{font-size:1.1rem}._saveButton_15slc_508{background:linear-gradient(90deg,#666,#444);color:#fff}._saveButton_15slc_508:hover{background:linear-gradient(90deg,#555,#333);transform:translateY(-2px);box-shadow:0 4px 12px rgba(0,0,0,.15)}._saveButton_15slc_508:disabled{opacity:.7;cursor:not-allowed;transform:none;box-shadow:none}[data-theme=dark] ._saveButton_15slc_508{background:linear-gradient(90deg,#777,#555)}[data-theme=dark] ._saveButton_15slc_508:hover{background:linear-gradient(90deg,#666,#444);box-shadow:0 4px 12px rgba(0,0,0,.25)}._saveButton_15slc_508 svg{font-size:1.1rem}._noUserSelected_15slc_568{background-color:#fff;padding:3rem 2rem;border-radius:12px;border:1px solid #eee;box-shadow:0 4px 20px rgba(0,0,0,.05);display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:350px;text-align:center;color:#777}[data-theme=dark] ._noUserSelected_15slc_568{background-color:#252530;border:1px solid #333;box-shadow:0 4px 20px rgba(0,0,0,.2);color:#aaa}._noUserSelected_15slc_568 p{margin:1.5rem 0;font-size:1.1rem}._noUserSelected_15slc_568 svg{font-size:4rem;color:#ccc;margin-bottom:1.5rem}[data-theme=dark] ._noUserSelected_15slc_568 svg{color:#555}._emptyList_15slc_601{padding:2rem;text-align:center;color:#777}[data-theme=dark] ._emptyList_15slc_601{color:#aaa}._resetContainer_1iy2b_1{display:flex;justify-content:center;align-items:center;min-height:100vh;padding:2rem;background-color:var(--background-color)}._resetCard_1iy2b_10{width:100%;max-width:400px;padding:2rem;background-color:var(--bg-secondary);border-radius:var(--radius-lg);box-shadow:var(--shadow)}._resetCard_1iy2b_10 h2{text-align:center;margin-bottom:1.5rem;color:var(--text-primary)}._resetForm_1iy2b_24{display:flex;flex-direction:column}._formGroup_1iy2b_29{margin-bottom:1rem}._formGroup_1iy2b_29 label{display:block;margin-bottom:.5rem;font-size:.875rem;font-weight:500;color:var(--text-secondary)}._formGroup_1iy2b_29 input{width:100%;padding:.75rem;border:1px solid var(--border);border-radius:var(--radius-md);font-size:1rem;background-color:var(--bg-input);color:var(--text-primary);transition:all var(--transition-fast)}._formGroup_1iy2b_29 input:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 2px var(--accent-light)}._formGroup_1iy2b_29 input:disabled{background-color:var(--bg-highlight);cursor:not-allowed}._resetButton_1iy2b_59{margin-top:1rem;padding:.75rem 1.5rem;background-color:var(--accent);color:#fff;border:none;border-radius:var(--radius-md);font-size:1rem;font-weight:500;cursor:pointer;transition:all var(--transition-fast)}._resetButton_1iy2b_59:hover{background-color:var(--accent-hover);transform:translateY(-2px)}._resetButton_1iy2b_59:disabled{opacity:.7;cursor:not-allowed}._message_1iy2b_80{padding:.75rem;margin-bottom:1rem;border-radius:var(--radius-md);font-size:.875rem}._message_1iy2b_80._success_1iy2b_86{background-color:rgba(var(--success-rgb, 40, 167, 69),.1);border-left:4px solid var(--success);color:var(--success)}._message_1iy2b_80._info_1iy2b_91{background-color:rgba(var(--info-rgb, 13, 110, 253),.1);border-left:4px solid var(--info);color:var(--info)}._message_1iy2b_80._error_1iy2b_96{background-color:rgba(var(--error-rgb, 220, 53, 69),.1);border-left:4px solid var(--error);color:var(--error)}._themeButton_x78qx_1{position:absolute;top:10px;right:10px;z-index:10;padding:10px;background:#000;border-radius:35px;cursor:pointer;transition:transform .3s ease}[data-theme=dark] ._themeButton_x78qx_1{background:#fff}._themeButton_x78qx_1:hover{transform:scale(1.1)}._themeButton_x78qx_1:focus{outline:none}\n/*$vite$:1*/',document.head.appendChild(e);const t="_page_1gdlo_174",te="_text-animation_1gdlo_282",re="_text-animation-slow_1gdlo_293",ae={window:"_window_168ys_2",window__message:"_window__message_168ys_12",window__panel:"_window__panel_168ys_22",window__panel__iconWrapper:"_window__panel__iconWrapper_168ys_34",window__panel__navButtons:"_window__panel__navButtons_168ys_39",window__panel__navButtons__navButton:"_window__panel__navButtons__navButton_168ys_44",window__panel__navButtons__navButton__arrow:"_window__panel__navButtons__navButton__arrow_168ys_49",disabled:"_disabled_168ys_60"},oe=({children:e,direction:t,selectedIcon:i,showMessage:s=!0})=>r.jsx(a,{mode:"wait",custom:t,children:i?r.jsx(o.div,{custom:t,initial:{opacity:0,x:t>0?100:-100},animate:{opacity:1,x:0},exit:{opacity:0,x:t>0?-100:100},transition:{duration:.3},layout:!0,style:{width:"100%",height:"100%"},children:e},i):s&&r.jsx(o.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:r.jsx("div",{className:ae.window__message,children:r.jsx("h2",{children:"Выберите персонажа"})})},"message")}),ie={menu:"_menu_15kr5_2",menu__left:"_menu__left_15kr5_14",menu__left__pic:"_menu__left__pic_15kr5_24",menu__right:"_menu__right_15kr5_35",menu__right__titleblock:"_menu__right__titleblock_15kr5_52",menu__right__titleblock__fullname:"_menu__right__titleblock__fullname_15kr5_60",menu__right__titleblock__maininfo:"_menu__right__titleblock__maininfo_15kr5_63"};function se(e){if(!Number.isInteger(e)||e<0)throw new Error("Возраст должен быть неотрицательным целым числом");const t=e%10,r=e%100;return r>=11&&r<=19?"лет":1===t?"год":t>=2&&t<=4?"года":"лет"}const ne={button:"_button_1jwbf_1",icon:"_icon_1jwbf_39"},le=({text:e})=>r.jsx(r.Fragment,{children:e.split("").map(((e,t)=>{const a=" "===e?" ":e;return r.jsx("span",{style:{animationDelay:.05*t+"s"},children:a},t)}))}),de={modalOverlay:"_modalOverlay_1iw7e_2",modalOverlay__content:"_modalOverlay__content_1iw7e_15",modalOverlay__closeButton:"_modalOverlay__closeButton_1iw7e_29",modalOverlay__textContent:"_modalOverlay__textContent_1iw7e_42",modalOverlay__navigation:"_modalOverlay__navigation_1iw7e_48",modalOverlay__arrowRight:"_modalOverlay__arrowRight_1iw7e_54",modalOverlay__arrowLeft:"_modalOverlay__arrowLeft_1iw7e_54",modalOverlay__title:"_modalOverlay__title_1iw7e_67",modalOverlay__textBlock:"_modalOverlay__textBlock_1iw7e_86",modalOverlay__textBlock__textCont:"_modalOverlay__textBlock__textCont_1iw7e_89",modalOverlay__pageIndicator:"_modalOverlay__pageIndicator_1iw7e_104",fadeIn:"_fadeIn_1iw7e_116",fadeOut:"_fadeOut_1iw7e_120",disabled:"_disabled_1iw7e_124"},ce=e=>e&&"string"==typeof e?e.replace(/class=/g,"className="):"",_e=e=>{if(!e||"string"!=typeof e)return[];if(!/<p>.*?<\/p>/g.test(e))return[`<p>${e}</p>`];if("undefined"==typeof window)return[e];const t=e.split("<p>").filter(Boolean).map((e=>e.split("</p>")[0].trim())),r=t.pop()||null,a=[];let o="",i=0;const s=window.innerWidth<=768,n=window.innerHeight,l=document.createElement("div");l.style.position="absolute",l.style.visibility="hidden",l.style.maxWidth="600px",l.style.fontFamily="graphr, sans-serif",l.style.fontSize="1.6rem",l.style.lineHeight="1.5",l.style.padding="10px",l.style.wordWrap="break-word";const d=document.createElement("style");d.textContent="\n    .blur {\n      filter: blur(4px);\n      display: inline-block;\n    }\n  ",document.head.appendChild(d),document.body.appendChild(l);try{const e=s&&n>400?600:800,d=s?500:1/0;if(t.length>0){const e=t.shift().trim();o=`<p>${e}</p>`,i=e.length}if(t.forEach((t=>{const r=t.trim(),s=`<p>${r}</p>`,n=r.length;l.innerHTML=ce(o+s),l.scrollHeight>e||i+n>d?(a.push(o),o=s,i=n):(o+=s,i+=n)})),o&&a.push(o),r&&r.trim()){const t=`<blockquote>${r.trim()}</blockquote>`;l.innerHTML=ce(o+t),l.scrollHeight>e?(a.push(o),a.push(t)):a[a.length-1]+=t}}finally{document.body.removeChild(l),document.head.removeChild(d)}return a},pe={};function me(e){const[t,r]=i.useState(null),[a,o]=i.useState(!0),[s,n]=i.useState(null),l=i.useRef(!0);return i.useEffect((()=>(l.current=!0,(async()=>{try{const t=await(async e=>{if(pe[e])return pe[e];try{const t=await fetch(e);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const r=await t.json();return pe[e]=r,r}catch(t){return null}})(e);if(!l.current)return;if(!t)throw new Error("Failed to load data");r(t),n(null)}catch(t){l.current&&n(t.message)}finally{l.current&&o(!1)}})(),()=>{l.current=!1})),[e]),{data:t,loading:a,error:s}}const ue=e=>{if(!e)return"Не найден";const{name:t}=e;return["Фауст","Лонариус"].includes(t)?`${t}а`:t},xe=({html:e,onHeightChange:t})=>{const a=i.useRef(null);if(i.useEffect((()=>{if(a.current&&t){const e=a.current.scrollHeight;t(e)}}),[e,t]),!e||"string"!=typeof e)return null;const o=document.createElement("div");o.innerHTML=e;const n=e=>{if(e.nodeType===Node.TEXT_NODE)return e.textContent;if(e.nodeType===Node.ELEMENT_NODE){const t=Array.from(e.childNodes).map(n),r={key:Math.random().toString(36).substr(2,9),className:e.className||void 0,style:e.style.cssText||void 0};return Array.from(e.attributes).forEach((e=>{"class"!==e.name&&"style"!==e.name&&(r[e.name]=e.value)})),s.createElement(e.tagName.toLowerCase(),r,...t)}return null};return r.jsx("div",{ref:a,className:"html-content",children:n(o)})},ge=({isOpen:e,onClose:t,id:a})=>{const[o,s]=i.useState(!1),[l,d]=i.useState(!1),[c,_]=i.useState(null),[p,m]=i.useState(0),u=i.useRef(null),{data:x,loading:g,error:h}=me("https://gist.githubusercontent.com/igorao79/17a1e2924e5dbee9371956c24be2a31b/raw/24a8ba7d250a00e594387072aa0fc47641c6b8a6/chlore.json"),{currentPage:b,nextPage:f,prevPage:y}=((e=0)=>{const[t,r]=i.useState(e);return{currentPage:t,nextPage:e=>{t<e-1&&r(t+1)},prevPage:()=>{t>0&&r(t-1)},setCurrentPage:r}})();i.useEffect((()=>(d(!0),_(document.body),()=>{d(!1),_(null)})),[]);const{character:v,pages:k}=i.useMemo((()=>{if(!x||!a)return{character:null,pages:[]};const e=((e,t)=>{const r=e[t];if(r&&r.lore&&"string"==typeof r.lore)return r})(x,a);return e&&e.lore&&""!==e.lore.trim()?{character:e,pages:_e(e.lore)}:{character:e,pages:[]}}),[x,a]);return e&&v&&0!==k.length&&l&&c?g?n.createPortal(r.jsx("div",{className:de.modalOverlay,children:r.jsx("div",{className:de.loading,children:"Loading..."})}),c):h?n.createPortal(r.jsx("div",{className:de.modalOverlay,children:r.jsxs("div",{className:de.error,children:["Error: ",h]})}),c):n.createPortal(r.jsx("div",{className:de.modalOverlay,children:r.jsxs("div",{className:de.modalOverlay__content,onClick:e=>e.stopPropagation(),children:[r.jsx("button",{onClick:t,className:de.modalOverlay__closeButton,children:r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 30 30",children:r.jsx("path",{d:"M7 4H6L4 6v2l8 7-8 7v2l2 2h2l7-8 7 8h2l2-2v-2l-8-7 8-7V6l-2-2h-2l-7 8-7-8H7z"})})}),r.jsxs("div",{className:de.modalOverlay__textContent,children:[r.jsxs("div",{className:de.modalOverlay__navigation,children:[r.jsx("button",{onClick:()=>{s(!0),setTimeout((()=>{y(),s(!1)}),300)},disabled:0===b,className:`${de.modalOverlay__arrowLeft} ${0===b?de.disabled:""}`,children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",children:r.jsx("path",{d:"m12.718 4.707-1.413-1.415L2.585 12l8.72 8.707 1.413-1.415L6.417 13H20v-2H6.416l6.302-6.293z"})})}),r.jsx("button",{onClick:()=>{s(!0),setTimeout((()=>{f(k.length),s(!1)}),300)},disabled:b===k.length-1,className:`${de.modalOverlay__arrowRight} ${b===k.length-1?de.disabled:""}`,children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",children:r.jsx("path",{d:"M11.293 4.707 17.586 11H4v2h13.586l-6.293 6.293 1.414 1.414L21.414 12l-8.707-8.707-1.414 1.414z"})})})]}),r.jsxs("h2",{className:de.modalOverlay__title,children:["Лор ",ue(v)]}),r.jsx("div",{className:de.modalOverlay__textBlock,ref:u,children:r.jsx("div",{className:`${de.modalOverlay__textBlock__textCont} ${o?de.fadeOut:de.fadeIn}`,children:r.jsx(xe,{html:k[b],onHeightChange:e=>{m(e)}})})}),r.jsxs("div",{className:de.modalOverlay__pageIndicator,children:["Страница ",b+1," из ",k.length]})]})]})}),c):null},he=({id:e})=>{const[t,a]=i.useState(!1),[o,s]=i.useState(!1);i.useEffect((()=>(s(!0),()=>s(!1))),[]);const n=()=>{a(!1)},l=e=>{"Escape"===e.key&&n()};return i.useEffect((()=>(window.addEventListener("keydown",l),()=>{window.removeEventListener("keydown",l)})),[]),o?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:ne.wrapper,children:r.jsxs("button",{className:ne.button,onClick:()=>{a(!0)},children:[r.jsx("span",{className:`${te} ${re}`,children:r.jsx(le,{text:"Читать лор"})}),r.jsx("svg",{fill:"currentColor",viewBox:"0 0 24 24",className:ne.icon,children:r.jsx("path",{clipRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zm4.28 10.28a.75.75 0 000-1.06l-3-3a.75.75 0 10-1.06 1.06l1.72 1.72H8.25a.75.75 0 000 1.5h5.69l-1.72 1.72a.75.75 0 101.06 1.06l3-3z",fillRule:"evenodd"})})]})}),o&&t&&r.jsx(ge,{isOpen:t,onClose:n,id:e})]}):null};function be({id:e,src:t,name:a,surname:o="",age:i="?",height:s,bd:n="?"}){return r.jsxs("div",{id:e,className:ie.menu,children:[r.jsx("div",{className:ie.menu__left,children:r.jsxs("picture",{className:ie.menu__left__pic,children:[r.jsx("source",{srcSet:`./pics/char/picsfull/${t}.avif`,type:"image/avif"}),r.jsx("source",{srcSet:`./pics/char/picsfull/${t}.webp`,type:"image/webp"}),r.jsx("img",{src:`./pics/char/picsfull/${t}.png`,alt:`icon-${a}`,loading:"lazy"})]})}),r.jsxs("div",{className:ie.menu__right,children:[r.jsxs("div",{className:ie.menu__right__titleblock,children:[r.jsx("h2",{className:`${ie.menu__right__titleblock__fullname} ${te}`,children:r.jsx(le,{text:`${a} ${o}`})}),r.jsxs("div",{className:ie.menu__right__titleblock__maininfo,children:[r.jsx("span",{className:`${ie.menu__right__titleblock__maininfo__age} ${te}`,children:r.jsx(le,{text:`Возраст: ${i} ${"?"!==i&&se(i)}`})}),r.jsx("span",{className:`${ie.menu__right__titleblock__maininfo__height} ${te}`,children:r.jsx(le,{text:`Рост: ${s} см`})}),r.jsx("span",{className:`${ie.menu__right__titleblock__maininfo__bd} ${te}`,children:r.jsx(le,{text:`День рождения: ${n}`})})]})]}),r.jsx(he,{id:e})]})]})}const fe=i.createContext(),ye={light:{"--primary-color":"#000000","--background-color":"#ffffff","--text-color":"#000000","--secondary-color":"#666666","--accent-color":"#3498db"},dark:{"--primary-color":"#ffffff","--background-color":"#1a1a1a","--text-color":"#ffffff","--secondary-color":"#999999","--accent-color":"#3498db"}},ve=({children:e})=>{const t=localStorage.getItem("theme")||"light",[a,o]=i.useState(t),s=i.useCallback((e=>{const t=ye[e];Object.entries(t).forEach((([e,t])=>{document.documentElement.style.setProperty(e,t)})),document.documentElement.setAttribute("data-theme",e)}),[]),n=i.useCallback((()=>{const e="light"===a?"dark":"light";o(e),s(e),localStorage.setItem("theme",e)}),[a,s]);i.useEffect((()=>{s(t)}),[s,t]);const l=i.useMemo((()=>({theme:a,toggleTheme:n,isDarkMode:"dark"===a})),[a,n]);return r.jsx(fe.Provider,{value:l,children:e})},ke="_btn_2wi9v_2",we="_btn__pic_2wi9v_19",je="_darkTheme_2wi9v_30",Ne=s.memo((({src:e,index:t,onClick:a})=>{const{theme:o}=i.useContext(fe),s=i.useMemo((()=>({avif:`./pics/icons/${e}.avif`,webp:`./pics/icons/${e}.webp`,png:`./pics/icons/${e}.png`})),[e]);return r.jsxs("div",{children:[r.jsx("hr",{}),r.jsx("button",{className:ke,onClick:a,children:r.jsxs("picture",{className:`${we} ${"dark"===o?je:""}`,children:[r.jsx("source",{srcSet:s.avif,type:"image/avif"}),r.jsx("source",{srcSet:s.webp,type:"image/webp"}),r.jsx("img",{src:s.png,alt:`icon-${t}`,loading:"eager",decoding:"async"})]})}),r.jsx("hr",{})]})}));Ne.displayName="Icon";const ze=({icons:e,onIconClick:t})=>{const[s,n]=i.useState(0),l=e.slice(s,s+3);return r.jsx("div",{className:ae.window__panel,children:r.jsxs("div",{className:ae.window__panel__navButtons,children:[r.jsx("button",{className:`${ae.window__panel__navButtons__navButton} ${0===s?ae.disabled:""}`,onClick:()=>{n((e=>e>0?e-1:e))},disabled:0===s,"aria-label":"Назад",children:r.jsx("span",{className:ae.window__panel__navButtons__navButton__arrow,children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",children:r.jsx("path",{d:"m3.293 11.293 1.414 1.414L11 6.414V20h2V6.414l6.293 6.293 1.414-1.414L12 2.586l-8.707 8.707z"})})})}),r.jsx("div",{className:ae.window__panel__iconWrapper,children:r.jsx(a,{mode:"popLayout",children:l.map(((e,a)=>r.jsx(o.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},transition:{duration:.3,ease:"easeOut"},className:ae.window__panel__iconWrapper__icons,children:r.jsx(Ne,{src:e,index:s+a,onClick:()=>t(e)})},s+a)))})}),r.jsx("button",{className:`${ae.window__panel__navButtons__navButton} ${s>=e.length-3?ae.disabled:""}`,onClick:()=>{n((t=>t<e.length-3?t+1:t))},disabled:s>=e.length-3,"aria-label":"Вперёд",children:r.jsx("span",{className:ae.window__panel__navButtons__navButton__arrow,children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",children:r.jsx("path",{d:"M13 17.586V4h-2v13.586l-6.293-6.293-1.414 1.414L12 21.414l8.707-8.707-1.414-1.414L13 17.586z"})})})})]})})},qe=["faust","lonarius","vivian","akito"];function Be(){const[e,t]=i.useState(null),[a,o]=i.useState(1),[s,n]=i.useState(!1),{data:l}=me("https://gist.githubusercontent.com/igorao79/17a1e2924e5dbee9371956c24be2a31b/raw/24a8ba7d250a00e594387072aa0fc47641c6b8a6/chlore.json"),d=i.useCallback((r=>{s||(n(!0),o(e?qe.indexOf(r)>qe.indexOf(e)?1:-1:1),t(r),setTimeout((()=>n(!1)),300))}),[s,e]);return r.jsxs("div",{className:ae.window,children:[r.jsx(ze,{icons:qe,onIconClick:d}),r.jsx(oe,{selectedIcon:e,direction:a,children:e&&l[e]&&r.jsx(be,{id:e,src:l[e]?.src,name:l[e]?.name,surname:l[e]?.surname,age:l[e]?.age,height:l[e]?.height,bd:l[e]?.bd,lore:l[e]?.lore})})]})}const Ce="_aboutblock_16ydj_2",Se="_aboutblock__header_16ydj_15",Pe="_aboutblock__header__htitle_16ydj_22",Ie="_aboutblock__header__textblock_16ydj_27",Oe="_aboutblock__header__textblock__text_16ydj_38",Ae="_aboutblock__header__textblock__text__icon_16ydj_44",$e="_aboutblock__header__textblock__text__icon__main_16ydj_47",Ee="_aboutblock__header__textblock__text__icon__small_16ydj_51",Te="_aboutblock__main_16ydj_55",Fe="_aboutblock__main__btitle_16ydj_63",Ge="_aboutblock__main__dtitle_16ydj_63",Me="_aboutblock__main__authors_16ydj_68",De="_aboutblock__main__developers_16ydj_68",Le={member:"_member_1dq4u_2",member__imageWrapper:"_member__imageWrapper_1dq4u_21",member__image:"_member__image_1dq4u_21",member__info:"_member__info_1dq4u_35",member__info__details:"_member__info__details_1dq4u_44",member__info__details__name:"_member__info__details__name_1dq4u_49",member__info__details__role:"_member__info__details__role_1dq4u_75",member__info__bio:"_member__info__bio_1dq4u_81","member--igor":"_member--igor_1dq4u_85",rotate:"_rotate_1dq4u_1","member--lesya":"_member--lesya_1dq4u_95",float:"_float_1dq4u_1",borderRotate:"_borderRotate_1dq4u_1",blink:"_blink_1dq4u_1"},Re={igor:{src:"igorpic",id:"igor",name:"Игорь",bookteam:"Автор",developerteam:"Главный разработчик",bio:"d"},lesya:{src:"lesyapic",id:"lesya",name:"Леся",bookteam:"Художник, Соавтор",bio:"o"}},He=s.memo((({memberId:e})=>{const{theme:t}=i.useContext(fe),a=i.useMemo((()=>Re[e]),[e]);if(!a)return r.jsx("div",{className:Le.member__notfound,children:"Участник не найден."});const{imageSrc:o,safeId:s}=i.useMemo((()=>({imageSrc:`./pics/team/${a.src}`,safeId:`member--${a.id.replace(/\s+/g,"-").toLowerCase()}`})),[a]);return o?r.jsxs("div",{className:`${Le.member} ${Le[`member--${a.id}`]}`,id:s,children:[r.jsx("div",{className:Le.member__imageWrapper,children:r.jsxs("picture",{className:`${Le.member__imageContainer} ${"dark"===t?Le.darkTheme:""}`,children:[r.jsx("source",{srcSet:`${o}.avif`,type:"image/avif"}),r.jsx("source",{srcSet:`${o}.webp`,type:"image/webp"}),r.jsx("img",{src:`${o}.png`,alt:a.name,className:Le.member__image,loading:"lazy",decoding:"async"})]})}),r.jsxs("div",{className:Le.member__info,children:[r.jsxs("div",{className:Le.member__info__details,children:[r.jsx("h3",{className:Le.member__info__details__name,children:a.name}),r.jsx("p",{className:Le.member__info__details__role,children:a.bookteam})]}),r.jsx("p",{className:Le.member__info__bio,children:a.bio})]})]}):r.jsx("div",{className:Le.member__notfound,children:"Изображение не найдено."})}));He.displayName="BookMember";const Ue="_button_7ekxc_1",We="_icon_7ekxc_21",Ve=()=>r.jsxs("a",{href:"https://t.me/+yFsUa_nD88piNjg6",target:"_blank",rel:"noopener noreferrer",className:Ue,children:[r.jsx("div",{className:We,children:r.jsx("svg",{width:16,height:16,className:"bi bi-telegram",viewBox:"0 0 16 16",fill:"currentColor",children:r.jsx("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.3 6A388.8 388.8 0 0 0 3 8.3c0 .2.3.3.7.4H4l1.2.4.9-.3a82.9 82.9 0 0 1 3.6-2.1l-2 1.9-.3.3a8.2 8.2 0 0 1-.2.2c-.4.4-.7.7 0 1.1A66.2 66.2 0 0 1 9 11.4l.3.2c.3.2.6.4 1 .4.2 0 .4-.2.5-.8l1-5.8a1.4 1.4 0 0 0-.1-.3.3.3 0 0 0-.1-.2.5.5 0 0 0-.3 0c-.3 0-.8 0-3 1z"})})}),"Telegram"]}),Ye=s.memo((({memberId:e})=>{const{theme:t}=i.useContext(fe),a=i.useMemo((()=>Re[e]),[e]);if(!a)return r.jsx("div",{className:Le.member__notfound,children:"Участник не найден."});const{imageSrc:o,safeId:s}=i.useMemo((()=>({imageSrc:`./pics/team/${a.src}`,safeId:`member--${a.id.replace(/\s+/g,"-").toLowerCase()}`})),[a]);return o?r.jsxs("div",{className:`${Le.member} ${Le[`member--${a.id}`]}`,id:s,children:[r.jsx("div",{className:Le.member__imageWrapper,children:r.jsxs("picture",{className:`${Le.member__imageContainer} ${"dark"===t?Le.darkTheme:""}`,children:[r.jsx("source",{srcSet:`${o}.avif`,type:"image/avif"}),r.jsx("source",{srcSet:`${o}.webp`,type:"image/webp"}),r.jsx("img",{src:`${o}.png`,alt:a.name,className:Le.member__image,loading:"lazy",decoding:"async"})]})}),r.jsx("div",{className:Le.member__info,children:r.jsxs("div",{className:Le.member__info__details,children:[r.jsx("h3",{className:Le.member__info__details__name,children:a.name}),r.jsx("p",{className:Le.member__info__details__role,children:a.developerteam})]})})]}):r.jsx("div",{className:Le.member__notfound,children:"Изображение не найдено."})}));function Je(){return r.jsxs("div",{className:Ce,children:[r.jsxs("header",{className:Se,children:[r.jsx("h2",{className:Pe,children:"О нашей книге"}),r.jsxs("div",{className:Ie,children:[r.jsxs("div",{className:Oe,children:[r.jsxs("svg",{className:Ae,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 122.9 108.7",width:"50",height:"50",children:[r.jsx("path",{className:$e,d:"M95.2 91.4h-.8a1.6 1.6 0 0 1-1.6-1.7 23 23 0 0 0-1.9-9 27 27 0 0 0-13.4-13.5 23 23 0 0 0-9.1-1.8 1.6 1.6 0 0 1-1.6-1.7V63a1.6 1.6 0 0 1 1.6-1.7 22.9 22.9 0 0 0 9.1-1.8 25.4 25.4 0 0 0 8-5.5 25.6 25.6 0 0 0 5.4-7.9 22.9 22.9 0 0 0 1.8-9.1 1.6 1.6 0 0 1 1.7-1.6h.8a1.6 1.6 0 0 1 1.7 1.6 22.9 22.9 0 0 0 1.8 9.1 25.2 25.2 0 0 0 5.5 8 25.2 25.2 0 0 0 8 5.4 22.9 22.9 0 0 0 9 1.8A1.6 1.6 0 0 1 123 63v.8a1.6 1.6 0 0 1-1.7 1.7 23 23 0 0 0-9 1.8 27 27 0 0 0-13.5 13.4 23 23 0 0 0-1.8 9.1 1.6 1.6 0 0 1-1.7 1.7Z"}),r.jsx("path",{className:Ee,d:"M62 50h-.3a.4.4 0 0 1-.4-.4 6 6 0 0 0-.5-2.4 7.2 7.2 0 0 0-1.7-2.2 7.2 7.2 0 0 0-2.2-1.8 6 6 0 0 0-2.4-.4.4.4 0 0 1-.4-.4V42a.4.4 0 0 1 .4-.4 6 6 0 0 0 2.4-.5 7.2 7.2 0 0 0 2.2-1.7 7.2 7.2 0 0 0 1.7-2.2 6 6 0 0 0 .5-2.4.4.4 0 0 1 .4-.4h.3a.4.4 0 0 1 .4.4 6 6 0 0 0 .5 2.4 7.2 7.2 0 0 0 1.7 2.2 7.2 7.2 0 0 0 2.2 1.7 6 6 0 0 0 2.4.5.4.4 0 0 1 .4.4v.3a.4.4 0 0 1-.4.4 6 6 0 0 0-2.4.5 7.2 7.2 0 0 0-2.2 1.7 7.2 7.2 0 0 0-1.7 2.2 6 6 0 0 0-.5 2.4.4.4 0 0 1-.4.4Z"})]}),r.jsx("p",{children:"Основной жанр нашей книги - фэнтэзи с элементами дарк фэнтэзи, романтики и приключений"})]}),r.jsxs("div",{className:Oe,children:[r.jsxs("svg",{className:Ae,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 122.88 108.69",width:"50",height:"50",children:[r.jsx("path",{className:$e,d:"M95.24,91.38H94.4a1.65,1.65,0,0,1-1.65-1.65,22.91,22.91,0,0,0-1.81-9.12A27.06,27.06,0,0,0,77.52,67.19a23.05,23.05,0,0,0-9.12-1.81,1.65,1.65,0,0,1-1.64-1.64v-.85a1.64,1.64,0,0,1,1.64-1.64,22.88,22.88,0,0,0,9.12-1.82,25.35,25.35,0,0,0,7.93-5.49A25.62,25.62,0,0,0,90.94,46a22.87,22.87,0,0,0,1.81-9.11,1.65,1.65,0,0,1,1.65-1.64h.84a1.65,1.65,0,0,1,1.65,1.64A22.88,22.88,0,0,0,98.7,46a25.24,25.24,0,0,0,5.49,7.93,25.19,25.19,0,0,0,7.93,5.49,22.88,22.88,0,0,0,9.12,1.82,1.64,1.64,0,0,1,1.64,1.64v.85a1.65,1.65,0,0,1-1.64,1.64,23.05,23.05,0,0,0-9.12,1.81A27.06,27.06,0,0,0,98.7,80.61a23,23,0,0,0-1.81,9.12,1.65,1.65,0,0,1-1.65,1.65Z"}),r.jsx("path",{className:Ee,d:"M65,55h-0.7a1,1,0,0,1-1-1,15,15,0,0,0-1.2-6,18,18,0,0,0-4.3-5.6,18,18,0,0,0-5.6-4.3,15,15,0,0,0-6-1.2,1,1,0,0,1-1-1V35a1,1,0,0,1,1-1,15,15,0,0,0,6-1.2,18,18,0,0,0,5.6-4.3,18,18,0,0,0,4.3-5.6,15,15,0,0,0,1.2-6,1,1,0,0,1,1-1H65a1,1,0,0,1,1,1,15,15,0,0,0,1.2,6,18,18,0,0,0,4.3,5.6,18,18,0,0,0,5.6,4.3,15,15,0,0,0,6,1.2,1,1,0,0,1,1,1v0.7a1,1,0,0,1-1,1,15,15,0,0,0-6,1.2,18,18,0,0,0-5.6,4.3,18,18,0,0,0-4.3,5.6,15,15,0,0,0-1.2,6,1,1,0,0,1-1,1Z",fill:"black",transform:"scale(0.4) translate(90,70)"})]}),r.jsxs("p",{children:["Книга была создана 27 июня 2024 года — совершенно спонтанно, без чётких целей. За её развитием вы можете следить ",r.jsx("a",{href:"https://t.me/+yFsUa_nD88piNjg6",children:"здесь"})]})]}),r.jsxs("div",{className:Oe,children:[r.jsxs("svg",{className:Ae,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 122.88 108.69",width:"50",height:"50",children:[r.jsx("path",{className:$e,d:"M95.24,91.38H94.4a1.65,1.65,0,0,1-1.65-1.65,22.91,22.91,0,0,0-1.81-9.12A27.06,27.06,0,0,0,77.52,67.19a23.05,23.05,0,0,0-9.12-1.81,1.65,1.65,0,0,1-1.64-1.64v-.85a1.64,1.64,0,0,1,1.64-1.64,22.88,22.88,0,0,0,9.12-1.82,25.35,25.35,0,0,0,7.93-5.49A25.62,25.62,0,0,0,90.94,46a22.87,22.87,0,0,0,1.81-9.11,1.65,1.65,0,0,1,1.65-1.64h.84a1.65,1.65,0,0,1,1.65,1.64A22.88,22.88,0,0,0,98.7,46a25.24,25.24,0,0,0,5.49,7.93,25.19,25.19,0,0,0,7.93,5.49,22.88,22.88,0,0,0,9.12,1.82,1.64,1.64,0,0,1,1.64,1.64v.85a1.65,1.65,0,0,1-1.64,1.64,23.05,23.05,0,0,0-9.12,1.81A27.06,27.06,0,0,0,98.7,80.61a23,23,0,0,0-1.81,9.12,1.65,1.65,0,0,1-1.65,1.65Z"}),r.jsx("path",{className:Ee,d:"M65,55h-0.7a1,1,0,0,1-1-1,15,15,0,0,0-1.2-6,18,18,0,0,0-4.3-5.6,18,18,0,0,0-5.6-4.3,15,15,0,0,0-6-1.2,1,1,0,0,1-1-1V35a1,1,0,0,1,1-1,15,15,0,0,0,6-1.2,18,18,0,0,0,5.6-4.3,18,18,0,0,0,4.3-5.6,15,15,0,0,0,1.2-6,1,1,0,0,1,1-1H65a1,1,0,0,1,1,1,15,15,0,0,0,1.2,6,18,18,0,0,0,4.3,5.6,18,18,0,0,0,5.6,4.3,15,15,0,0,0,6,1.2,1,1,0,0,1,1,1v0.7a1,1,0,0,1-1,1,15,15,0,0,0-6,1.2,18,18,0,0,0-5.6,4.3,18,18,0,0,0-4.3,5.6,15,15,0,0,0-1.2,6,1,1,0,0,1-1,1Z",fill:"black",transform:"scale(0.4) translate(90,70)"})]}),r.jsx("p",{children:"adsada"})]}),r.jsx("div",{className:Oe,children:r.jsx(Ve,{})})]})]}),r.jsxs("div",{className:Te,children:[r.jsx("h2",{className:Fe,children:"Творческая команда"}),r.jsxs("div",{className:Me,children:[r.jsx(He,{memberId:"igor"}),r.jsx(He,{memberId:"lesya"})]}),r.jsx("h2",{className:Ge,children:"Команда разработки"}),r.jsx("div",{className:De,children:r.jsx(Ye,{memberId:"igor"})})]})]})}Ye.displayName="DeveloperMember";const Xe="_main_n5hm9_1",Ze="_main__header_n5hm9_15",Qe="_main__header__pic_n5hm9_21",Ke="_darkTheme_n5hm9_35",et="_main__header__title_n5hm9_38",tt="_main__nav_n5hm9_42",rt="_main__nav__perexod_n5hm9_48",at="_main__nav__perexod__link_n5hm9_55",ot="_main__nav__auth_n5hm9_58",it="_main__nav__burger_n5hm9_62",st="_main__nav__burger__line_n5hm9_75",nt="_open_n5hm9_88",lt="_main__nav__mobile_n5hm9_97",dt="_main__nav__mobile__list_n5hm9_119",ct="_main__nav__mobile__list__item_n5hm9_124",_t="_homepage_n5hm9_163",pt=({src:e,alt:t})=>{const{theme:a}=i.useContext(fe),o=e.replace("-black","");return r.jsxs("picture",{className:`${Qe} ${"dark"===a?Ke:""}`,children:[r.jsx("source",{srcSet:`${o}.avif`,type:"image/avif"}),r.jsx("source",{srcSet:`${o}.webp`,type:"image/webp"}),r.jsx("img",{src:`${o}.png`,alt:t,loading:"lazy"})]})},mt="_authContainer_zmtxl_51",ut="_loginButton_zmtxl_56",xt="_userProfile_zmtxl_104",gt="_profileButton_zmtxl_110",ht="_avatar_zmtxl_137",bt="_username_zmtxl_150",ft="_userMenu_zmtxl_181",yt="_menuItem_zmtxl_230",vt="_logoutButton_zmtxl_285",kt="_adminButton_zmtxl_326",wt="_profileMenuItem_zmtxl_396",jt={BASE_URL:"/soulcycle/",DEV:!1,LEGACY:!0,MODE:"production",PROD:!0,SSR:!1},Nt=(e,t="")=>{const r=`VITE_${e}`;return"undefined"!=typeof window&&window.env&&window.env[r]&&""!==window.env[r]?window.env[r]:jt[r]||t},zt=Nt("SUPABASE_URL","https://euafjzczdtitceulztfw.supabase.co"),qt=Nt("SUPABASE_ANON_KEY","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImV1YWZqemN6ZHRpdGNldWx6dGZ3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDYyMDY0MTcsImV4cCI6MjA2MTc4MjQxN30.i5duBK9a2QKWbc2Y_v723APJeg0vsNNwNkgXZLyIMfM");Nt("APP_NAME","SoulCycle");const Bt=l(zt,qt,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!1},global:{headers:{"Content-Type":"application/json",Accept:"application/json"}}}),Ct=new Map,St=3e5,Pt={profileUpdated:[]},It=(e,t)=>{Pt[e]&&Pt[e].forEach((e=>e(t)))},Ot={async getUserProfile(e){try{if(Ct.has(e))return Ct.get(e);try{const{data:t,error:r}=await Bt.from("profiles").select("*").eq("id",e).single();if(!r&&t){const r={id:t.id,displayName:t.display_name||"Пользователь",email:t.email,avatar:t.avatar||null,role:t.role||"user",createdAt:t.created_at,perks:t.perks||["user"],activePerk:t.active_perk||t.perks?.[0]||"user"};return Ct.set(e,r),setTimeout((()=>Ct.delete(e)),St),r}}catch(t){}try{const{data:t,error:r}=await Bt.from("public_profiles").select("*").eq("id",e).single();if(!r&&t){const r={id:t.id,displayName:t.display_name||t.email?.split("@")[0]||"Пользователь",email:t.email,avatar:t.avatar||null,role:t.role||"user",createdAt:t.created_at,perks:t.perks||["user"],activePerk:t.active_perk||"user"};return Ct.set(e,r),setTimeout((()=>Ct.delete(e)),St),r}}catch(r){}try{const{data:t,error:r}=await Bt.auth.getSession();if(!r&&t?.session?.user&&t.session.user.id===e){const r=t.session.user,o=r.user_metadata||{};let i=["user"],s="user";try{const{data:t}=await Bt.from("profiles").select("perks, active_perk").eq("id",e).single();t&&(i=t.perks||["user"],s=t.active_perk||i[0]||"user")}catch(a){}const n={id:e,displayName:o.display_name||r.email?.split("@")[0]||"Пользователь",email:r.email,avatar:o.avatar||null,role:o.role||"user",createdAt:r.created_at,perks:i,activePerk:s};return Ct.set(e,n),setTimeout((()=>Ct.delete(e)),St),n}}catch(o){}return{id:e,displayName:"Пользователь",email:null,avatar:null,role:"user",createdAt:(new Date).toISOString(),perks:["user"],activePerk:"user"}}catch(i){return{id:e,displayName:"Пользователь",email:null,avatar:null,role:"user",createdAt:(new Date).toISOString(),perks:["user"],activePerk:"user"}}},updateProfileCache(e,t){if(Ct.has(e)){const r={...Ct.get(e),...t};Ct.set(e,r),setTimeout((()=>Ct.delete(e)),St),It("profileUpdated",{userId:e,profileData:r})}},async updateUserProfile(e,t){try{const{data:r,error:a}=await Bt.from("profiles").update(t).eq("id",e);if(a)throw a;return this.updateProfileCache(e,t),this.clearCache(),r}catch(r){throw r}},clearCache(){Ct.clear()},getCurrentUserFromStorage(){try{const e=localStorage.getItem("user");return e?JSON.parse(e):null}catch(e){return null}}},At=e=>{if(!e||"string"!=typeof e)return"Произошла ошибка при авторизации";const t={"Invalid login credentials":"Неверный email или пароль","Email not confirmed":"Email не подтвержден","User already registered":"Пользователь с таким email уже зарегистрирован","Invalid email":"Неверный формат email","Password should be at least 6 characters":"Пароль должен содержать не менее 6 символов","Email already in use":"Email уже используется другим пользователем","Email already confirmed":"Email уже подтвержден","Invalid email or password":"Неверный email или пароль","Email is required":"Email обязателен","Password is required":"Пароль обязателен","Server error":"Ошибка сервера","The new password should be different from the previous password":"Новый пароль должен отличаться от текущего","Invalid refresh token":"Сессия истекла. Пожалуйста, войдите снова","Database error detecting account":"Ошибка базы данных при поиске аккаунта","Failed to establish connection":"Не удалось установить соединение с сервером","Password recovery invalid":"Неверная ссылка для восстановления пароля","Confirmation token expired or invalid":"Ссылка для подтверждения истекла или недействительна","Unable to validate email address":"Невозможно проверить email адрес","Access token is missing":"Отсутствует токен доступа","Access token has expired":"Срок действия токена доступа истек","Invalid or expired access token":"Недействительный или просроченный токен доступа","Signup is disabled":"Регистрация временно отключена","Signup email invalid":"Указан некорректный email адрес","duplicate key value violates unique constraint":"Этот адрес email уже зарегистрирован","You must log in to perform this action":"Необходимо войти для выполнения этого действия","Password must be at least 6 characters":"Пароль должен содержать не менее 6 символов","Пользователь с таким именем уже существует":"Пользователь с таким именем уже существует","Your chosen username is already taken by another user":"Выбранное вами имя пользователя уже занято","Duplicate key value":"Указанный email или имя пользователя уже используется"};if(t[e])return t[e];for(const[r,a]of Object.entries(t))if(e.includes(r))return a;return"Ошибка авторизации: "+e},$t=async(e,t=null)=>{try{let r=Bt.from("profiles").select("id").ilike("display_name",e);t&&(r=r.neq("id",t));const{data:a,error:o}=await r;return!o&&0===a.length}catch(r){return!1}},Et={async register(e){try{const{email:t,password:r,displayName:a}=e;if(!(await $t(a)))throw new Error("Пользователь с таким именем уже существует");const{data:o,error:i}=await Bt.auth.signUp({email:t,password:r,options:{data:{display_name:a,role:"user"}}});if(i)throw new Error(At(i.message)||"Ошибка при регистрации");const{error:s}=await Bt.from("profiles").update({perks:["user"],active_perk:"user",display_name:a}).eq("id",o.user.id),n={id:o.user.id,email:o.user.email,displayName:o.user.user_metadata.display_name,role:o.user.user_metadata.role,perks:["user"],activePerk:"user",createdAt:o.user.created_at};return Ot.updateProfileCache(n.id,{id:n.id,email:n.email,displayName:n.displayName,avatar:null,perks:["user"],activePerk:"user"}),{user:n}}catch(t){throw t.message&&(t.message=At(t.message)),t}},async login(e){try{const{email:t,password:r}=e,{data:a,error:o}=await Bt.auth.signInWithPassword({email:t,password:r});if(o)throw new Error(At(o.message)||"Ошибка при входе");const i="igoraor79@gmail.com"===t,{data:s,error:n}=await Bt.from("profiles").select("*").eq("id",a.user.id).single();if(n&&n.code,!s?.perks||0===s.perks.length){const{error:e}=await Bt.from("profiles").update({perks:["user"],active_perk:"user"}).eq("id",a.user.id)}const l={id:a.user.id,email:a.user.email,displayName:a.user.user_metadata.display_name||"Пользователь",role:i?"admin":a.user.user_metadata.role||"user",createdAt:a.user.created_at,avatar:a.user.user_metadata.avatar||null,perks:s?.perks||["user"],activePerk:s?.active_perk||s?.perks?.[0]||"user"};return localStorage.setItem("user",JSON.stringify(l)),Ot.updateProfileCache(l.id,{id:l.id,email:l.email,displayName:l.displayName,avatar:l.avatar,perks:l.perks,activePerk:l.activePerk}),{user:l,token:a.session.access_token}}catch(t){throw t.message&&(t.message=At(t.message)),t}},async logout(){try{const{error:e}=await Bt.auth.signOut();if(e)throw new Error(At(e.message)||"Ошибка при выходе");localStorage.removeItem("user"),Ot.clearCache()}catch(e){throw e.message&&(e.message=At(e.message)),e}},async getCurrentUser(){try{const t=localStorage.getItem("user");if(t){const e=JSON.parse(t);return Ot.updateProfileCache(e.id,{id:e.id,email:e.email,displayName:e.displayName,avatar:e.avatar,perks:e.perks||[],activePerk:e.activePerk}),e}const{data:r,error:a}=await Bt.auth.getSession();if(a||!r.session)return null;const o="igoraor79@gmail.com"===r.session.user.email,{data:i,error:s}=await Bt.from("profiles").select("*").eq("id",r.session.user.id).single();if(s&&s.code,!i?.perks||0===i.perks.length)try{await Bt.from("profiles").update({perks:["user"],active_perk:"user"}).eq("id",r.session.user.id)}catch(e){}const n={id:r.session.user.id,email:r.session.user.email,displayName:r.session.user.user_metadata.display_name||"Пользователь",role:o?"admin":r.session.user.user_metadata.role||"user",createdAt:r.session.user.created_at,avatar:r.session.user.user_metadata.avatar||null,perks:i?.perks||["user"],activePerk:i?.active_perk||i?.perks?.[0]||"user"};return localStorage.setItem("user",JSON.stringify(n)),Ot.updateProfileCache(n.id,{id:n.id,email:n.email,displayName:n.displayName,avatar:n.avatar,perks:n.perks,activePerk:n.activePerk}),n}catch(t){return null}},async getUserById(e){try{return await Ot.getUserProfile(e)}catch(t){throw t}},async updateAvatar(e){try{const{data:t,error:r}=await Bt.auth.getSession();if(r||!t.session)throw new Error("Пользователь не авторизован");const a=t.session.user.id,{data:o,error:i}=await Bt.auth.updateUser({data:{avatar:e}});if(i)throw new Error(i.message||"Ошибка при обновлении аватара");const{error:s}=await Bt.from("profiles").update({avatar:e}).eq("id",a),n=localStorage.getItem("user");if(n){const t=JSON.parse(n);t.avatar=e,localStorage.setItem("user",JSON.stringify(t)),Ot.updateProfileCache(a,{avatar:e}),It("profileUpdated",{userId:a,profileData:{...t,avatar:e}})}return!0}catch(t){throw t}},isAuthenticated:()=>!!localStorage.getItem("user"),getToken(){const{data:e}=Bt.auth.getSession();return e?.session?.access_token||null},async updateActivePerk(e,t=null){try{const{data:r,error:a}=await Bt.auth.getSession();if(a||!r.session)throw new Error("Пользователь не авторизован");const o=r.session.user.id,{error:i}=await Bt.from("profiles").update({active_perk:e}).eq("id",o);if(i)throw new Error(i.message||"Ошибка при обновлении привилегии");const s=localStorage.getItem("user");if(s){const t=JSON.parse(s);t.activePerk=e,localStorage.setItem("user",JSON.stringify(t)),Ot.updateProfileCache(o,{activePerk:e}),It("profileUpdated",{userId:o,profileData:{...t,activePerk:e}})}return t&&"function"==typeof t&&await t(),!0}catch(r){throw r}},async updateDisplayName(e,t,r=null){try{const{data:a,error:o}=await Bt.auth.getSession();if(o||!a.session)throw new Error("Пользователь не авторизован");const i=a.session.user.id,s=a.session.user.email,{error:n}=await Bt.auth.signInWithPassword({email:s,password:t});if(n)throw new Error("Неверный пароль");if(!(await $t(e,i)))throw new Error("Пользователь с таким именем уже существует");const{data:l,error:d}=await Bt.auth.updateUser({data:{display_name:e}});if(d)throw new Error(d.message||"Ошибка при обновлении имени");const{error:c}=await Bt.from("profiles").update({display_name:e}).eq("id",i),_=localStorage.getItem("user");if(_){const t=JSON.parse(_);t.displayName=e,localStorage.setItem("user",JSON.stringify(t)),Ot.updateProfileCache(i,{displayName:e}),It("profileUpdated",{userId:i,profileData:{...t,displayName:e}})}return r&&"function"==typeof r&&await r(),!0}catch(a){throw a}},async changePassword(e,t){try{const{data:r,error:a}=await Bt.auth.getSession();if(a||!r.session)throw new Error(At("You must log in to perform this action"));const o=r.session.user.email,{error:i}=await Bt.auth.signInWithPassword({email:o,password:e});if(i)throw new Error("Неверный текущий пароль");const{error:s}=await Bt.auth.updateUser({password:t});if(s)throw new Error(At(s.message)||"Ошибка при изменении пароля");return!0}catch(r){throw r.message&&(r.message=At(r.message)),r}}},Tt="app:user:updated",Ft=e=>{const t=new CustomEvent(Tt,{detail:e});window.dispatchEvent(t)},Gt=i.createContext(null),Mt=({children:e})=>{const[t,a]=i.useState(null),[o,s]=i.useState(!0);i.useEffect((()=>{(async()=>{s(!0);try{const{data:e,error:t}=await Bt.auth.getSession();if(t||!e.session)return localStorage.removeItem("user"),a(null),void s(!1);const r=await Et.getCurrentUser();r?a(r):await Et.logout()}catch(e){localStorage.removeItem("user")}finally{s(!1)}})()}),[]);const n=async()=>{if(t)try{s(!0);const{data:e,error:r}=await Bt.from("profiles").select("*").eq("id",t.id).single();if(r)return;e.perks&&0!==e.perks.length||(e.perks=["user"],e.active_perk="user"),e.perks.includes(e.active_perk)||(e.active_perk=e.perks[0]||"user");const o={...t,displayName:e.display_name||t.displayName,avatar:e.avatar||t.avatar,perks:e.perks,activePerk:e.active_perk};localStorage.setItem("user",JSON.stringify(o)),Ft(o),a(o)}catch(e){}finally{s(!1)}};return i.useEffect((()=>{if(!t)return;const e=Bt.channel(`profile-changes-${t.id}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"profiles",filter:`id=eq.${t.id}`},(e=>{n()})).subscribe();return()=>{e.unsubscribe()}}),[t]),i.useEffect((()=>{if(!t)return;const e=(o=({userId:e,profileData:r})=>{if(t&&e===t.id){const e={...t,displayName:r.displayName||t.displayName,avatar:r.avatar||t.avatar,perks:r.perks||t.perks,activePerk:r.activePerk||t.activePerk};localStorage.setItem("user",JSON.stringify(e)),Ft(e),a(e);const o=new StorageEvent("storage",{key:"user",newValue:JSON.stringify(e),url:window.location.href});window.dispatchEvent(o)}},Pt[r="profileUpdated"]||(Pt[r]=[]),Pt[r].push(o),()=>{Pt[r]=Pt[r].filter((e=>e!==o))});var r,o;return()=>e()}),[t]),r.jsx(Gt.Provider,{value:{user:t,login:async e=>{try{s(!0);const t=await Et.login(e);return a(t.user),t}catch(t){throw t}finally{s(!1)}},register:async e=>{try{return s(!0),await Et.register(e)}catch(t){throw t}finally{s(!1)}},logout:async()=>{try{s(!0),await Et.logout(),a(null)}catch(e){}finally{s(!1)}},loading:o,refreshUser:n,isAuthenticated:!!t},children:e})},Dt=()=>{const e=i.useContext(Gt);if(null===e)throw new Error("useAuth должен использоваться внутри AuthProvider");return e},Lt="_submitButton_1ih8g_77",Rt="_formContainer_1ih8g_112",Ht="_errorMessage_1ih8g_133",Ut="_formGroup_1ih8g_144",Wt="_inputIcon_1ih8g_155",Vt="_inputWrapper_1ih8g_160",Yt="_inputIconInside_1ih8g_164",Jt="_charCounter_1ih8g_203",Xt="_buttonIcon_1ih8g_230",Zt="_switchForm_1ih8g_259",Qt="_switchButton_1ih8g_271",Kt=({onSuccess:e,onSwitchToRegister:t})=>{const{login:a,loading:s}=Dt(),[n,l]=i.useState(""),[p,m]=i.useState(""),[u,x]=i.useState(""),g={focus:{scale:1.02,x:5},blur:{scale:1,x:0}};return r.jsxs("div",{className:Rt,children:[r.jsx(o.h2,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.1,duration:.5},children:"Вход в аккаунт"}),u&&r.jsx(o.div,{className:Ht,initial:{opacity:0,y:-10,height:0},animate:{opacity:1,y:0,height:"auto"},transition:{duration:.3,ease:"easeOut"},children:u}),r.jsxs("form",{onSubmit:async t=>{if(t.preventDefault(),n&&p)try{x(""),await a({email:n,password:p}),e&&e()}catch(r){x(r.message||"Ошибка входа. Проверьте ваши учетные данные.")}else x("Пожалуйста, заполните все поля")},children:[r.jsxs("div",{className:Ut,children:[r.jsxs("label",{htmlFor:"email",children:[r.jsx(d,{className:Wt})," Email:"]}),r.jsx(o.div,{whileFocus:"focus",whileTap:"focus",variants:g,children:r.jsxs("div",{className:Vt,children:[r.jsx(d,{className:Yt}),r.jsx("input",{type:"email",id:"email",value:n,onChange:e=>l(e.target.value),disabled:s,placeholder:"Введите ваш email",required:!0})]})})]}),r.jsxs("div",{className:Ut,children:[r.jsxs("label",{htmlFor:"password",children:[r.jsx(c,{className:Wt})," Пароль:"]}),r.jsx(o.div,{whileFocus:"focus",whileTap:"focus",variants:g,children:r.jsxs("div",{className:Vt,children:[r.jsx(c,{className:Yt}),r.jsx("input",{type:"password",id:"password",value:p,onChange:e=>m(e.target.value),disabled:s,placeholder:"Введите ваш пароль",required:!0})]})})]}),r.jsx(o.button,{type:"submit",className:Lt,disabled:s,variants:{hover:{scale:1.03,boxShadow:"0 5px 15px rgba(0, 0, 0, 0.3)"},tap:{scale:.98}},whileHover:"hover",whileTap:"tap",children:s?"Вход...":r.jsxs(r.Fragment,{children:[r.jsx(_,{className:Xt}),r.jsx("span",{children:"Войти"})]})})]}),r.jsxs("div",{className:Zt,children:[r.jsx("p",{children:"Еще нет аккаунта?"}),r.jsx(o.button,{className:Qt,onClick:t,disabled:s,whileHover:{scale:1.05},whileTap:{scale:.98},children:"Зарегистрироваться"})]})]})},er=({onSuccess:e,onSwitchToLogin:t})=>{const{register:a,loading:s}=Dt(),[n,l]=i.useState(""),[_,u]=i.useState(""),[x,g]=i.useState(""),[h,b]=i.useState(""),[f,y]=i.useState(""),v={focus:{scale:1.02,x:5},blur:{scale:1,x:0}},k={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:300,damping:24}}};return r.jsxs("div",{className:Rt,children:[r.jsx(o.h2,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.1,duration:.5},children:"Регистрация"}),f&&r.jsx(o.div,{className:Ht,initial:{opacity:0,y:-10,height:0},animate:{opacity:1,y:0,height:"auto"},transition:{duration:.3,ease:"easeOut"},children:f}),r.jsxs(o.form,{onSubmit:async t=>{if(t.preventDefault(),n&&_&&x&&h)if(_===x)if(_.length<6)y("Пароль должен содержать не менее 6 символов");else if(_.length>15)y("Пароль не должен превышать 15 символов");else if(h.length>12)y("Имя пользователя не должно превышать 12 символов");else try{y(""),await a({email:n,password:_,displayName:h}),e&&e()}catch(r){y(r.message||"Ошибка при регистрации. Попробуйте позже.")}else y("Пароли не совпадают");else y("Пожалуйста, заполните все поля")},variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},initial:"hidden",animate:"visible",children:[r.jsxs(o.div,{className:Ut,variants:k,children:[r.jsxs("label",{htmlFor:"displayName",children:[r.jsx(p,{className:Wt})," Имя пользователя:"]}),r.jsx(o.div,{whileFocus:"focus",whileTap:"focus",variants:v,children:r.jsxs("div",{className:Vt,children:[r.jsx(p,{className:Yt}),r.jsx("input",{type:"text",id:"displayName",value:h,onChange:e=>{const t=e.target.value;t.length<=12&&b(t)},disabled:s,placeholder:"Введите ваше имя (до 12 символов)",required:!0,maxLength:12})]})}),r.jsxs("small",{className:Jt,children:[h.length,"/12 символов"]})]}),r.jsxs(o.div,{className:Ut,variants:k,children:[r.jsxs("label",{htmlFor:"email",children:[r.jsx(d,{className:Wt})," Email:"]}),r.jsx(o.div,{whileFocus:"focus",whileTap:"focus",variants:v,children:r.jsxs("div",{className:Vt,children:[r.jsx(d,{className:Yt}),r.jsx("input",{type:"email",id:"email",value:n,onChange:e=>l(e.target.value),disabled:s,placeholder:"Введите ваш email",required:!0})]})})]}),r.jsxs(o.div,{className:Ut,variants:k,children:[r.jsxs("label",{htmlFor:"password",children:[r.jsx(c,{className:Wt})," Пароль:"]}),r.jsx(o.div,{whileFocus:"focus",whileTap:"focus",variants:v,children:r.jsxs("div",{className:Vt,children:[r.jsx(c,{className:Yt}),r.jsx("input",{type:"password",id:"password",value:_,onChange:e=>{const t=e.target.value;t.length<=15&&u(t)},disabled:s,placeholder:"От 6 до 15 символов",required:!0,maxLength:15})]})}),r.jsxs("small",{className:Jt,children:[_.length,"/15 символов"]})]}),r.jsxs(o.div,{className:Ut,variants:k,children:[r.jsxs("label",{htmlFor:"confirmPassword",children:[r.jsx(c,{className:Wt})," Подтвердите пароль:"]}),r.jsx(o.div,{whileFocus:"focus",whileTap:"focus",variants:v,children:r.jsxs("div",{className:Vt,children:[r.jsx(c,{className:Yt}),r.jsx("input",{type:"password",id:"confirmPassword",value:x,onChange:e=>{const t=e.target.value;t.length<=15&&g(t)},disabled:s,placeholder:"Повторите пароль",required:!0,maxLength:15})]})})]}),r.jsx(o.button,{type:"submit",className:Lt,disabled:s,variants:{hover:{scale:1.03,boxShadow:"0 5px 15px rgba(0, 0, 0, 0.3)"},tap:{scale:.98}},whileHover:"hover",whileTap:"tap",children:s?"Регистрация...":r.jsxs(r.Fragment,{children:[r.jsx(m,{className:Xt}),r.jsx("span",{children:"Зарегистрироваться"})]})})]}),r.jsxs("div",{className:Zt,children:[r.jsx("p",{children:"Уже есть аккаунт?"}),r.jsx(o.button,{className:Qt,onClick:t,disabled:s,whileHover:{scale:1.05},whileTap:{scale:.98},children:"Войти"})]})]})},tr="_backdrop_hk72z_1",rr="_modal_hk72z_17",ar="_modalContent_hk72z_32",or="_closeButton_hk72z_38",ir="_formWrapper_hk72z_62",sr="_patternOverlay_hk72z_144",nr=({isOpen:e,onClose:t})=>{const[s,n]=i.useState("login"),l=()=>{t()};if(!e)return null;const d={hidden:{opacity:0,x:50,scale:.9},visible:{opacity:1,x:0,scale:1,transition:{type:"spring",damping:20,stiffness:300}},exit:{opacity:0,x:-50,scale:.9,transition:{duration:.2}}};return r.jsx(a,{mode:"wait",children:r.jsx(o.div,{className:tr,variants:{hidden:{opacity:0},visible:{opacity:1,transition:{duration:.3}},exit:{opacity:0,transition:{duration:.3,delay:.1}}},initial:"hidden",animate:"visible",exit:"exit",onClick:t,children:r.jsxs(o.div,{className:rr,variants:{hidden:{opacity:0,scale:.9,y:-50,rotateX:-10},visible:{opacity:1,scale:1,y:0,rotateX:0,transition:{type:"spring",damping:25,stiffness:300,duration:.4}},exit:{opacity:0,scale:.95,y:-30,rotateX:-15,transition:{duration:.3}}},initial:"hidden",animate:"visible",exit:"exit",onClick:e=>e.stopPropagation(),children:[r.jsx(o.div,{className:sr,variants:{hidden:{opacity:0},visible:{opacity:.05,transition:{duration:.8}}},initial:"hidden",animate:"visible"}),r.jsx(o.button,{className:or,onClick:t,whileHover:{scale:1.1,rotate:90},whileTap:{scale:.9},children:r.jsx(u,{})}),r.jsx("div",{className:ar,children:r.jsx(a,{mode:"wait",children:"login"===s?r.jsx(o.div,{variants:d,initial:"hidden",animate:"visible",exit:"exit",className:ir,children:r.jsx(Kt,{onSuccess:l,onSwitchToRegister:()=>{n("register")}})},"login"):r.jsx(o.div,{variants:d,initial:"hidden",animate:"visible",exit:"exit",className:ir,children:r.jsx(er,{onSuccess:l,onSwitchToLogin:()=>{n("login")}})},"register")})})]})})})},lr="_sponsorPerk_14u1w_27 _perkBase_14u1w_18",dr="_earlyUserPerk_14u1w_33 _perkBase_14u1w_18",cr="_adminPerk_14u1w_39 _perkBase_14u1w_18",_r="_userPerk_14u1w_45 _perkBase_14u1w_18",pr="./pics/pfp/guest",mr=({src:e,alt:t,className:a,onLoad:o,style:i})=>{const s=e||pr,n=t=>e&&(e.endsWith(".png")||e.endsWith(".jpg")||e.endsWith(".jpeg")||e.endsWith(".webp")||e.endsWith(".avif")||e.startsWith("data:")||e.startsWith("http"))?e:`${s}.${t}`;return r.jsxs("picture",{children:[r.jsx("source",{srcSet:n("avif"),type:"image/avif"}),r.jsx("source",{srcSet:n("webp"),type:"image/webp"}),r.jsx("img",{src:n("png"),alt:t||"Аватар пользователя",className:a,style:i,onLoad:o,onError:e=>{e.target.src!==`${pr}.png`&&(e.target.src=`${pr}.png`),e.target.onerror=null}})]})},ur=()=>{const{user:e,logout:t,isAuthenticated:s}=Dt(),n=x(),[l,d]=i.useState(!1),[c,m]=i.useState(!1),[u,f]=i.useState("Пользователь"),[y,v]=i.useState(!1),[k,w]=i.useState(""),[,j]=i.useReducer((e=>e+1),0),N=i.useCallback((e=>{if(!e)return"";switch(e){case"sponsor":return lr;case"early_user":return dr;case"admin":return cr;default:return _r}}),[]);i.useEffect((()=>{if(e){f(e.displayName||"Пользователь");const t="igoraor79@gmail.com"===e.email||e.perks?.includes("admin")||"admin"===e.activePerk;v(t),w(N(e.activePerk))}else w("")}),[e,N]),i.useEffect((()=>{const e=e=>{const t=e.detail;if(t){j();const e="igoraor79@gmail.com"===t.email||t.perks?.includes("admin")||"admin"===t.activePerk;v(e),f(t.displayName||"Пользователь"),w(N(t.activePerk))}};return window.addEventListener(Tt,e),()=>{window.removeEventListener(Tt,e)}}),[N]),i.useEffect((()=>{const e=e=>{"user"===e.key&&j()};return window.addEventListener("storage",e),()=>{window.removeEventListener("storage",e)}}),[]);const z={hidden:{opacity:0,x:-5,y:5},visible:{opacity:1,x:0,y:0,transition:{type:"spring",damping:20,stiffness:300}}},q={hover:{scale:1.03,y:-2},tap:{scale:.98}};return r.jsxs("div",{className:mt,children:[s?r.jsxs("div",{className:xt,children:[r.jsxs(o.button,{className:gt,onClick:()=>{m(!c)},"aria-label":"Меню пользователя",variants:q,whileHover:"hover",whileTap:"tap",children:[r.jsx(mr,{src:e?.avatar,alt:"Аватар пользователя",className:ht}),r.jsx("span",{className:`${bt} ${k}`,children:u}),r.jsx(o.span,{animate:{rotate:c?180:0},transition:{duration:.3},style:{marginLeft:"3px",display:"flex",alignItems:"center"},children:r.jsx(g,{size:14})})]}),r.jsx(a,{children:c&&r.jsx(o.div,{className:ft,variants:{hidden:{opacity:0,y:-10,scale:.98},visible:{opacity:1,y:0,scale:1,transition:{type:"spring",damping:25,stiffness:300,duration:.3,staggerChildren:.06}},exit:{opacity:0,y:-5,scale:.98,transition:{duration:.2}}},initial:"hidden",animate:"visible",exit:"exit",children:r.jsxs("ul",{children:[r.jsx(o.li,{variants:z,children:r.jsxs(o.button,{className:`${yt} ${wt}`,onClick:()=>{n("/profile"),m(!1)},whileHover:{x:5},children:[r.jsx(p,{})," Профиль"]})}),y&&r.jsx(o.li,{variants:z,children:r.jsxs(o.button,{className:`${yt} ${kt}`,onClick:()=>{n("/admin"),m(!1)},whileHover:{x:5},children:[r.jsx(h,{})," Администрирование"]})}),r.jsx(o.li,{variants:z,children:r.jsxs(o.button,{className:`${yt} ${vt}`,onClick:()=>{t(),m(!1)},whileHover:{x:5},children:[r.jsx(b,{})," Выйти"]})})]})})})]}):r.jsxs(o.button,{className:ut,onClick:()=>{d(!0)},variants:q,whileHover:"hover",whileTap:"tap",children:[r.jsx(_,{size:16})," Войти"]}),r.jsx(nr,{isOpen:l,onClose:()=>{d(!1)}})]})},xr={sponsorPerk:"_sponsorPerk_11uqt_27 _perkBase_11uqt_18",earlyUserPerk:"_earlyUserPerk_11uqt_33 _perkBase_11uqt_18",adminPerk:"_adminPerk_11uqt_39 _perkBase_11uqt_18",profileContainer:"_profileContainer_11uqt_51",loading:"_loading_11uqt_65",error:"_error_11uqt_65",profileHeader:"_profileHeader_11uqt_78",avatarContainer:"_avatarContainer_11uqt_89",avatar:"_avatar_11uqt_89",changeAvatarButton:"_changeAvatarButton_11uqt_108",profileInfo:"_profileInfo_11uqt_129",displayName:"_displayName_11uqt_133",userMeta:"_userMeta_11uqt_152",userRole:"_userRole_11uqt_162",userJoined:"_userJoined_11uqt_162",userEmail:"_userEmail_11uqt_162",userPrivileges:"_userPrivileges_11uqt_162",label:"_label_11uqt_175",value:"_value_11uqt_187",privilegeContainer:"_privilegeContainer_11uqt_196",changePerkButton:"_changePerkButton_11uqt_208",adminActions:"_adminActions_11uqt_221",personalSettings:"_personalSettings_11uqt_221",actionButtons:"_actionButtons_11uqt_233",editButton:"_editButton_11uqt_238",banButton:"_banButton_11uqt_238",settingGroup:"_settingGroup_11uqt_278",settingControl:"_settingControl_11uqt_287",modalOverlay:"_modalOverlay_11uqt_301",modalContent:"_modalContent_11uqt_322",avatarGrid:"_avatarGrid_11uqt_365",avatarOption:"_avatarOption_11uqt_372",selected:"_selected_11uqt_389",closeButton:"_closeButton_11uqt_406",perksList:"_perksList_11uqt_432",perkItem:"_perkItem_11uqt_439",activePerk:"_activePerk_11uqt_467",perkName:"_perkName_11uqt_475",perkDescription:"_perkDescription_11uqt_496",modalForm:"_modalForm_11uqt_507",formGroup:"_formGroup_11uqt_513",formControl:"_formControl_11uqt_523",formActions:"_formActions_11uqt_543",cancelButton:"_cancelButton_11uqt_561",submitButton:"_submitButton_11uqt_575",modalHeader:"_modalHeader_11uqt_591",errorMessage:"_errorMessage_11uqt_628",successMessage:"_successMessage_11uqt_628",modalMotion:"_modalMotion_11uqt_661",avatarWrapper:"_avatarWrapper_11uqt_746",loadingOverlay:"_loadingOverlay_11uqt_758",avatarHint:"_avatarHint_11uqt_772"},gr="./pics/pfp/guest",hr=({src:e,alt:t,className:a})=>{const o=e||gr,i=t=>e&&(e.endsWith(".png")||e.endsWith(".jpg")||e.endsWith(".jpeg")||e.endsWith(".webp")||e.endsWith(".avif"))?e:`${o}.${t}`;return r.jsxs("picture",{children:[r.jsx("source",{srcSet:i("avif"),type:"image/avif"}),r.jsx("source",{srcSet:i("webp"),type:"image/webp"}),r.jsx("img",{src:i("png"),alt:t,className:a,onError:e=>{e.target.src!==`${gr}.png`&&(e.target.src=`${gr}.png`),e.target.onerror=null}})]})},br=[{id:1,path:"./pics/pfp/pfp1"},{id:2,path:"./pics/pfp/pfp2"},{id:3,path:"./pics/pfp/pfp3"},{id:4,path:"./pics/pfp/pfp4"},{id:5,path:"./pics/pfp/pfp5"}],fr=({perks:e,activePerk:t,onSelectPerk:a,onClose:i})=>r.jsx("div",{className:xr.modalOverlay,children:r.jsxs(o.div,{className:xr.modalContent,initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},transition:{duration:.3,ease:"easeOut"},children:[r.jsxs("div",{className:xr.modalHeader,children:[r.jsx("h3",{children:"Выберите привилегию"}),r.jsx("button",{className:xr.closeButton,onClick:i,children:r.jsx(u,{size:20})})]}),r.jsx("div",{className:xr.perksList,children:e.map((e=>{const i="sponsor"===e?xr.sponsorPerk:"early_user"===e?xr.earlyUserPerk:"admin"===e?xr.adminPerk:"";return r.jsxs(o.div,{className:`${xr.perkItem} ${t===e?xr.activePerk:""}`,onClick:()=>a(e),whileHover:{x:5},transition:{type:"spring",stiffness:300,damping:20},children:[r.jsx("div",{className:`${xr.perkName} ${i}`,children:"user"===e?"Пользователь":"early_user"===e?"Ранний пользователь":"sponsor"===e?"Спонсор":e}),r.jsx("div",{className:xr.perkDescription,children:"user"===e?"Базовая привилегия всех пользователей":"early_user"===e?"Ранний пользователь проекта":"sponsor"===e?"Спонсор проекта с расширенными возможностями":"Специальная привилегия"}),t===e&&r.jsx(o.div,{style:{position:"absolute",right:15,top:"50%",transform:"translateY(-50%)",color:"var(--accent)"},initial:{scale:0},animate:{scale:1},transition:{delay:.2},children:r.jsx(y,{size:20})})]},e)}))})]})}),yr=({onClose:e,onSubmit:t,initialName:a})=>{const[s,n]=i.useState(a||""),[l,d]=i.useState(""),[c,_]=i.useState(""),[p,m]=i.useState(!1),[x,g]=i.useState(!1);return r.jsx("div",{className:xr.modalOverlay,children:r.jsx(o.div,{className:xr.modalMotion,initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},transition:{duration:.3,ease:"easeOut"},children:r.jsxs(o.div,{className:xr.modalContent,animate:x?{scale:.95,opacity:0}:{scale:1,opacity:1},children:[r.jsxs("div",{className:xr.modalHeader,children:[r.jsx("h3",{children:"Изменить имя пользователя"}),r.jsx("button",{className:xr.closeButton,onClick:e,disabled:p,children:r.jsx(u,{size:20})})]}),x?r.jsxs(o.div,{className:xr.successMessage,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.3},children:[r.jsx(y,{size:20}),r.jsx("span",{children:"Имя пользователя успешно изменено!"})]}):r.jsxs("form",{onSubmit:async r=>{if(r.preventDefault(),_(""),s.trim())if(l){m(!0);try{await t(s.trim(),l),g(!0),setTimeout((()=>e()),1500)}catch(a){_(a.message||"Не удалось обновить имя пользователя")}finally{m(!1)}}else _("Введите пароль для подтверждения");else _("Имя пользователя не может быть пустым")},className:xr.modalForm,children:[r.jsxs("div",{className:xr.formGroup,children:[r.jsx("label",{htmlFor:"newName",children:"Новое имя:"}),r.jsx("input",{type:"text",id:"newName",value:s,onChange:e=>n(e.target.value),placeholder:"Введите новое имя",className:xr.formControl,disabled:p,autoFocus:!0})]}),r.jsxs("div",{className:xr.formGroup,children:[r.jsx("label",{htmlFor:"password",children:"Введите пароль для подтверждения:"}),r.jsx("input",{type:"password",id:"password",value:l,onChange:e=>d(e.target.value),placeholder:"Ваш текущий пароль",className:xr.formControl,disabled:p})]}),c&&r.jsxs(o.div,{className:xr.errorMessage,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.2},children:[r.jsx(k,{size:18}),r.jsx("span",{children:c})]}),r.jsxs("div",{className:xr.formActions,children:[r.jsx("button",{type:"button",className:xr.cancelButton,onClick:e,disabled:p,children:"Отмена"}),r.jsx(o.button,{type:"submit",className:xr.submitButton,disabled:p,whileHover:{scale:1.03},whileTap:{scale:.97},children:p?r.jsx(o.span,{animate:{opacity:[1,.5,1]},transition:{duration:1.5,repeat:1/0},children:"Сохранение..."}):"Сохранить"})]})]})]})})})},vr=({onClose:e,onSubmit:t})=>{const[a,s]=i.useState(""),[n,l]=i.useState(""),[d,c]=i.useState(""),[_,p]=i.useState(""),[m,x]=i.useState(!1),[g,h]=i.useState(!1);return r.jsx("div",{className:xr.modalOverlay,children:r.jsx(o.div,{className:xr.modalMotion,initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},transition:{duration:.3,ease:"easeOut"},children:r.jsxs(o.div,{className:xr.modalContent,animate:g?{scale:.95,opacity:0}:{scale:1,opacity:1},children:[r.jsxs("div",{className:xr.modalHeader,children:[r.jsx("h3",{children:"Изменить пароль"}),r.jsx("button",{className:xr.closeButton,onClick:e,disabled:m,children:r.jsx(u,{size:20})})]}),g?r.jsxs(o.div,{className:xr.successMessage,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.3},children:[r.jsx(y,{size:20}),r.jsx("span",{children:"Пароль успешно изменен!"})]}):r.jsxs("form",{onSubmit:async r=>{if(r.preventDefault(),p(""),a)if(n)if(n.length<6)p("Новый пароль должен содержать не менее 6 символов");else if(n===d){x(!0);try{await t(a,n),h(!0),setTimeout((()=>e()),1500)}catch(o){p(o.message||"Не удалось изменить пароль")}finally{x(!1)}}else p("Пароли не совпадают");else p("Введите новый пароль");else p("Введите текущий пароль")},className:xr.modalForm,children:[r.jsxs("div",{className:xr.formGroup,children:[r.jsx("label",{htmlFor:"currentPassword",children:"Текущий пароль:"}),r.jsx("input",{type:"password",id:"currentPassword",value:a,onChange:e=>s(e.target.value),placeholder:"Введите текущий пароль",className:xr.formControl,disabled:m,autoFocus:!0})]}),r.jsxs("div",{className:xr.formGroup,children:[r.jsx("label",{htmlFor:"newPassword",children:"Новый пароль:"}),r.jsx("input",{type:"password",id:"newPassword",value:n,onChange:e=>l(e.target.value),placeholder:"Введите новый пароль",className:xr.formControl,disabled:m})]}),r.jsxs("div",{className:xr.formGroup,children:[r.jsx("label",{htmlFor:"confirmPassword",children:"Подтвердите пароль:"}),r.jsx("input",{type:"password",id:"confirmPassword",value:d,onChange:e=>c(e.target.value),placeholder:"Повторите новый пароль",className:xr.formControl,disabled:m})]}),_&&r.jsxs(o.div,{className:xr.errorMessage,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.2},children:[r.jsx(k,{size:18}),r.jsx("span",{children:_})]}),r.jsxs("div",{className:xr.formActions,children:[r.jsx("button",{type:"button",className:xr.cancelButton,onClick:e,disabled:m,children:"Отмена"}),r.jsx(o.button,{type:"submit",className:xr.submitButton,disabled:m,whileHover:{scale:1.03},whileTap:{scale:.97},children:m?r.jsx(o.span,{animate:{opacity:[1,.5,1]},transition:{duration:1.5,repeat:1/0},children:"Сохранение..."}):"Сохранить"})]})]})]})})})},kr=({avatars:e,onSelectAvatar:t,onClose:a})=>{const[s,n]=i.useState(null),[l,d]=i.useState(!1),[c,_]=i.useState(!1);return r.jsx("div",{className:xr.modalOverlay,children:r.jsx(o.div,{className:xr.modalMotion,initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},transition:{duration:.3,ease:"easeOut"},children:r.jsxs(o.div,{className:xr.modalContent,animate:c?{scale:.95,opacity:.8}:{scale:1,opacity:1},children:[r.jsxs("div",{className:xr.modalHeader,children:[r.jsx("h3",{children:"Выберите аватар"}),r.jsx("button",{className:xr.closeButton,onClick:a,disabled:l||c,children:r.jsx(u,{size:20})})]}),c?r.jsxs(o.div,{className:xr.successMessage,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.3},children:[r.jsx(y,{size:20}),r.jsx("span",{children:"Аватар успешно изменен!"})]}):r.jsxs(r.Fragment,{children:[r.jsx(o.div,{className:xr.avatarGrid,initial:{opacity:0},animate:{opacity:1},transition:{staggerChildren:.05,delayChildren:.1},children:e.map(((e,a)=>r.jsxs(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*a},className:xr.avatarWrapper,children:[r.jsxs("picture",{children:[r.jsx("source",{srcSet:`${e.path}.avif`,type:"image/avif"}),r.jsx("source",{srcSet:`${e.path}.webp`,type:"image/webp"}),r.jsx(o.img,{src:`${e.path}.png`,alt:`Аватар ${e.id}`,className:`${xr.avatarOption} ${s?.id===e.id?xr.selected:""}`,onClick:()=>(async e=>{l||c||(n(e),d(!0),setTimeout((()=>{_(!0),setTimeout((()=>{t(e.id)}),1e3)}),500))})(e),whileHover:{scale:1.08,y:-5},whileTap:{scale:.95},transition:{type:"spring",stiffness:300,damping:20}})]}),s?.id===e.id&&l&&r.jsx(o.div,{className:xr.loadingOverlay,initial:{opacity:0},animate:{opacity:1},children:r.jsx(o.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:r.jsx(v,{size:24,color:"white"})})})]},e.id)))}),r.jsx(o.p,{className:xr.avatarHint,initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:"Выберите один из доступных аватаров, чтобы обновить вашу фотографию профиля."})]})]})})})},wr=()=>{const{userId:e}=f(),{user:t,isAuthenticated:o,loading:s,refreshUser:n}=Dt(),[l,d]=i.useState(null),[c,_]=i.useState(!0),[p,m]=i.useState(null),[u,g]=i.useState(!1),[h,b]=i.useState(!1),[v,k]=i.useState(!1),[w,j]=i.useState(!1),[N,z]=i.useState(""),q=x(),B=!e||t&&e===t.id,C=t&&"igoraor79@gmail.com"===t.email;if(i.useEffect((()=>{s||o||e||q("/",{replace:!0})}),[o,s,q,e]),i.useEffect((()=>{(async()=>{try{if(s)return;if(_(!0),B&&t)d({...t,role:"igoraor79@gmail.com"===t.email?"admin":t.role||"user"}),m(null);else if(e)try{const t=await Et.getUserById(e);d({id:t.id,displayName:t.displayName||"Пользователь",role:t.role||"user",email:C?t.email:null,avatar:t.avatar,perks:t.perks||["user"],activePerk:t.activePerk||"user",createdAt:t.createdAt}),m(null)}catch(r){d({id:e,displayName:"Пользователь",role:"user",email:C?"user@example.com":null,avatar:null,perks:["user"],activePerk:"user",createdAt:(new Date).toISOString()})}else m("Профиль не найден")}catch(r){m("Ошибка при загрузке профиля")}finally{_(!1)}})()}),[e,t,B,C,s]),c||!l)return r.jsx("div",{className:xr.loading,children:"Загрузка профиля..."});if(p)return r.jsx("div",{className:xr.error,children:p});const S=()=>{if(!l.activePerk)return"";switch(l.activePerk){case"sponsor":return lr;case"early_user":return dr;case"admin":return cr;default:return _r}};return r.jsxs("div",{className:xr.profileContainer,children:[r.jsxs("div",{className:xr.profileHeader,children:[r.jsxs("div",{className:xr.avatarContainer,children:[r.jsx(hr,{src:l.avatar,alt:"Аватар пользователя",className:xr.avatar}),(B||C)&&r.jsx("button",{className:xr.changeAvatarButton,onClick:()=>{g(!0)},children:"Изменить"})]}),r.jsxs("div",{className:xr.profileInfo,children:[r.jsxs("h1",{className:`${xr.displayName} ${S()}`,children:[l.displayName||"Пользователь",C&&r.jsxs("span",{className:xr.adminLabel,children:[" (ID: ",l.id.substring(0,8),"...)"]})]}),r.jsxs("div",{className:xr.userMeta,children:[C&&r.jsxs("div",{className:xr.userRole,children:[r.jsx("span",{className:xr.label,children:"Роль:"}),r.jsx("span",{className:xr.value,children:l.role||"user"})]}),r.jsxs("div",{className:xr.userPrivileges,children:[r.jsx("span",{className:xr.label,children:"Привилегия:"}),r.jsxs("div",{className:xr.privilegeContainer,children:[r.jsx("span",{className:`${xr.value} ${S()}`,children:(()=>{if(!l.activePerk)return"Пользователь";switch(l.activePerk){case"sponsor":return"Спонсор";case"early_user":return"Ранний пользователь";case"admin":return"Администратор";case"user":return"Пользователь";default:return l.activePerk}})()}),B&&l.perks&&l.perks.length>1&&r.jsx("button",{className:xr.changePerkButton,onClick:()=>{b(!0)},children:"Изменить"})]})]}),r.jsxs("div",{className:xr.userJoined,children:[r.jsx("span",{className:xr.label,children:"Дата регистрации:"}),r.jsx("span",{className:xr.value,children:(e=>{try{return new Date(e).toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric"})}catch(t){return"Неизвестно"}})(l.createdAt)})]}),(B||C)&&l.email&&r.jsxs("div",{className:xr.userEmail,children:[r.jsx("span",{className:xr.label,children:"Email:"}),r.jsx("span",{className:xr.value,children:l.email})]})]})]})]}),C&&!B&&r.jsxs("div",{className:xr.adminActions,children:[r.jsx("h2",{children:"Администрирование профиля"}),r.jsxs("div",{className:xr.actionButtons,children:[r.jsx("button",{className:xr.editButton,children:"Редактировать профиль"}),r.jsx("button",{className:xr.banButton,children:"Заблокировать пользователя"})]})]}),B&&r.jsxs("div",{className:xr.personalSettings,children:[r.jsx("h2",{children:"Личные настройки"}),N&&r.jsxs("div",{className:xr.successMessage,children:[r.jsx(y,{size:16}),r.jsx("span",{children:N})]}),r.jsxs("div",{className:xr.settingGroup,children:[r.jsx("label",{htmlFor:"displayName",children:"Имя пользователя:"}),r.jsxs("div",{className:xr.settingControl,children:[r.jsx("input",{type:"text",id:"displayName",value:l.displayName||"Пользователь",readOnly:!0}),r.jsx("button",{className:xr.editButton,onClick:()=>{k(!0)},children:"Изменить"})]})]}),r.jsxs("div",{className:xr.settingGroup,children:[r.jsx("label",{htmlFor:"password",children:"Пароль:"}),r.jsxs("div",{className:xr.settingControl,children:[r.jsx("input",{type:"password",id:"password",value:"••••••",readOnly:!0}),r.jsx("button",{className:xr.editButton,onClick:()=>{j(!0)},children:"Изменить"})]})]})]}),r.jsx(a,{children:u&&r.jsx(kr,{avatars:br,onSelectAvatar:async e=>{try{const t=br.find((t=>t.id===e));t&&l&&(await Et.updateAvatar(t.path),d({...l,avatar:t.path})),g(!1)}catch(t){}},onClose:()=>{g(!1)}})}),r.jsx(a,{children:h&&r.jsx(fr,{perks:l.perks||["user"],activePerk:l.activePerk||"user",onSelectPerk:async e=>{try{await Et.updateActivePerk(e,n),d({...l,activePerk:e}),b(!1)}catch(t){}},onClose:()=>{b(!1)}})}),r.jsx(a,{children:v&&r.jsx(yr,{onClose:()=>k(!1),onSubmit:async(e,t)=>{try{await Et.updateDisplayName(e,t,n),d({...l,displayName:e}),z("Имя пользователя успешно изменено"),setTimeout((()=>{z("")}),3e3)}catch(r){throw r}},initialName:l?.displayName})}),r.jsx(a,{children:w&&r.jsx(vr,{onClose:()=>j(!1),onSubmit:async(e,t)=>{try{await Et.changePassword(e,t),z("Пароль успешно изменен"),setTimeout((()=>{z("")}),3e3)}catch(r){throw r}}})})]})},jr={async getPosts(){try{let r=!1;try{const{data:e,error:t}=await Bt.from("posts").select("styling").limit(1);r=!t}catch(e){}const{data:a,error:o}=await Bt.from("posts").select("*").order("created_at",{ascending:!1});if(o)throw o;const i=[];for(const e of a)try{const t=await Ot.getUserProfile(e.user_id),{data:a,error:o}=await Bt.from("profiles").select("perks, active_perk").eq("id",e.user_id).single(),s=a?.perks||[],n=a?.active_perk||s[0]||"user",{count:l}=await Bt.from("post_likes").select("*",{count:"exact",head:!0}).eq("post_id",e.id),{count:d}=await Bt.from("post_comments").select("*",{count:"exact",head:!0}).eq("post_id",e.id);let c=null;e.poll_data&&(c=e.poll_data),i.push({id:e.id,content:e.content,image_url:e.image_url,created_at:e.created_at,user_id:e.user_id,author:{displayName:t.displayName,avatar:t.avatar,perks:s,activePerk:n},styling:r&&e.styling||null,likes_count:l||0,comments_count:d||0,poll:c})}catch(t){i.push({id:e.id,content:e.content,image_url:e.image_url,created_at:e.created_at,user_id:e.user_id,author:{displayName:"Пользователь",avatar:null,perks:[],activePerk:"user"},styling:null,likes_count:0,comments_count:0,poll:null})}return i}catch(t){throw t}},async createPost(e){try{const{title:t,content:r,imageUrl:a,userId:o,poll:i,styling:s}=e,n={title:t||null,content:r,image_url:a||null,user_id:o,created_at:(new Date).toISOString(),poll_data:i||null,styling:s||null},{data:l,error:d}=await Bt.from("posts").insert([n]).select();if(d)throw new Error(d.message);if(!l||0===l.length)throw new Error("Не удалось создать пост");const c=await Ot.getUserProfile(o);return{...l[0],author:{id:o,displayName:c.displayName,avatar:c.avatar,activePerk:c.activePerk||"user"},likes_count:0,comments_count:0}}catch(t){throw t}},async getPostById(e){try{let a=!1;try{const{data:e,error:t}=await Bt.from("posts").select("styling").limit(1);a=!t}catch(t){}const{data:o,error:i}=await Bt.from("posts").select("*").eq("id",e).single();if(i)throw i;const s=await Ot.getUserProfile(o.user_id),{data:n,error:l}=await Bt.from("profiles").select("perks, active_perk").eq("id",o.user_id).single(),d=n?.perks||[],c=n?.active_perk||d[0]||"user",{count:_}=await Bt.from("post_likes").select("*",{count:"exact",head:!0}).eq("post_id",o.id),{data:p}=await Bt.from("post_comments").select("*").eq("post_id",o.id).is("parent_id",null).order("created_at",{ascending:!0}),m=[];for(const e of p)try{const t=await Ot.getUserProfile(e.user_id),{data:a}=await Bt.from("profiles").select("perks, active_perk").eq("id",e.user_id).single(),i=a?.perks||[],s=a?.active_perk||i[0]||"user",{data:n}=await Bt.from("post_comments").select("*").eq("post_id",o.id).eq("parent_id",e.id).order("created_at",{ascending:!0}),l=[];for(const e of n)try{const t=await Ot.getUserProfile(e.user_id),{data:r}=await Bt.from("profiles").select("perks, active_perk").eq("id",e.user_id).single(),a=r?.perks||[],o=r?.active_perk||a[0]||"user";l.push({...e,author:{displayName:t.displayName,avatar:t.avatar,perks:a,activePerk:o}})}catch(r){l.push({...e,author:{displayName:"Пользователь",avatar:null,perks:[],activePerk:"user"}})}m.push({...e,author:{displayName:t.displayName,avatar:t.avatar,perks:i,activePerk:s},replies:l})}catch(r){m.push({...e,author:{displayName:"Пользователь",avatar:null,perks:[],activePerk:"user"},replies:[]})}return{id:o.id,content:o.content,image_url:o.image_url,created_at:o.created_at,user_id:o.user_id,author:{displayName:s.displayName,avatar:s.avatar,perks:d,activePerk:c},styling:a&&o.styling||null,likes_count:_||0,comments:m,poll:o.poll_data}}catch(r){throw r}},async toggleLike(e,t){try{const{data:r,error:a}=await Bt.from("post_likes").select("*").eq("post_id",e).eq("user_id",t);if(a)throw a;if(r&&r.length>0){const{error:r}=await Bt.from("post_likes").delete().eq("post_id",e).eq("user_id",t);if(r)throw r;const{count:a}=await Bt.from("post_likes").select("*",{count:"exact",head:!0}).eq("post_id",e);return{liked:!1,likesCount:a||0}}{const{error:r}=await Bt.from("post_likes").insert({post_id:e,user_id:t});if(r)throw r;const{count:a}=await Bt.from("post_likes").select("*",{count:"exact",head:!0}).eq("post_id",e);return{liked:!0,likesCount:a||0}}}catch(r){throw r}},async isLikedByUser(e,t){try{const{data:r,error:a}=await Bt.from("post_likes").select("*").eq("post_id",e).eq("user_id",t);if(a)throw a;return{liked:r&&r.length>0}}catch(r){throw r}},async getLikesCount(e){try{const{count:t,error:r}=await Bt.from("post_likes").select("*",{count:"exact",head:!0}).eq("post_id",e);if(r)throw r;return t||0}catch(t){throw t}},async deletePost(e){try{const{data:t}=await Bt.auth.getSession(),r=t?.session?.user;if(!r)throw new Error("Пользователь не авторизован");if("igoraor79@gmail.com"!==r.email&&"admin"!==r.user_metadata?.role)throw new Error("Только администраторы могут удалять посты");const{error:a}=await Bt.from("post_comments").delete().eq("post_id",e),{error:o}=await Bt.from("post_likes").delete().eq("post_id",e),{error:i}=await Bt.from("posts").delete().eq("id",e);if(i)throw i;return{success:!0}}catch(t){throw t}},async getPollVoteStatus(e,t){try{const{data:a,error:o}=await Bt.from("posts").select("poll_data").eq("id",e).single();if(o)throw o;if(!a.poll_data)throw new Error("У этого поста нет опроса");try{const{data:r,error:a}=await Bt.from("poll_votes").select("option_index").eq("post_id",e).eq("user_id",t).throwOnError().maybeSingle(),o=await this.getPollResults(e);return{hasVoted:!!r,option:r?r.option_index:null,results:o.results}}catch(r){return{hasVoted:!1,option:null,results:(await this.getPollResults(e)).results}}}catch(a){throw a}},async voteInPoll(e,t,r){try{const{data:o,error:i}=await Bt.from("posts").select("poll_data").eq("id",e).single();if(i)throw i;if(!o.poll_data)throw new Error("У этого поста нет опроса");if(r<0||r>=o.poll_data.options.length)throw new Error("Неверный индекс опции");try{const{data:a,error:o}=await Bt.from("poll_votes").select("id, option_index").eq("post_id",e).eq("user_id",t);if(o)throw o;if(a&&a.length>0){const{error:e}=await Bt.from("poll_votes").update({option_index:r}).eq("id",a[0].id);if(e)throw e}else{const{error:a}=await Bt.from("poll_votes").insert({post_id:e,user_id:t,option_index:r});if(a)throw a}return await this.getPollResults(e)}catch(a){return{question:o.poll_data.question,results:o.poll_data.options.map(((e,t)=>({option:e,votes:t===r?1:0})))}}}catch(o){throw o}},async getPollResults(e){try{const{data:r,error:a}=await Bt.from("posts").select("poll_data").eq("id",e).single();if(a)throw a;if(!r.poll_data)throw new Error("У этого поста нет опроса");try{const{data:t,error:a}=await Bt.from("poll_votes").select("option_index").eq("post_id",e);if(a)throw a;const o=r.poll_data.options.map(((e,r)=>({option:e,votes:t?t.filter((e=>e.option_index===r)).length:0})));return{question:r.poll_data.question,results:o}}catch(t){const e=r.poll_data.options.map((e=>({option:e,votes:0})));return{question:r.poll_data.question,results:e}}}catch(r){throw r}}},Nr={async getCommentsByPostId(e){try{const{data:r,error:a}=await Bt.from("post_comments").select("*").eq("post_id",e).is("parent_id",null).order("created_at",{ascending:!1});if(a)throw a;if(!r||0===r.length)return[];const o=[];for(const e of r)try{const r=await Ot.getUserProfile(e.user_id),{data:a}=await Bt.from("profiles").select("perks, active_perk").eq("id",e.user_id).single(),i=a?.perks||[],s=a?.active_perk||i[0]||"user",{data:n,error:l}=await Bt.from("post_comments").select("*").eq("parent_id",e.id).order("created_at",{ascending:!0});if(l)throw l;const d=[];for(const e of n||[])try{const t=await Ot.getUserProfile(e.user_id),{data:r}=await Bt.from("profiles").select("perks, active_perk").eq("id",e.user_id).single(),a=r?.perks||[],o=r?.active_perk||a[0]||"user";d.push({...e,author:{displayName:t.displayName,avatar:t.avatar,perks:a,activePerk:o}})}catch(t){d.push({...e,author:{displayName:"Пользователь",avatar:null,perks:[],activePerk:"user"}})}o.push({...e,author:{displayName:r.displayName,avatar:r.avatar,perks:i,activePerk:s},replies:d})}catch(t){o.push({...e,author:{displayName:"Пользователь",avatar:null,perks:[],activePerk:"user"},replies:[]})}return o}catch(t){return[]}},async createComment(e){try{const t=await Ot.getUserProfile(e.userId),{data:r,error:a}=await Bt.from("post_comments").insert({content:e.content,post_id:e.postId,user_id:e.userId,parent_id:null}).select();if(a)throw a;const{data:o}=await Bt.from("profiles").select("perks, active_perk").eq("id",e.userId).single(),i=o?.perks||[],s=o?.active_perk||i[0]||"user";return{...r[0],author:{displayName:t.displayName,avatar:t.avatar,perks:i,activePerk:s},replies:[]}}catch(t){throw t}},async replyToComment(e){try{const t=await Ot.getUserProfile(e.userId),{data:r,error:a}=await Bt.from("post_comments").insert({content:e.content,post_id:e.postId,user_id:e.userId,parent_id:e.commentId}).select();if(a)throw a;const{data:o}=await Bt.from("profiles").select("perks, active_perk").eq("id",e.userId).single(),i=o?.perks||[],s=o?.active_perk||i[0]||"user";return{...r[0],author:{displayName:t.displayName,avatar:t.avatar,perks:i,activePerk:s}}}catch(t){throw t}},async getCommentsCount(e){try{const{count:t,error:r}=await Bt.from("post_comments").select("*",{count:"exact",head:!0}).eq("post_id",e);if(r)throw r;return t||0}catch(t){throw t}},async deleteComment(e,t){try{if(t)try{const{data:r,error:a}=await Bt.from("post_comments").select("user_id").eq("id",e).maybeSingle();if(a);else if(r){const e=r.user_id===t,{data:a,error:o}=await Bt.from("profiles").select("role, email").eq("id",t).maybeSingle(),i=!o&&a&&("admin"===a.role||"igoraor79@gmail.com"===a.email);if(!e&&!i)throw new Error("У вас нет прав для удаления этого комментария")}}catch(r){if("У вас нет прав для удаления этого комментария"===r.message)throw r}try{await Bt.from("post_comments").delete().eq("parent_id",e)}catch(a){}try{return await Bt.from("post_comments").delete().eq("id",e),!0}catch(r){throw r}}catch(r){throw r}}},zr={postsContainer:"_postsContainer_1j3dy_2",postsHeader:"_postsHeader_1j3dy_9",refreshButton:"_refreshButton_1j3dy_28",postsList:"_postsList_1j3dy_54",loading:"_loading_1j3dy_61",spin:"_spin_1j3dy_1",errorMessage:"_errorMessage_1j3dy_83",noPosts:"_noPosts_1j3dy_99",notAuthenticatedMessage:"_notAuthenticatedMessage_1j3dy_114",createPostContainer:"_createPostContainer_1j3dy_131",createPostTitle:"_createPostTitle_1j3dy_140",createPostForm:"_createPostForm_1j3dy_153",contentInput:"_contentInput_1j3dy_159",imageUrlInput:"_imageUrlInput_1j3dy_179",pollContainer:"_pollContainer_1j3dy_196",pollQuestionInput:"_pollQuestionInput_1j3dy_227",pollOptions:"_pollOptions_1j3dy_253",pollOptionInputWrapper:"_pollOptionInputWrapper_1j3dy_259",pollOptionInput:"_pollOptionInput_1j3dy_259",removeOptionButton:"_removeOptionButton_1j3dy_291",addOptionButton:"_addOptionButton_1j3dy_319",formOptions:"_formOptions_1j3dy_347",optionToggle:"_optionToggle_1j3dy_354",submitButton:"_submitButton_1j3dy_373",postItem:"_postItem_1j3dy_398",postHeader:"_postHeader_1j3dy_420",authorInfo:"_authorInfo_1j3dy_427",authorName:"_authorName_1j3dy_436",avatar:"_avatar_1j3dy_440",postDate:"_postDate_1j3dy_451",postContent:"_postContent_1j3dy_462",darkTextConversion:"_darkTextConversion_1j3dy_470",postImage:"_postImage_1j3dy_474",postPoll:"_postPoll_1j3dy_487",pollTitle:"_pollTitle_1j3dy_494",pollOption:"_pollOption_1j3dy_253",pollResults:"_pollResults_1j3dy_527",pollResultOption:"_pollResultOption_1j3dy_530",pollOptionText:"_pollOptionText_1j3dy_533",pollOptionVotes:"_pollOptionVotes_1j3dy_539",pollProgressBar:"_pollProgressBar_1j3dy_542",pollProgress:"_pollProgress_1j3dy_542",pollVotersCount:"_pollVotersCount_1j3dy_555",postActions:"_postActions_1j3dy_562",actionButtons:"_actionButtons_1j3dy_571",likeButton:"_likeButton_1j3dy_597",liked:"_liked_1j3dy_603",likeCount:"_likeCount_1j3dy_614",commentButton:"_commentButton_1j3dy_618",deleteButton:"_deleteButton_1j3dy_637",commentsSection:"_commentsSection_1j3dy_659",commentsHeading:"_commentsHeading_1j3dy_665",loadingComments:"_loadingComments_1j3dy_675",noComments:"_noComments_1j3dy_687",commentForm:"_commentForm_1j3dy_696",commentItem:"_commentItem_1j3dy_775",commentReply:"_commentReply_1j3dy_783",commentHeader:"_commentHeader_1j3dy_794",commentAuthorAvatar:"_commentAuthorAvatar_1j3dy_800",commentAuthorInfo:"_commentAuthorInfo_1j3dy_813",commentAuthor:"_commentAuthor_1j3dy_800",commentContent:"_commentContent_1j3dy_827",commentDate:"_commentDate_1j3dy_836",commentActions:"_commentActions_1j3dy_848",replyButton:"_replyButton_1j3dy_853",deleteCommentButton:"_deleteCommentButton_1j3dy_876",repliesContainer:"_repliesContainer_1j3dy_903",replyForm:"_replyForm_1j3dy_907",replyFormActions:"_replyFormActions_1j3dy_937",cancelReplyButton:"_cancelReplyButton_1j3dy_943",submitReplyButton:"_submitReplyButton_1j3dy_943",stylingOptions:"_stylingOptions_1j3dy_1024",stylingTitle:"_stylingTitle_1j3dy_1050",stylingGroup:"_stylingGroup_1j3dy_1063",colorSelector:"_colorSelector_1j3dy_1074",colorOption:"_colorOption_1j3dy_1081",active:"_active_1j3dy_1092",fontSelector:"_fontSelector_1j3dy_1097",formToggles:"_formToggles_1j3dy_1119",colorPickerContainer:"_colorPickerContainer_1j3dy_1158",colorPreview:"_colorPreview_1j3dy_1163",dropletIcon:"_dropletIcon_1j3dy_1185",colorPickerPopup:"_colorPickerPopup_1j3dy_1191","react-colorful":"_react-colorful_1j3dy_1197",colorPickerCover:"_colorPickerCover_1j3dy_1205",colorNote:"_colorNote_1j3dy_1214",likeAnimation:"_likeAnimation_1j3dy_1228",likePulse:"_likePulse_1j3dy_1",authPrompt:"_authPrompt_1j3dy_1243",loginButton:"_loginButton_1j3dy_1255",titleInput:"_titleInput_1j3dy_1269",postTitle:"_postTitle_1j3dy_1297"},qr=["бля","хуй","хуе","хуё","пизд","еба","ебл","пидор","пидар","муда","залуп","еби","ебы","ебу","ебё","еба","дроч","хер","жоп","уеб","ебан","хуя","пизж","бляд","сук","чмо","говн","мраз","долбо","дерьм","высер","гонд","дебил","гандон","манд","шлюх"],Br=["блядь","бля","ебать","ебанутый","хуй","хуйня","пизда","пиздец","пидор","пидорас","сука","мудак","мудила","залупа","хер","херня","говно","говнюк","хуесос","долбоеб","дебил","гандон","шлюха","проститутка","жопа","манда","мразь","высер","дрочить","ебал","ебло","ебун","заебись","заебал","похуй","нахуй","чмо","дерьмо","уебок","уебище","хуила","хуево","пиздато","пиздатый","ебаный","ебанько","пиздабол"],Cr=[{pattern:/\./,replaceWith:""},{pattern:/\*/,replaceWith:""},{pattern:/_/,replaceWith:""},{pattern:/-/,replaceWith:""},{pattern:/\s+(?=[а-яёa-z])/,replaceWith:""},{pattern:/(\w)\1+/,replaceWith:"$1"}],Sr={a:"а",b:"б",c:"с",d:"д",e:"е",h:"н",k:"к",m:"м",n:"н",o:"о",p:"р",r:"р",s:"с",t:"т",u:"у",v:"в",w:"ш",x:"х",y:"у",z:"з","а":"a","б":"b","в":"v","г":"g","д":"d","е":"e","ё":"yo","ж":"zh","з":"z","и":"i","й":"y","к":"k","л":"l","м":"m","н":"n","о":"o","п":"p","р":"r","с":"s","т":"t","у":"u","ф":"f","х":"h","ц":"ts","ч":"ch","ш":"sh","щ":"sch","ы":"i","э":"e","ю":"yu","я":"ya"};function Pr(e){let t=e.toLowerCase();return Cr.forEach((({pattern:e,replaceWith:r})=>{t=t.replace(e,r)})),t}function Ir(e){const t=[e];let r=!1,a="";for(let i=0;i<e.length;i++){const t=e[i];Sr[t]?(a+=Sr[t],r=!0):a+=t}let o="";for(let i=0;i<e.length;i++){const t=e[i];Sr[t]?(o+=Sr[t],r=!0):o+=t}return r&&(t.push(a),t.push(o)),t}function Or(e,t){if(!e)return"";if("string"!=typeof e)return"";if(function(e){return!(!e||"igoraor79@gmail.com"!==e.email&&"admin"!==e.role&&"admin"!==e.activePerk&&(!Array.isArray(e.perks)||!e.perks.includes("admin")))}(t))return e;try{return function(e){const t=Ir(Pr(e));for(const r of t){for(const e of Br)if(new RegExp(`\\b${e}\\b`,"i").test(r))return!0;for(const e of qr){const t=new RegExp(`\\b\\w*${e}\\w*\\b`,"i");if(t.test(r)){const e=r.match(t);if(e){const t=e[0];if(!["употребляя","употребление","заблуждение","хлебушек","херсон","схерсонес","херес","схер","хердер","гексахлороциклогексан","схерстить","скипидар","хлеб"].some((e=>t.includes(e))))return!0}}}}return!1}(e)?function(e){const t=e.split(/\s+/).map((e=>{const t=Ir(Pr(e));let r=!1;for(const a of t){for(const e of Br)if(new RegExp(`\\b${e}\\b`,"i").test(a)){r=!0;break}if(r)break;for(const e of qr)if(new RegExp(`\\b\\w*${e}\\w*\\b`,"i").test(a)&&!["употребляя","употребление","заблуждение","хлебушек","херсон","схерсонес","херес","схер","хердер","гексахлороциклогексан","схерстить","скипидар","хлеб"].some((e=>a.includes(e)))){r=!0;break}if(r)break}return r?"*".repeat(e.length):e}));return t.join(" ")}(e):e}catch(r){return e}}const Ar=w(o.div)`
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.5);
  backdrop-filter: blur(3px);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 10000;
  padding: 20px;
`,$r=w(o.div)`
  background: var(--bg-secondary);
  border-radius: 12px;
  padding: 24px;
  width: 100%;
  max-width: 380px;
  box-shadow: 0 8px 30px rgba(0, 0, 0, 0.2);
  position: relative;
  border: 1px solid var(--border);
`,Er=w.div`
  display: flex;
  align-items: center;
  margin-bottom: 16px;
`,Tr=w.h3`
  color: var(--text-primary);
  font-size: 18px;
  margin: 0;
  padding: 0;
  display: flex;
  align-items: center;
  gap: 10px;
  
  svg {
    color: var(--error);
  }
`,Fr=w.button`
  position: absolute;
  top: 16px;
  right: 16px;
  background: none;
  border: none;
  color: var(--text-secondary);
  cursor: pointer;
  padding: 4px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  
  &:hover {
    background: var(--bg-highlight);
  }
`,Gr=w.div`
  color: var(--text-secondary);
  margin-bottom: 24px;
`,Mr=w.div`
  display: flex;
  justify-content: flex-end;
  gap: 12px;
`,Dr=w.button`
  background: var(--bg-highlight);
  color: var(--text-primary);
  border: 1px solid var(--border);
  padding: 10px 16px;
  border-radius: 8px;
  cursor: pointer;
  font-weight: 500;
  display: flex;
  align-items: center;
  gap: 6px;
  
  &:hover {
    background: var(--background-color);
  }
`,Lr=w.button`
  background: var(--error);
  color: white;
  border: none;
  padding: 10px 16px;
  border-radius: 8px;
  cursor: pointer;
  font-weight: 500;
  display: flex;
  align-items: center;
  gap: 6px;
  
  &:hover {
    opacity: 0.9;
  }
`,Rr=({isOpen:e,onClose:t,onConfirm:o,title:i="Подтверждение",message:n="Вы уверены?",confirmText:l="Подтвердить",cancelText:d="Отмена",isDanger:c=!0})=>(s.useEffect((()=>(document.body.style.overflow=e?"hidden":"auto",()=>{document.body.style.overflow="auto"})),[e]),r.jsx(a,{children:e&&r.jsx(Ar,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e=>{e.target===e.currentTarget&&t()},children:r.jsxs($r,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{type:"spring",stiffness:300,damping:25},children:[r.jsxs(Er,{children:[r.jsxs(Tr,{children:[c&&r.jsx(j,{size:20}),i]}),r.jsx(Fr,{onClick:t,children:r.jsx(u,{size:18})})]}),r.jsx(Gr,{children:n}),r.jsxs(Mr,{children:[r.jsxs(Dr,{onClick:t,children:[r.jsx(u,{size:16}),d]}),r.jsxs(Lr,{onClick:o,style:{background:c?"var(--error)":"var(--accent)"},children:[r.jsx(y,{size:16}),l]})]})]})})})),Hr=e=>{const t=new Date(e),r=new Date,a=Math.floor((r-t)/1e3),o=Math.floor(a/60),i=Math.floor(o/60),s=Math.floor(i/24),n=Math.floor(s/7),l=Math.floor(s/30),d=Math.floor(s/365);return a<60?"только что":o<60?`${o} ${Ur(o,["минуту","минуты","минут"])} назад`:i<24?`${i} ${Ur(i,["час","часа","часов"])} назад`:s<7?`${s} ${Ur(s,["день","дня","дней"])} назад`:n<4?`${n} ${Ur(n,["неделю","недели","недель"])} назад`:l<12?`${l} ${Ur(l,["месяц","месяца","месяцев"])} назад`:`${d} ${Ur(d,["год","года","лет"])} назад`},Ur=(e,t)=>t[e%100>4&&e%100<20?2:[2,0,1,1,1,2][e%10<5?e%10:5]],Wr=N`
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
`,Vr=w.div`
  background: var(--bg-highlight, #f5f8fa);
  border-radius: 12px;
  padding: 20px;
  margin: 15px 0;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
  animation: ${Wr} 0.3s ease-out;
  border: 1px solid var(--border, #e1e8ed);
  
  [data-theme="dark"] & {
    background: rgba(255, 255, 255, 0.05);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    border-color: rgba(255, 255, 255, 0.1);
  }
  
  &::before {
    display: none;
  }
`;w.h4`
  color: var(--text-primary);
  font-size: 18px;
  font-weight: 600;
  margin-bottom: 20px;
  display: flex;
  align-items: center;
  
  &:before {
    content: '';
    display: inline-block;
    width: 16px;
    height: 16px;
    background-color: var(--accent, #1da1f2);
    margin-right: 10px;
    border-radius: 4px;
  }
`;const Yr=w.div`
  display: flex;
  flex-direction: column;
  gap: 12px;
  margin-bottom: 20px;
`,Jr=w.div`
  position: relative;
  cursor: ${e=>e.$disabled?"default":"pointer"};
  opacity: ${e=>e.$disabled?"0.8":"1"};
`,Xr=w.div`
  padding: 12px 16px;
  border-radius: 8px;
  border: 1px solid var(--border, #e1e8ed);
  background: ${e=>e.$isSelected?"rgba(29, 161, 242, 0.1)":"transparent"};
  display: flex;
  align-items: center;
  transition: all 0.2s ease;
  
  &:hover {
    background: ${e=>e.$disabled?"transparent":"rgba(29, 161, 242, 0.05)"};
  }
  
  [data-theme="dark"] & {
    border-color: rgba(255, 255, 255, 0.1);
    background: ${e=>e.$isSelected?"rgba(29, 161, 242, 0.2)":"transparent"};
    
    &:hover {
      background: ${e=>e.$disabled?"transparent":"rgba(29, 161, 242, 0.1)"};
    }
  }
`,Zr=w.span`
  color: var(--text-primary);
  font-weight: ${e=>e.$isSelected?"600":"400"};
  font-size: 15px;
  margin-left: ${e=>e.$isVoted?"8px":"0"};
  flex-grow: 1;
`,Qr=w(y)`
  color: var(--accent, #1da1f2);
  margin-right: 10px;
`,Kr=w.span`
  color: var(--accent, #1da1f2);
  font-weight: 600;
  font-size: 14px;
  margin-left: auto;
`,ea=w.div`
  width: 100%;
  height: 6px;
  background-color: rgba(0, 0, 0, 0.05);
  border-radius: 3px;
  margin-top: 8px;
  overflow: hidden;
  
  [data-theme="dark"] & {
    background-color: rgba(255, 255, 255, 0.05);
  }
`,ta=w.div`
  height: 100%;
  background: linear-gradient(90deg, var(--accent, #1da1f2) 0%, rgba(29, 161, 242, 0.6) 100%);
  width: ${e=>e.$width}%;
  border-radius: 3px;
  transition: width 0.5s ease-out;
`,ra=w.div`
  text-align: right;
  color: var(--text-secondary);
  font-size: 14px;
  margin-top: 10px;
  font-style: italic;
  display: flex;
  align-items: center;
  justify-content: flex-end;
  gap: 5px;
  
  [data-theme="dark"] & {
    color: rgba(255, 255, 255, 0.6);
  }
`,aa=w.span`
  font-size: 12px;
  background-color: #5c6bc0;
  color: white;
  padding: 2px 8px;
  border-radius: 12px;
  margin-right: 8px;
  font-weight: 500;

  [data-theme="dark"] & {
    background-color: #3949ab;
  }
`,oa=({poll:e,postId:t,onVote:a,hasVoted:o,votedOption:s,results:n,isAdmin:l})=>{const{isAuthenticated:d}=Dt(),[c,_]=i.useState(0),p=e.optionsColor||null;i.useEffect((()=>{if(n){const e=n.reduce(((e,t)=>e+t.votes),0);_(e)}}),[n]);const m=o||l;return r.jsxs(Vr,{children:[r.jsx(Yr,{children:e.options.map(((e,t)=>{const i=n?.find((t=>t.option===e))||{votes:0},l=c>0?Math.round(i.votes/c*100):0,_=s===t;return r.jsxs(Jr,{onClick:()=>o?null:(async e=>{if(d){if(!o)try{await a(e)}catch(t){}}else alert("Войдите, чтобы проголосовать")})(t),$disabled:o,children:[r.jsxs(Xr,{$isSelected:_,$disabled:o,children:[_&&r.jsx(Qr,{}),r.jsx(Zr,{$isSelected:_,$isVoted:o,style:p?{color:p}:{},children:e}),m&&r.jsxs(Kr,{children:[l,"%"]})]}),m&&r.jsx(ea,{children:r.jsx(ta,{$width:l})})]},`option-${t}-${e}`)}))}),r.jsxs(ra,{children:[l&&!o&&r.jsx(aa,{children:"Просмотр администратора"}),r.jsx(O,{}),c," ",Ur(c,["голос","голоса","голосов"])]})]})};function ia({comment:e,onReply:t,onDelete:a}){const[o,s]=i.useState(!1),[n,l]=i.useState(""),[d,c]=i.useState(!1),{user:_,isAuthenticated:p}=Dt(),[m,x]=i.useState(!1),[g,h]=i.useState(!1),b=_&&"admin"===_.role,f=_&&_.id===e.user_id,y=b||f;return r.jsxs("div",{className:zr.commentItem,children:[r.jsxs("div",{className:zr.commentHeader,children:[r.jsx("div",{className:zr.commentAuthorAvatar,children:r.jsx(mr,{src:e.author.avatar,alt:e.author.displayName,className:zr.avatar})}),r.jsx("div",{className:zr.commentAuthorInfo,children:r.jsx(z,{to:`/profile/${e.user_id}`,className:zr.commentAuthor,children:r.jsx("span",{className:"early_user"===e.author.activePerk?dr:"sponsor"===e.author.activePerk?lr:"admin"===e.author.activePerk?cr:_r,style:{display:"inline-block",margin:0,padding:0},children:e.author.displayName})})})]}),r.jsx("div",{className:zr.commentContent,children:e.content}),r.jsxs("div",{className:zr.commentDate,children:[r.jsx(q,{})," ",Hr(e.created_at)]}),r.jsxs("div",{className:zr.commentActions,children:[r.jsxs("button",{className:zr.replyButton,onClick:()=>{p?s(!0):alert("Войдите, чтобы ответить на комментарий")},children:[r.jsx(A,{})," Ответить"]}),y&&r.jsxs("button",{className:zr.deleteCommentButton,onClick:()=>{y&&h(!0)},disabled:m,children:[r.jsx(S,{})," ",m?"Удаление...":"Удалить"]})]}),r.jsx(Rr,{isOpen:g,onClose:()=>{h(!1)},onConfirm:async()=>{if(y)try{x(!0),await Nr.deleteComment(e.id,_.id),a(e.id),h(!1)}catch(t){alert("Не удалось удалить комментарий: "+(t.message||"Неизвестная ошибка"))}finally{x(!1)}},title:"Удаление комментария",message:"Вы уверены, что хотите удалить этот комментарий? Это действие нельзя отменить.",confirmText:"Удалить",cancelText:"Отмена",isDanger:!0}),e.replies&&e.replies.length>0&&r.jsx("div",{className:zr.repliesContainer,children:e.replies.map((e=>{const t=_&&_.id===e.user_id,o=b||t,[s,n]=i.useState(!1);return r.jsxs("div",{className:`${zr.commentItem} ${zr.commentReply}`,children:[r.jsxs("div",{className:zr.commentHeader,children:[r.jsx("div",{className:zr.commentAuthorAvatar,children:r.jsx(mr,{src:e.author.avatar,alt:e.author.displayName,className:zr.avatar})}),r.jsx("div",{className:zr.commentAuthorInfo,children:r.jsx(z,{to:`/profile/${e.user_id}`,className:zr.commentAuthor,children:r.jsx("span",{className:"early_user"===e.author.activePerk?dr:"sponsor"===e.author.activePerk?lr:"admin"===e.author.activePerk?cr:_r,style:{display:"inline-block",margin:0,padding:0},children:e.author.displayName})})})]}),r.jsx("div",{className:zr.commentContent,children:e.content}),r.jsxs("div",{className:zr.commentDate,children:[r.jsx(q,{})," ",Hr(e.created_at)]}),o&&r.jsx("div",{className:zr.commentActions,children:r.jsxs("button",{className:zr.deleteCommentButton,onClick:()=>{o&&n(!0)},children:[r.jsx(S,{})," Удалить"]})}),r.jsx(Rr,{isOpen:s,onClose:()=>{n(!1)},onConfirm:async()=>{if(o)try{await Nr.deleteComment(e.id,_?.id),a(e.id),n(!1)}catch(t){alert("Не удалось удалить ответ: "+(t.message||"Неизвестная ошибка"))}},title:"Удаление ответа",message:"Вы уверены, что хотите удалить этот ответ? Это действие нельзя отменить.",confirmText:"Удалить",cancelText:"Отмена",isDanger:!0})]},e.id)}))}),o&&r.jsxs("form",{onSubmit:async r=>{if(r.preventDefault(),n.trim())try{c(!0);const r=Or(n,_);await t(e.id,r),l(""),s(!1)}catch(a){}finally{c(!1)}},className:zr.replyForm,children:[r.jsx("textarea",{value:n,onChange:e=>l(e.target.value),placeholder:"Напишите ответ...",disabled:d}),r.jsxs("div",{className:zr.replyFormActions,children:[r.jsxs("button",{type:"button",onClick:()=>{s(!1),l("")},className:zr.cancelReplyButton,disabled:d,children:[r.jsx(u,{})," Отмена"]}),r.jsx("button",{type:"submit",className:zr.submitReplyButton,disabled:d||!n.trim(),children:d?r.jsxs(r.Fragment,{children:[r.jsx(v,{})," Отправка..."]}):r.jsxs(r.Fragment,{children:[r.jsx(I,{})," Ответить"]})})]})]})]})}w(o.button)`
  background: none;
  border: none;
  padding: 0;
  font: inherit;
  cursor: pointer;
  outline: inherit;
`;const sa=w(o.div)`
  overflow: hidden;
`,na=e=>{if(!e)return!1;let t=e.replace("#","");return 3===t.length&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),(.299*parseInt(t.substring(0,2),16)+.587*parseInt(t.substring(2,4),16)+.114*parseInt(t.substring(4,6),16))/255<.5},la=({post:e,onLikeToggle:t,fullView:o=!1,onDelete:s})=>{const{user:n,isAuthenticated:l}=Dt(),[d,c]=i.useState(!1),[_,p]=i.useState(e.likes_count||0),[m,u]=i.useState(o),[x,g]=i.useState([]),[h,b]=i.useState(e.comments_count||0),[f,y]=i.useState(""),[w,j]=i.useState(!1),[N,O]=i.useState(""),[A,$]=i.useState(!1),[E,T]=i.useState(!1),[F,G]=i.useState(""),[M,D]=i.useState(!1),[L,R]=i.useState(!1),[H,U]=i.useState(null),[W,V]=i.useState([]),Y=e.title&&e.title.trim().length>0,J=n&&("igoraor79@gmail.com"===n.email||n.perks?.includes("admin")||"admin"===n.activePerk),X=e.styling||{},Z=X.titleColor||"#000000",Q=X.contentColor||"#000000",K=X.fontFamily||"inherit",ee=na(Z),te=na(Q);i.useEffect((()=>{const t=()=>{G(Hr(e.created_at))};t();const r=setInterval(t,6e4);return()=>clearInterval(r)}),[e.created_at]),i.useEffect((()=>{(async()=>{if(l&&n)try{const{liked:t}=await jr.isLikedByUser(e.id,n.id);c(t)}catch(t){}})()}),[e.id,n,l]),i.useEffect((()=>{e.poll_data&&(async()=>{if(e.poll_data&&l&&n)try{const{hasVoted:t,option:r,results:a}=await jr.getPollVoteStatus(e.id,n.id);R(t),U(r),V(a)}catch(t){try{const{results:t}=await jr.getPollResults(e.id);V(t)}catch(r){if(e.poll_data&&e.poll_data.options){const t=e.poll_data.options.map((e=>({option:e,votes:0})));V(t)}}}else if(e.poll_data)try{const{results:t}=await jr.getPollResults(e.id);V(t)}catch(t){if(e.poll_data&&e.poll_data.options){const t=e.poll_data.options.map((e=>({option:e,votes:0})));V(t)}}})()}),[e.id,e.poll_data,n,l]),i.useEffect((()=>{p(e.likes_count||0)}),[e.likes_count]),i.useEffect((()=>{b(e.comments_count||0)}),[e.comments_count]);const re=async(t,r)=>{if(l)try{const a=Or(r,n),o=await Nr.replyToComment({content:a,commentId:t,postId:e.id,userId:n.id}),i=x.map((e=>{if(e.id===t){const t=e.replies||[];return{...e,replies:[...t,o]}}return e}));return g(i),o}catch(a){throw a}else alert("Войдите, чтобы ответить на комментарий")},ae=e=>{if(-1!==x.findIndex((t=>t.id===e)))g(x.filter((t=>t.id!==e))),b((e=>e-1));else{const t=x.map((t=>t.replies&&t.replies.some((t=>t.id===e))?{...t,replies:t.replies.filter((t=>t.id!==e))}:t));g(t),b((e=>e-1))}};return r.jsxs("div",{className:zr.postItem,children:[r.jsxs("div",{className:zr.postHeader,children:[r.jsxs(z,{to:`/profile/${e.user_id}`,className:zr.authorInfo,children:[r.jsx(mr,{src:e.author.avatar,alt:e.author.displayName,className:zr.avatar}),r.jsx("span",{className:"early_user"===e.author.activePerk?dr:"sponsor"===e.author.activePerk?lr:"admin"===e.author.activePerk?cr:_r,style:{display:"inline-block",margin:0,padding:0},children:e.author.displayName})]}),r.jsxs("span",{className:zr.postDate,children:[r.jsx(q,{})," ",F]})]}),Y&&r.jsx("h2",{className:zr.postTitle,style:{color:Z,fontFamily:K},children:r.jsx("span",{className:ee?zr.darkTextConversion:"",children:e.title})}),r.jsx("div",{className:zr.postContent,style:{color:Q,fontFamily:K},children:r.jsx("span",{className:te?zr.darkTextConversion:"",children:e.content})}),e.image_url&&r.jsx("div",{className:zr.postImage,children:r.jsx("img",{src:e.image_url,alt:"Изображение к посту",onError:e=>{e.target.style.display="none"}})}),e.poll_data&&r.jsx("div",{className:zr.pollContainer,children:r.jsx(oa,{poll:e.poll_data,postId:e.id,onVote:async t=>{if(l)try{const{results:r}=await jr.voteInPoll(e.id,n.id,t);R(!0),U(t),V(r)}catch(r){if(alert("Не удалось проголосовать. Возможно, таблица для голосования еще не создана в базе данных."),e.poll_data&&e.poll_data.options){const r=e.poll_data.options.map(((e,r)=>({option:e,votes:r===t?1:0})));R(!0),U(t),V(r)}}else alert("Войдите, чтобы проголосовать")},hasVoted:L,votedOption:H,results:W,isAdmin:J})}),r.jsxs("div",{className:zr.postActions,children:[r.jsxs("div",{className:zr.actionButtons,children:[r.jsxs("button",{id:`like-${e.id}`,className:`${zr.likeButton} ${d?zr.liked:""}`,onClick:async()=>{if(l)try{const r=!d,a=r?_+1:_-1;c(r),p(a>0?a:0);const o=document.querySelector(`#like-${e.id}`);o&&(o.classList.add(zr.likeAnimation),setTimeout((()=>{o.classList.remove(zr.likeAnimation)}),1e3));const i=await jr.toggleLike(e.id,n.id);c(i.liked),p(i.likesCount),t&&t(e.id,i.liked,i.likesCount)}catch(r){c(!d);const e=d?_+1:_-1;p(e>0?e:0)}else alert("Войдите, чтобы поставить лайк")},children:[r.jsx(B,{})," ",r.jsx("span",{className:zr.likeCount,children:_})]}),r.jsxs("button",{className:zr.commentButton,onClick:()=>{m?u(!1):($(!0),(async()=>{if(x.length>0&&!m)return u(!0),void $(!1);try{$(!0);const t=await Nr.getCommentsByPostId(e.id);g(t),b(t.length),u(!0)}catch(t){}finally{$(!1)}})())},children:[r.jsx(C,{})," ",r.jsx("span",{children:h})]})]}),l&&n&&"admin"===n.role&&r.jsxs("button",{className:zr.deleteButton,onClick:()=>{l&&n&&"admin"===n.role&&D(!0)},disabled:E,children:[r.jsx(S,{})," ",E?"Удаление...":"Удалить"]})]}),r.jsx(Rr,{isOpen:M,onClose:()=>{D(!1)},onConfirm:async()=>{if(l&&n&&"admin"===n.role)try{T(!0),await jr.deletePost(e.id),s&&s(e.id),D(!1)}catch(t){alert("Не удалось удалить пост. Попробуйте позже.")}finally{T(!1)}},title:"Удаление поста",message:"Вы уверены, что хотите удалить этот пост? Это действие нельзя отменить.",confirmText:"Удалить",cancelText:"Отмена",isDanger:!0}),r.jsx(a,{children:m&&r.jsx(sa,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},children:r.jsxs("div",{className:zr.commentsSection,children:[r.jsxs("h4",{className:zr.commentsHeading,children:[r.jsx(P,{})," Комментарии (",h,")"]}),A?r.jsxs("div",{className:zr.loadingComments,children:[r.jsx(v,{})," Загрузка комментариев..."]}):r.jsxs(r.Fragment,{children:[x&&x.length>0?r.jsx("div",{className:zr.commentsList,children:x.map((e=>r.jsx(ia,{comment:e,onReply:re,onDelete:ae},e.id)))}):r.jsx("div",{className:zr.noComments,children:"Комментариев пока нет. Будьте первым!"}),l&&r.jsxs("form",{onSubmit:async t=>{if(t.preventDefault(),l)if(f.trim())try{j(!0),O("");const t=Or(f,n),r=await Nr.createComment({content:t,postId:e.id,userId:n.id});g([r,...x]),b(h+1),y("")}catch(r){O("Не удалось отправить комментарий")}finally{j(!1)}else O("Комментарий не может быть пустым");else O("Войдите, чтобы оставить комментарий")},className:zr.commentForm,children:[N&&r.jsxs("div",{className:zr.errorMessage,children:[r.jsx(k,{})," ",N]}),r.jsx("textarea",{value:f,onChange:e=>y(e.target.value),placeholder:"Напишите комментарий...",disabled:w}),r.jsx("button",{type:"submit",disabled:w,children:w?r.jsxs(r.Fragment,{children:[r.jsx(v,{})," Отправка..."]}):r.jsxs(r.Fragment,{children:[r.jsx(I,{})," Отправить"]})})]})]})]})})})]})},da=[{name:"По умолчанию",value:"inherit"},{name:"Arial",value:"Arial, sans-serif"},{name:"Times New Roman",value:"Times New Roman, serif"},{name:"Courier New",value:"Courier New, monospace"},{name:"Georgia",value:"Georgia, serif"},{name:"Verdana",value:"Verdana, sans-serif"},{name:"Roboto",value:"'Roboto', sans-serif"},{name:"Open Sans",value:"'Open Sans', sans-serif"},{name:"Lato",value:"'Lato', sans-serif"},{name:"Montserrat",value:"'Montserrat', sans-serif"},{name:"Poppins",value:"'Poppins', sans-serif"},{name:"Source Sans Pro",value:"'Source Sans Pro', sans-serif"},{name:"Ubuntu",value:"'Ubuntu', sans-serif"},{name:"Raleway",value:"'Raleway', sans-serif"},{name:"Nunito",value:"'Nunito', sans-serif"}],ca=({onPostCreated:e})=>{const{user:t,isAuthenticated:a}=Dt(),[o,s]=i.useState(""),[n,l]=i.useState(""),[d,c]=i.useState(""),[_,p]=i.useState(!1),[m,u]=i.useState(""),[x,g]=i.useState(!1),[b,f]=i.useState(["",""]),[y,v]=i.useState(!1),[w,j]=i.useState("#000000"),[N,z]=i.useState("#000000"),[q,B]=i.useState("#000000"),[C,S]=i.useState("inherit"),[P,A]=i.useState(!1),[M,D]=i.useState(!1),[L,R]=i.useState(!1),H=e=>{if(!e)return!1;let t=e.replace("#","");return 3===t.length&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),(.299*parseInt(t.substring(0,2),16)+.587*parseInt(t.substring(2,4),16)+.114*parseInt(t.substring(4,6),16))/255<.5};return r.jsxs("div",{className:zr.createPostContainer,children:[r.jsxs("h3",{className:zr.createPostTitle,children:[r.jsx($,{})," Создать пост"]}),m&&r.jsxs("div",{className:zr.errorMessage,children:[r.jsx(k,{})," ",m]}),r.jsxs("form",{onSubmit:async r=>{if(r.preventDefault(),n.trim()){if(!(x&&b.filter((e=>e.trim().length>0)).length<2&&(u("Для опроса необходимо минимум два варианта ответа"),1)))try{p(!0),u("");const r=x?{question:o.trim()||n.trim().split(" ").slice(0,5).join(" ")+"...",options:b.filter((e=>e.trim().length>0)).map((e=>e.trim())),optionsColor:q}:null,a={title:o.trim()||null,content:n.trim(),imageUrl:d||null,userId:t.id,styling:{titleColor:w,contentColor:N,fontFamily:C},poll:r},i=await jr.createPost(a);s(""),l(""),c(""),g(!1),f(["",""]),v(!1),j("#000000"),z("#000000"),B("#000000"),S("inherit"),e&&e(i)}catch(a){a.message?u(`Не удалось создать пост: ${a.message}`):a.details?u(`Ошибка: ${a.details}`):u("Не удалось создать пост. Попробуйте позже.")}finally{p(!1)}}else u("Текст поста не может быть пустым")},className:zr.createPostForm,children:[r.jsx("input",{type:"text",className:zr.titleInput,value:o,onChange:e=>s(e.target.value),placeholder:"Заголовок поста",disabled:_,style:{color:w,fontFamily:C}}),r.jsx("textarea",{className:zr.contentInput,value:n,onChange:e=>l(e.target.value),placeholder:x?"Текст поста с опросом...":"Текст вашего поста...",rows:4,disabled:_,required:!0,style:{color:N,fontFamily:C}}),!x&&r.jsx("input",{type:"text",className:zr.imageUrlInput,value:d,onChange:e=>c(e.target.value),placeholder:"URL изображения (необязательно)",disabled:_}),x&&r.jsxs("div",{className:zr.pollContainer,children:[r.jsx("div",{className:zr.pollOptions,children:b.map(((e,t)=>r.jsx("div",{className:zr.pollOption,children:r.jsxs("div",{className:zr.pollOptionInputWrapper,children:[r.jsx("input",{type:"text",className:zr.pollOptionInput,value:e,onChange:e=>((e,t)=>{const r=[...b];r[e]=t,f(r)})(t,e.target.value),placeholder:`Вариант ${t+1}`,disabled:_,style:{color:q,fontFamily:C}}),b.length>2&&r.jsx("button",{type:"button",onClick:()=>(e=>{if(b.length>2){const t=[...b];t.splice(e,1),f(t)}})(t),className:zr.removeOptionButton,disabled:_,children:r.jsx(E,{})})]})},t)))}),r.jsxs("button",{type:"button",onClick:()=>{b.length<6&&f([...b,""])},className:zr.addOptionButton,disabled:_||b.length>=6,children:[r.jsx(T,{})," Добавить вариант"]})]}),y&&r.jsxs("div",{className:zr.stylingOptions,children:[r.jsxs("h4",{className:zr.stylingTitle,children:[r.jsx(F,{})," Настройки стиля"]}),r.jsxs("div",{className:zr.stylingGroup,children:[r.jsx("label",{children:"Шрифт:"}),r.jsx("select",{value:C,onChange:e=>S(e.target.value),className:zr.fontSelector,disabled:_,style:{fontFamily:C},children:da.map((e=>r.jsx("option",{value:e.value,style:{fontFamily:e.value},children:e.name},e.value)))})]}),r.jsxs("div",{className:zr.stylingGroup,children:[r.jsx("label",{children:"Цвет заголовка:"}),r.jsxs("div",{className:zr.colorPickerContainer,children:[r.jsx("div",{className:zr.colorPreview,style:{backgroundColor:w},onClick:()=>A(!P),children:r.jsx(F,{className:zr.dropletIcon})}),P&&r.jsxs("div",{className:zr.colorPickerPopup,children:[r.jsx("div",{className:zr.colorPickerCover,onClick:()=>A(!1)}),r.jsx(G,{color:w,onChange:j})]})]}),H(w)&&r.jsx("div",{className:zr.colorNote,children:"Примечание: тёмные цвета будут автоматически адаптированы в темной теме для лучшей читаемости."})]}),r.jsxs("div",{className:zr.stylingGroup,children:[r.jsx("label",{children:"Цвет текста поста:"}),r.jsxs("div",{className:zr.colorPickerContainer,children:[r.jsx("div",{className:zr.colorPreview,style:{backgroundColor:N},onClick:()=>D(!M),children:r.jsx(F,{className:zr.dropletIcon})}),M&&r.jsxs("div",{className:zr.colorPickerPopup,children:[r.jsx("div",{className:zr.colorPickerCover,onClick:()=>D(!1)}),r.jsx(G,{color:N,onChange:z})]})]}),H(N)&&r.jsx("div",{className:zr.colorNote,children:"Примечание: тёмные цвета будут автоматически адаптированы в темной теме для лучшей читаемости."})]}),x&&r.jsxs("div",{className:zr.stylingGroup,children:[r.jsx("label",{children:"Цвет вариантов опроса:"}),r.jsxs("div",{className:zr.colorPickerContainer,children:[r.jsx("div",{className:zr.colorPreview,style:{backgroundColor:q},onClick:()=>R(!L),children:r.jsx(F,{className:zr.dropletIcon})}),L&&r.jsxs("div",{className:zr.colorPickerPopup,children:[r.jsx("div",{className:zr.colorPickerCover,onClick:()=>R(!1)}),r.jsx(G,{color:q,onChange:B})]})]})]})]}),r.jsxs("div",{className:zr.formOptions,children:[r.jsxs("div",{className:zr.formToggles,children:[r.jsxs("label",{className:zr.optionToggle,children:[r.jsx("input",{type:"checkbox",checked:x,onChange:()=>{g(!x),f(["",""])},disabled:_}),r.jsx(O,{})," ",x?"Убрать опрос":"Добавить опрос"]}),r.jsxs("label",{className:zr.optionToggle,children:[r.jsx("input",{type:"checkbox",checked:y,onChange:()=>{v(!y)},disabled:_}),r.jsx(h,{})," ",y?"Скрыть настройки":"Настройки стиля"]})]}),r.jsx("button",{type:"submit",className:zr.submitButton,disabled:_,children:_?"Публикация...":r.jsxs(r.Fragment,{children:[r.jsx(I,{})," Опубликовать"]})})]})]})]})},_a=()=>{const{user:e,isAuthenticated:t}=Dt(),[a,o]=i.useState([]),[s,n]=i.useState(!0),[l,d]=i.useState(""),[c,_]=i.useState(0);t&&e&&("igoraor79@gmail.com"===e.email||e.perks?.includes("admin")||e.activePerk),i.useEffect((()=>{(async()=>{try{n(!0);const e=(await jr.getPosts()).sort(((e,t)=>new Date(t.created_at)-new Date(e.created_at)));o(e),d("")}catch(e){d("Не удалось загрузить посты. Попробуйте позже.")}finally{n(!1)}})()}),[c]);const p=(e,t,r)=>{o((t=>t.map((t=>t.id===e?{...t,likes_count:r}:t))))},m=e=>{o((t=>t.filter((t=>t.id!==e))))};return r.jsxs("div",{className:zr.postsContainer,children:[r.jsxs("div",{className:zr.postsHeader,children:[r.jsxs("h2",{children:[r.jsx(M,{})," Лента постов"]}),r.jsxs("button",{className:zr.refreshButton,onClick:()=>{_((e=>e+1))},disabled:s,children:[s?r.jsx(v,{}):r.jsx(D,{})," Обновить"]})]}),r.jsx(ca,{onPostCreated:e=>{o([e,...a]),setTimeout((()=>{_((e=>e+1))}),2e3)}}),l&&r.jsxs("div",{className:zr.errorMessage,children:[r.jsx(k,{})," ",l]}),s?r.jsxs("div",{className:zr.loading,children:[r.jsx(v,{})," Загрузка постов..."]}):a.length>0?r.jsx("div",{className:zr.postsList,children:a.map((e=>r.jsx(la,{post:e,onLikeToggle:p,onDelete:m},e.id)))}):r.jsxs("div",{className:zr.noPosts,children:[r.jsx(L,{}),r.jsx("p",{children:"Постов пока нет. Будьте первым, кто опубликует пост!"})]})]})},pa={adminPanel:"_adminPanel_15slc_1",title:"_title_15slc_29",error:"_error_15slc_51",fadeIn:"_fadeIn_15slc_1",message:"_message_15slc_68",success:"_success_15slc_77",info:"_info_15slc_86",content:"_content_15slc_115",usersSection:"_usersSection_15slc_127",editSection:"_editSection_15slc_127",loader:"_loader_15slc_154",spin:"_spin_15slc_1",usersList:"_usersList_15slc_179",userItem:"_userItem_15slc_216",selected:"_selected_15slc_233",userAvatar:"_userAvatar_15slc_245",noAvatar:"_noAvatar_15slc_263",userInfo:"_userInfo_15slc_279",userName:"_userName_15slc_287",userEmail:"_userEmail_15slc_297",userPerks:"_userPerks_15slc_306",perk:"_perk_15slc_312",user:"_user_15slc_127",early_user:"_early_user_15slc_331",sponsor:"_sponsor_15slc_339",admin:"_admin_15slc_1",editForm:"_editForm_15slc_379",formGroup:"_formGroup_15slc_393",perksOptions:"_perksOptions_15slc_460",perkOption:"_perkOption_15slc_475",formActions:"_formActions_15slc_500",cancelButton:"_cancelButton_15slc_507",saveButton:"_saveButton_15slc_508",noUserSelected:"_noUserSelected_15slc_568",emptyList:"_emptyList_15slc_601"},ma=()=>{const{user:e,refreshUser:t}=Dt(),a=x(),[o,s]=i.useState([]),[n,l]=i.useState(!0),[c,_]=i.useState(null),[m,g]=i.useState(null),[b,f]=i.useState(!1),[y,w]=i.useState({displayName:"",email:"",password:"",perks:[]}),[j,N]=i.useState(null),z=i.useRef(null);i.useEffect((()=>{null!==e&&(e&&("igoraor79@gmail.com"===e.email||e.perks?.includes("admin")||"admin"===e.activePerk)||a("/"))}),[e,a]),i.useEffect((()=>{const e=async()=>{try{l(!0),_(null);const{data:t,error:r}=await Bt.from("profiles").select("*").order("created_at",{ascending:!1});if(r)throw new Error(`Ошибка при получении профилей: ${r.message}`);if(!t||0===t.length)return s([]),void l(!1);let a=[];try{const{data:e,error:t}=await Bt.rpc("admin_get_users");!t&&e&&(a=e)}catch(e){}const o=t.map((e=>{const t=a.find((t=>t.id===e.id)),r=t?.raw_user_meta_data||{};return{id:e.id,displayName:e.display_name||r.display_name||"Пользователь",email:t?.email||e.email||"Нет email",perks:e.perks||["user"],activePerk:e.active_perk||"user",avatar:e.avatar||r.avatar,createdAt:t?.created_at||e.created_at||(new Date).toISOString()}}));s(o),_(null)}catch(t){_(t.message)}finally{l(!1)}};e();const t=()=>{"visible"===document.visibilityState&&e()};return document.addEventListener("visibilitychange",t),()=>{document.removeEventListener("visibilitychange",t)}}),[]);const q=e=>{const{name:t,value:r}=e.target;w({...y,[t]:r})},B=e=>{const t=y.perks.includes(e)?y.perks.filter((t=>t!==e)):[...y.perks,e];w({...y,perks:t.length>0?t:["user"]})},C=async()=>{try{await new Promise((e=>setTimeout(e,500)));const{data:e,error:t}=await Bt.from("profiles").select("*").order("created_at",{ascending:!1});if(t)return;const r=e.map((e=>({id:e.id,displayName:e.display_name||"Пользователь",email:e.email||"Email не указан",perks:e.perks||["user"],activePerk:e.active_perk||"user",avatar:e.avatar,createdAt:e.created_at||(new Date).toISOString()})));if(s([...r]),m){const e=r.find((e=>e.id===m.id));e&&g(e)}}catch(e){}},S=e=>{switch(e){case"user":return"Пользователь";case"early_user":return"Ранний пользователь";case"sponsor":return"Спонсор";case"admin":return"Администратор";default:return e}},P=e&&("igoraor79@gmail.com"===e.email||e.perks?.includes("admin")||"admin"===e.activePerk);i.useEffect((()=>()=>{z.current&&clearTimeout(z.current)}),[]);const I=(e,t=3e3)=>{z.current&&clearTimeout(z.current),N(e),z.current=setTimeout((()=>{N(null)}),t)};return P?r.jsxs("div",{className:pa.adminPanel,children:[r.jsxs("h1",{className:pa.title,children:[r.jsx(h,{size:24})," Панель администратора"]}),c&&r.jsxs("div",{className:pa.error,children:[r.jsx(k,{size:20,style:{marginRight:"10px"}})," ",c]}),j&&r.jsxs("div",{className:`${pa.message} ${pa[j.type]}`,children:["success"===j.type&&r.jsx(R,{size:20,style:{marginRight:"10px"}}),"error"===j.type&&r.jsx(k,{size:20,style:{marginRight:"10px"}}),"info"===j.type&&r.jsx(H,{size:20,style:{marginRight:"10px"}}),j.text]}),r.jsxs("div",{className:pa.content,children:[r.jsxs("div",{className:pa.usersSection,children:[r.jsxs("h2",{children:[r.jsx(U,{size:18})," Список пользователей"]}),n?r.jsxs("div",{className:pa.loader,children:[r.jsx(v,{size:24})," Загрузка пользователей..."]}):r.jsx("div",{className:pa.usersList,children:0===o.length?r.jsx("div",{className:pa.emptyList,children:"Пользователи не найдены"}):o.map((e=>r.jsxs("div",{className:`${pa.userItem} ${m&&m.id===e.id?pa.selected:""}`,onClick:()=>(e=>{g(e),w({displayName:e.displayName||"",email:e.email||"",password:"",perks:e.perks||["user"]}),f(!0)})(e),children:[r.jsx("div",{className:pa.userAvatar,children:e.avatar?r.jsx("img",{src:e.avatar,alt:e.displayName}):r.jsx("div",{className:pa.noAvatar,children:e.displayName.charAt(0).toUpperCase()})}),r.jsxs("div",{className:pa.userInfo,children:[r.jsx("div",{className:pa.userName,children:e.displayName}),r.jsx("div",{className:pa.userEmail,children:e.email}),r.jsx("div",{className:pa.userPerks,children:e.perks.map((e=>r.jsx("span",{className:`${pa.perk} ${pa[e]}`,children:S(e)},e)))})]})]},e.id)))})]}),r.jsxs("div",{className:pa.editSection,children:[r.jsxs("h2",{children:[r.jsx($,{size:18})," Редактирование профиля"]}),m&&b?r.jsxs("form",{className:pa.editForm,onSubmit:async r=>{r.preventDefault();try{if(l(!0),y.displayName!==m.displayName){const e=await(async(e,t)=>{try{const{data:r,error:o}=await Bt.from("profiles").select("*").eq("id",e).single();if(o)return{success:!1,error:o};const{data:i,error:s}=await Bt.from("profiles").update({display_name:t}).eq("id",e);if(s)return{success:!1,error:s};try{const{error:r}=await Bt.rpc("admin_update_user_metadata",{user_id:e,metadata_key:"display_name",metadata_value:t})}catch(a){}const{data:n,error:l}=await Bt.from("profiles").select("*").eq("id",e).single();return l?{success:!1,error:l}:n.display_name!==t?{success:!1,error:new Error("Данные не обновились")}:{success:!0,data:n}}catch(r){return{success:!1,error:r}}})(m.id,y.displayName);if(!e.success)return I({type:"error",text:`Ошибка обновления: ${e.error.message}`}),void l(!1);s((e=>e.map((e=>e.id===m.id?{...e,displayName:y.displayName}:e)))),C(),I({type:"success",text:"Имя пользователя успешно обновлено!"})}if(JSON.stringify(y.perks)!==JSON.stringify(m.perks)){const r={perks:y.perks};y.perks.includes(m.activePerk)||(r.active_perk=y.perks[0]);try{const{error:a}=await Bt.from("profiles").update(r).eq("id",m.id);if(a)throw new Error(`Ошибка при обновлении привилегий: ${a.message}`);C(),e&&e.id===m.id&&t(),I({type:"success",text:"Привилегии пользователя успешно обновлены"})}catch(a){I({type:"error",text:a.message})}}y.displayName===m.displayName&&JSON.stringify(y.perks)===JSON.stringify(m.perks)&&I({type:"info",text:"Нет изменений для сохранения"}),setTimeout((()=>{f(!1),g(null),I(null)}),2e3)}finally{l(!1)}},children:[r.jsxs("div",{className:pa.formGroup,children:[r.jsxs("label",{htmlFor:"displayName",children:[r.jsx(p,{size:18})," Отображаемое имя:"]}),r.jsx("input",{type:"text",id:"displayName",name:"displayName",value:y.displayName,onChange:q,placeholder:"Введите имя пользователя"})]}),r.jsxs("div",{className:pa.formGroup,children:[r.jsxs("label",{htmlFor:"email",children:[r.jsx(d,{size:18})," Email:"]}),r.jsx("input",{type:"email",id:"email",name:"email",value:y.email,onChange:q,placeholder:"Введите email"})]}),r.jsxs("div",{className:pa.formGroup,children:[r.jsxs("label",{htmlFor:"password",children:[r.jsx(W,{size:18})," Пароль (оставьте пустым, чтобы не менять):"]}),r.jsx("input",{type:"password",id:"password",name:"password",value:y.password,onChange:q,placeholder:"Новый пароль"})]}),r.jsxs("div",{className:pa.formGroup,children:[r.jsxs("label",{children:[r.jsx(V,{size:18})," Привилегии:"]}),r.jsxs("div",{className:pa.perksOptions,children:[r.jsxs("div",{className:pa.perkOption,children:[r.jsx("input",{type:"checkbox",id:"perk-user",checked:y.perks.includes("user"),onChange:()=>B("user")}),r.jsx("label",{htmlFor:"perk-user",children:"Обычный пользователь"})]}),r.jsxs("div",{className:pa.perkOption,children:[r.jsx("input",{type:"checkbox",id:"perk-early_user",checked:y.perks.includes("early_user"),onChange:()=>B("early_user")}),r.jsx("label",{htmlFor:"perk-early_user",children:"Ранний пользователь"})]}),r.jsxs("div",{className:pa.perkOption,children:[r.jsx("input",{type:"checkbox",id:"perk-sponsor",checked:y.perks.includes("sponsor"),onChange:()=>B("sponsor")}),r.jsx("label",{htmlFor:"perk-sponsor",children:"Спонсор"})]}),r.jsxs("div",{className:pa.perkOption,children:[r.jsx("input",{type:"checkbox",id:"perk-admin",checked:y.perks.includes("admin"),onChange:()=>B("admin")}),r.jsx("label",{htmlFor:"perk-admin",children:"Администратор"})]})]})]}),r.jsxs("div",{className:pa.formActions,children:[r.jsxs("button",{type:"button",className:pa.cancelButton,onClick:()=>f(!1),children:[r.jsx(u,{size:18})," Отмена"]}),r.jsxs("button",{type:"submit",className:pa.saveButton,disabled:n,children:[n?r.jsx(v,{size:18}):r.jsx(Y,{size:18})," Сохранить"]})]})]}):r.jsx("div",{className:pa.noUserSelected,children:n?r.jsxs("div",{className:pa.loader,children:[r.jsx(v,{size:24})," Загрузка данных..."]}):r.jsxs("p",{children:[r.jsx(p,{size:64}),r.jsx("br",{}),"Выберите пользователя из списка слева, чтобы редактировать"]})})]})]})]}):null},ua={resetContainer:"_resetContainer_1iy2b_1",resetCard:"_resetCard_1iy2b_10",resetForm:"_resetForm_1iy2b_24",formGroup:"_formGroup_1iy2b_29",resetButton:"_resetButton_1iy2b_59",message:"_message_1iy2b_80",success:"_success_1iy2b_86",info:"_info_1iy2b_91",error:"_error_1iy2b_96"},xa=()=>{const[e,t]=i.useState(""),[a,o]=i.useState(""),[s,n]=i.useState(!1),[l,d]=i.useState(null),[c,_]=i.useState(""),p=x();return i.useEffect((()=>{const e=window.location.hash.substring(1).split("&").reduce(((e,t)=>{const[r,a]=t.split("=");return e[r]=a,e}),{});if(e.access_token){_(e.access_token);const t=async()=>{try{const{data:t,error:r}=await Bt.auth.setSession({access_token:e.access_token,refresh_token:e.refresh_token||""});d(r?{type:"error",text:"Ошибка при аутентификации: "+r.message}:{type:"info",text:"Введите новый пароль"})}catch(t){}};t()}else d({type:"error",text:"Ссылка недействительна. Запросите новую ссылку для сброса пароля."})}),[]),r.jsx("div",{className:ua.resetContainer,children:r.jsxs("div",{className:ua.resetCard,children:[r.jsx("h2",{children:"Сброс пароля"}),l&&r.jsx("div",{className:`${ua.message} ${ua[l.type]}`,children:l.text}),r.jsxs("form",{onSubmit:async t=>{if(t.preventDefault(),e===a)if(e.length<6)d({type:"error",text:"Пароль должен содержать не менее 6 символов"});else try{n(!0),d({type:"info",text:"Обновление пароля..."});const{data:t,error:r}=await Bt.auth.updateUser({password:e});if(r)throw r;await Bt.auth.signOut(),d({type:"success",text:"Пароль успешно обновлен! Переход на страницу входа..."}),setTimeout((()=>{p("/")}),3e3)}catch(r){d({type:"error",text:r.message||"Произошла ошибка при обновлении пароля"})}finally{n(!1)}else d({type:"error",text:"Пароли не совпадают"})},className:ua.resetForm,children:[r.jsxs("div",{className:ua.formGroup,children:[r.jsx("label",{htmlFor:"password",children:"Новый пароль"}),r.jsx("input",{type:"password",id:"password",value:e,onChange:e=>t(e.target.value),required:!0,disabled:s||!c})]}),r.jsxs("div",{className:ua.formGroup,children:[r.jsx("label",{htmlFor:"confirmPassword",children:"Подтвердите пароль"}),r.jsx("input",{type:"password",id:"confirmPassword",value:a,onChange:e=>o(e.target.value),required:!0,disabled:s||!c})]}),r.jsx("button",{type:"submit",className:ua.resetButton,disabled:s||!c,children:s?"Обновление...":"Обновить пароль"})]})]})})};function ga(){const{user:e}=Dt(),[t,a]=i.useState(!1);e&&("igoraor79@gmail.com"===e.email||e.perks?.includes("admin")||e.activePerk),i.useEffect((()=>{const e=e=>{const r=document.querySelector(`.${lt}`),o=document.querySelector(`.${it}`);t&&r&&o&&!r.contains(e.target)&&!o.contains(e.target)&&a(!1)};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}}),[t]);const o=J();i.useEffect((()=>{t&&a(!1)}),[o.pathname]);const s=()=>{a(!1)};return r.jsxs("div",{className:Xe,children:[r.jsxs("header",{className:Ze,children:[r.jsx(z,{to:"/",children:r.jsx(pt,{src:"./pics/logo/sclogo",alt:"Логотип"})}),r.jsx("h1",{className:et,children:"soul cycle"})]}),r.jsxs("nav",{className:tt,children:[r.jsxs("ul",{className:rt,children:[r.jsx("li",{className:at,children:r.jsx(z,{to:"/",children:"Главная"})}),r.jsx("li",{className:at,children:r.jsx(z,{to:"/characters",children:"Персонажи"})}),r.jsx("li",{className:at,children:r.jsx(z,{to:"/about",children:"О нас"})})]}),r.jsxs("div",{className:`${it} ${t?nt:""}`,onClick:e=>{e.stopPropagation(),a(!t)},children:[r.jsx("div",{className:st}),r.jsx("div",{className:st}),r.jsx("div",{className:st})]}),r.jsx("div",{className:`${lt} ${t?nt:""}`,children:r.jsxs("ul",{className:dt,children:[r.jsx("li",{className:ct,children:r.jsx(z,{to:"/",onClick:s,children:"Главная"})}),r.jsx("li",{className:ct,children:r.jsx(z,{to:"/characters",onClick:s,children:"Персонажи"})}),r.jsx("li",{className:ct,children:r.jsx(z,{to:"/about",onClick:s,children:"О нас"})})]})}),r.jsx("div",{className:ot,children:r.jsx(ur,{})})]}),r.jsx(ha,{})]})}function ha(){const e=J(),{user:t}=Dt();return t&&("igoraor79@gmail.com"===t.email||t.perks?.includes("admin")||t.activePerk),r.jsx(a,{mode:"wait",children:r.jsxs(X,{location:e,children:[r.jsx(Z,{path:"/",element:r.jsx(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:r.jsx("div",{className:_t,children:r.jsx(_a,{})})})}),r.jsx(Z,{path:"/characters",element:r.jsx(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:r.jsx(Be,{})})}),r.jsx(Z,{path:"/about",element:r.jsx(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:r.jsx(Je,{})})}),r.jsx(Z,{path:"/profile",element:r.jsx(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:r.jsx(wr,{})})}),r.jsx(Z,{path:"/profile/:userId",element:r.jsx(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:r.jsx(wr,{})})}),r.jsx(Z,{path:"/reset-password",element:r.jsx(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:r.jsx(xa,{})})}),r.jsx(Z,{path:"/admin",element:r.jsx(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:r.jsx(ma,{})})})]},e.pathname)})}const ba={v:"4.8.0",meta:{g:"LottieFiles AE 1.0.0",a:"Bas Milius",k:"Meteocons, Weather icons, Icon set",d:"Clear day - Meteocons.com",tc:""},fr:60,ip:0,op:360,w:512,h:512,nm:"clear-day",ddd:0,assets:[],layers:[{ddd:0,ind:1,ty:4,nm:"rays",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:0,s:[0]},{t:359,s:[45]}],ix:10},p:{a:0,k:[256,256,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[180,0],[130.345,0]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-130.345,0],[-180,0]],c:!1},ix:2},nm:"Path 2",mn:"ADBE Vector Shape - Group",hd:!1},{ind:2,ty:"sh",ix:3,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[127.279,127.279],[92.168,92.168]],c:!1},ix:2},nm:"Path 3",mn:"ADBE Vector Shape - Group",hd:!1},{ind:3,ty:"sh",ix:4,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-92.168,-92.168],[-127.279,-127.279]],c:!1},ix:2},nm:"Path 4",mn:"ADBE Vector Shape - Group",hd:!1},{ind:4,ty:"sh",ix:5,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-127.279,127.279],[-92.168,92.168]],c:!1},ix:2},nm:"Path 5",mn:"ADBE Vector Shape - Group",hd:!1},{ind:5,ty:"sh",ix:6,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[92.168,-92.168],[127.279,-127.279]],c:!1},ix:2},nm:"Path 6",mn:"ADBE Vector Shape - Group",hd:!1},{ind:6,ty:"sh",ix:7,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[0,180],[0,130.345]],c:!1},ix:2},nm:"Path 7",mn:"ADBE Vector Shape - Group",hd:!1},{ind:7,ty:"sh",ix:8,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[0,-130.345],[0,-180]],c:!1},ix:2},nm:"Path 8",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.984313726425,.749019622803,.141176477075,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:24,ix:5},lc:2,lj:1,ml:10,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1}],ip:0,op:360,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"core",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[256,256,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,-46.392],[46.392,0],[0,46.392],[-46.392,0]],o:[[0,46.392],[-46.392,0],[0,-46.392],[46.392,0]],v:[[84,0],[0,84],[-84,0],[0,-84]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.972549021244,.686274528503,.0941176489,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:6,ix:5},lc:1,lj:1,ml:10,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"gf",o:{a:0,k:100,ix:10},r:1,bm:0,g:{p:5,k:{a:0,k:[0,.984,.749,.141,.225,.984,.749,.141,.45,.984,.749,.141,.725,.973,.684,.092,1,.961,.62,.043],ix:9}},s:{a:0,k:[-41.517,-71.871],ix:5},e:{a:0,k:[42.497,73.645],ix:6},t:1,nm:"Gradient Fill 1",mn:"ADBE Vector Graphic - G-Fill",hd:!1}],ip:0,op:360,st:0,bm:0}],markers:[]},fa={v:"5.5.8",fr:29.9700012207031,ip:0,op:160.000006516934,w:150,h:150,nm:"icon_moon",ddd:0,assets:[],layers:[{ddd:0,ind:1,ty:4,nm:"moon Outlines",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[77.728,68.567,0],ix:2},a:{a:0,k:[583,600,0],ix:1},s:{a:0,k:[45,45,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,13.612],[-13.612,0],[0,0],[0,4.127],[-13.613,0],[0,0],[0,-13.612],[13.613,0],[0,0],[0,-4.127],[13.613,0]],o:[[-13.612,0],[0,-13.613],[0,0],[-1.971,-3.611],[0,-13.612],[0,0],[13.613,0],[0,13.614],[0,0],[1.971,3.611],[0,13.612],[0,0]],v:[[-57.605,42.935],[-82.292,18.248],[-57.605,-6.44],[-27.961,-6.44],[-30.971,-18.248],[-6.283,-42.935],[57.604,-42.935],[82.292,-18.248],[57.604,6.441],[27.961,6.441],[30.97,18.248],[6.282,42.935]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.733333349228,.96862745285,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[504.292,658.677],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformer "}],nm:"Group 5",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:0,s:[504.291,658.677],to:[-3.333,0],ti:[0,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:40,s:[484.291,658.677],to:[0,0],ti:[0,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:80,s:[504.291,658.677],to:[0,0],ti:[0,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:120,s:[484.291,658.677],to:[0,0],ti:[-3.333,0]},{t:160.000006516934,s:[504.291,658.677]}],ix:2},a:{a:0,k:[480.291,623.677],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformer "}],nm:"c1",np:1,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,7.3],[-7.3,0],[0,0],[0,-7.3],[7.299,0]],o:[[-7.3,0],[0,-7.3],[0,0],[7.299,0],[0,7.3],[0,0]],v:[[-49.017,13.239],[-62.255,.001],[-49.017,-13.238],[49.017,-13.238],[62.255,.001],[49.017,13.239]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.733333349228,.96862745285,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[608.408,572.45],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformer "}],nm:"Group 9",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:0,s:[608.408,572.45],to:[2.361,0],ti:[-5.079,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:33,s:[624.897,572.45],to:[2.092,0],ti:[0,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:40,s:[628.408,572.45],to:[0,0],ti:[0,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:80,s:[608.408,572.45],to:[0,0],ti:[0,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:120,s:[628.408,572.45],to:[0,0],ti:[3.333,0]},{t:160.000006516934,s:[608.408,572.45]}],ix:2},a:{a:0,k:[608.408,548.45],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformer "}],nm:"c2",np:1,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[23.394,0],[0,61.75],[-15.662,19.738],[-24.17,5.763],[2.294,-4.352],[0,-15.361],[-51.493,0],[-11.283,4.614],[1.603,-4.652],[19.108,-13.726]],o:[[-61.75,0],[0,-25.147],[15.552,-19.598],[4.785,-1.142],[-7.101,13.467],[0,51.492],[12.2,0],[4.556,-1.863],[-7.555,21.932],[-19.251,13.829]],v:[[2.221,111.03],[-109.767,-.958],[-85.479,-70.561],[-23.882,-109.888],[-17.49,-101.649],[-28.191,-58.205],[65.193,35.178],[100.583,28.225],[108.163,35.387],[67.407,89.892]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,.831372559071,.352941185236,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[599.388,602.031],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformer "}],nm:"banana",np:2,cix:2,bm:0,ix:3,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,6.708],[-6.708,0],[0,0],[0,0],[1.729,-4.168],[0,0]],o:[[-6.708,0],[0,-6.708],[0,0],[0,0],[-2.247,3.961],[0,0],[0,0]],v:[[-13.228,12.165],[-25.393,0],[-13.228,-12.165],[25.393,-12.165],[20.546,-3.616],[14.555,8.634],[13.089,12.165]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.733333349228,.96862745285,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:0,s:[474.245,549.909],to:[3.333,0],ti:[0,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:40,s:[494.245,549.909],to:[0,0],ti:[0,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:80,s:[474.245,549.909],to:[0,0],ti:[0,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:120,s:[494.245,549.909],to:[0,0],ti:[3.333,0]},{t:160.000006516934,s:[474.245,549.909]}],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformer "}],nm:"Group 14",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[484.245,549.909],ix:2},a:{a:0,k:[475.245,549.909],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformer "}],nm:"c3",np:1,cix:2,bm:0,ix:4,mn:"ADBE Vector Group",hd:!1}],ip:0,op:1798.00007323404,st:0,bm:0}],markers:[]},ya={themeButton:"_themeButton_x78qx_1"},va=s.memo((()=>{const{theme:e,toggleTheme:t}=i.useContext(fe),[a,o]=i.useState(!1),s=i.useMemo((()=>({animationData:"dark"===e?ba:fa,loop:!0,autoplay:!0})),[e]),n=i.useCallback((()=>{a||(t(),o(!0),setTimeout((()=>{o(!1)}),3e3))}),[a,t]);return r.jsx("button",{className:`${ya.themeButton} ${a?ya.disabled:""}`,onClick:n,disabled:a,"aria-label":"dark"===e?"Switch to Light Mode":"Switch to Dark Mode",children:r.jsx(Q,{config:s,speed:1,style:{width:"35px",height:"35px",display:"block"}})})}));function ka(){return r.jsx(K,{children:r.jsxs("div",{className:t,children:[r.jsx(va,{}),r.jsx(ga,{})]})})}va.displayName="ThemeToggleButton",ee.createRoot(document.getElementById("root")).render(r.jsxs(ve,{children:[" ",r.jsxs(Mt,{children:[" ",r.jsx(ka,{})]})]}))}}}));
