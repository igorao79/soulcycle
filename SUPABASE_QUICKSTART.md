# Быстрая настройка Supabase для проекта SoulCycle

## Шаг 1: Создание таблиц в Supabase

1. **Войдите в панель управления Supabase**
2. **Перейдите в раздел "SQL Editor"**
3. **Создайте новый запрос и вставьте содержимое файла `supabase_simplified.sql`**
4. **Нажмите "Run" для выполнения SQL-скрипта**

Эта версия создаст упрощенные таблицы без сложных отношений, чтобы быстро начать работу.

## Шаг 2: Проверка созданных таблиц и политик

Выполните следующие запросы для проверки:

```sql
-- Проверка созданных таблиц
SELECT table_name 
FROM information_schema.tables 
WHERE table_schema = 'public';

-- Проверка политик безопасности
SELECT * FROM pg_policies 
WHERE schemaname = 'public';
```

## Шаг 3: Тестирование базовых запросов

Убедитесь, что таблицы работают корректно, создав тестовый пост:

```sql
-- Вставка тестового поста
INSERT INTO posts (content, user_id) 
VALUES ('Тестовый пост', 'ваш-user-id-из-auth')
RETURNING *;
```

## Шаг 4: Настройка приложения

1. **Перейдите в настройки проекта Supabase**:
   - Project Settings -> API

2. **Скопируйте следующие значения**:
   - URL проекта
   - Anon public key

3. **Обновите файл `src/services/supabaseClient.js` с этими значениями**

## Шаг 5: Запуск и тестирование

1. **Запустите ваше приложение**:
   ```
   npm run dev
   ```

2. **Зарегистрируйте пользователя** и попробуйте создать пост

## Устранение неполадок

### Если таблицы не создаются:

Проверьте права вашего пользователя в Supabase.

### Если вы получаете ошибки доступа:

Проверьте настройки Row Level Security и убедитесь, что у пользователя есть необходимые права доступа.

### Если данные не сохраняются:

Убедитесь, что вы используете правильный UUID пользователя из auth.users таблицы.

## Дополнительные ресурсы

- [Документация Supabase](https://supabase.io/docs)
- [Примеры Row Level Security](https://supabase.io/docs/guides/auth/row-level-security)
- [Работа с Foreign Keys](https://supabase.io/docs/guides/database/foreign-keys)

С этими простыми шагами ваше приложение должно начать работать с Supabase! 